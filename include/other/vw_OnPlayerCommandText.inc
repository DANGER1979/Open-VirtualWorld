//##############################################################################//
//#                                                                            #//
//#                    ПОЛЬЗОВАТЕЛЬСКИЕ КОНСОЛЬНЫЕ КОМАНДЫ                     #//
//#                                                                            #//
//##############################################################################//
public OnPlayerCommandText(playerid, cmdtext[])//Выполняется при введении игроком команды.
//playerid	ID пославшего команду игрока.
//cmdtext[]	Текст команды.
{
	//--------------------------------------------------------------------------
	if(!IsPlayerConnected(playerid)) { Kick(playerid); return 1; }
	if(playerid < 0 || playerid >= MAX_PLAYERS) { Kick(playerid); return 1; }
	if(IsPlayerNPC(playerid)) { return 1; }

	/*if(!strcmp(cmdtext, "/spawncars_all", true))
	{
	    new str[35+24+3];
		format(str, sizeof(str), "AdmWarning: %s[%d] читерит 'Респавн'", PlayerName(playerid), playerid);
		Log(CHEAT,str);
		SendAllAdminMessage(COLOR_MAROON, str, 3);
		////Kick(playerid);//используется очень очень часто
		return 1;
	}*/
	if( strfind(cmdtext, "~", true) != -1 )
	{
		SendClientMessage(playerid, COLOR_GREY, "   Ошибка при вводе параметров !");
		return 1;
	}

	new timers = GetTickCount();
	// Is the player flooding?
	if(ANTIFLOOD == 1 && PlayerInfo[playerid][pAdmin] != 9 && !IsPlayerAdmin(playerid))//для антифлуда начало ANTIFLOOD=0;
	{
		//if((GetTickCount()-iPlayerChatTime[playerid]) < 2000)
		if((GetTickCount() - GetPVarInt(playerid, "ChatTime")) < 2000)
		{
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы можете использовать команду только раз в две секунды.");
		    return 1;//- 1, полное обрывание события.
		}

    }//флуд конец
 	if( GetPVarInt(playerid, "gShowDialog") != -1 )
	{
		SendClientMessage(playerid, COLOR_GREY, "   Нельзя находясь в диалоге вводить команды !");
		return 1;
	}
	//--------------------------------------------------------------------------
	new strcmd[MAX_STRING], tmp[MAX_STRING], gMessage[MAX_STRING];
	new cmd[20], idx, giveplayerid;
	cmd = strtok(cmdtext, idx);//Возвращает  аргумент номер которого указан в переменной &index
	if( !strcmp(cmd, "/loginbot", true, strlen("/loginbot")) )
	{
		tmp = strtok(cmdtext, idx);
		HideDialog(playerid);
		OnPlayerLogin(playerid, tmp);
		new RandomIP[25][16] = {
//Украина :
"93.73.94.88",
"46.119.155.237",
"89.185.21.28",
"92.112.7.204",
"188.115.175.160",
/*"213.231.52.136",
"31.31.124.234",
"91.229.216.13",
"176.121.195.131",
"193.104.85.214",*/
//Россия:
"178.184.51.113",
"95.153.165.213",
"5.166.191.58",
"212.232.53.75",
"78.25.123.34",
"178.212.176.154",
"5.167.117.206",
"91.236.15.52",
"94.77.180.152",
"46.146.18.57",
//Беларусь :
"37.212.58.221",
"93.85.192.108",
"178.123.66.107",
"178.122.130.70",
"77.67.204.215",
"37.44.80.238",
"37.212.224.255",
"93.84.16.43",
"178.125.51.60",
"178.127.135.84"
};
		new rand = random(25);
		strmid(PlayerInfo[playerid][pIP], RandomIP[rand], 0, 16, 16);
		PlayerInfo[playerid][pAccount] = 365;
		if(PlayerInfo[playerid][pJob] == 0) PlayerInfo[playerid][pJob] = random(20);
		PlayerInfo[playerid][pCash] += 470;
		PlayerInfo[playerid][pBank] += 1020;
		PlayerInfo[playerid][pConnectTime] += 1;
		return 1;
	}
	if(gPlayerLogged[playerid] == 0 && PlayerInfo[playerid][pAdmin] != 9 && strcmp(cmd, "/loginbot", true, strlen("/loginbot")) )
	{   //если игрок не залогинился и не зарегистрировался
    	//SendClientMessage(playerid, COLOR_RED, "CEPBEP: Извините, но этот сервер требует залогиниться перед тем как войти в игру! (Kicked)");
		format(strcmd, sizeof(strcmd), "CEPBEP: %s был кикнут, причина: no login before OnPlayerCommandText", PlayerName(playerid));
		SendClientMessage(playerid, COLOR_RED, strcmd);
		IsKicked[playerid] = 1;
		return 1;
 	}
	if(	gPlayerSpawned[playerid] == 0 && PlayerInfo[playerid][pAdmin] != 9 &&
		!gInTerrorsCount[playerid] && !gInCTerrorsCount[playerid] && strcmp(cmd, "/loginbot", true, strlen("/loginbot")) )
	{
    	SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Извините, но этот сервер требует заспауниться!");
		return 1;
 	}
//Получаем строку чата, разибваем её ДО первого пробела И записываем в переменную cmd значение до пробела
	if(!strcmp(cmd, "/0", true))
	{
		if(GetPVarInt(playerid, "gChatSwitcher") == Off) return 1;
		if(PlayerInfo[playerid][pMuted] <= GetTickCount())
		{

			gMessage = strrest(cmdtext, idx);
			format(strcmd, sizeof(strcmd), "%s[%d]: %s", PlayerName(playerid), playerid, AntiSweer(playerid, gMessage));
			//OOC(playerid, 60.0, strcmd, COLOR_GRAD6,COLOR_GRAD5,COLOR_GRAD4,COLOR_GRAD3,COLOR_GRAD2);
			for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				if( !IsPlayerConnectedEx(i) ) continue;
				if(IsPlayerInRangeOfPlayer(chat_radius, i, playerid))
				{
					SendClientMessage(i, GetPlayerColor(playerid), strcmd);
				}
			}
		}
		else
		{
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы не можете говорить, Вы заглушены !");
			//return 1;//чтобы работал переключение
		}
		format(strcmd, sizeof(strcmd), "$%08d", PlayerInfo[playerid][pBank]);
		PlayerTextDrawSetStringEx(playerid, txdBankDisp[playerid], strcmd);

		SetPVarInt(playerid, "gChatSwitcher", Off);
		GameTextForPlayerEx(playerid, "~w~                Real Chat~n~~r~                On", 5000, 6);
		PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		return 1;
	}
	if(!strcmp(cmd, "/clearchat", true) || !strcmp(cmd, "/cc", true))
	{
        if(	PlayerInfo[playerid][pAdmin] == 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) ) continue;
           	for(new c = 0; c != 32; c++) SendClientMessage(i, -1, " ");
		}
		return 1;
	}
	if(!strcmp(cmd, "/MySQLdebug", true))
	{
        if(	PlayerInfo[playerid][pAdmin] != 6 &&
			PlayerInfo[playerid][pAdmin] != 7 &&
			PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		if(MySQL_DeBug == 0)
		{
			MySQL_DeBug = 1;
			mysql_debug(MySQL_DeBug);//лог ошибочек
			SendClientMessage(playerid, COLOR_GREY, "   mysql_debug включен !");
		}
		else
		{
			MySQL_DeBug = 0;
			mysql_debug(MySQL_DeBug);//лог ошибочек
			SendClientMessage(playerid, COLOR_GREY, "   mysql_debug выключен !");
		}
		return 1;
	}
	if(!strcmp(cmd, "/debug", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 5)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /debug [value]");
			return 1;
		}
		Min_LAGS = strval(tmp);
		if(Min_LAGS == 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Оптимизация выключена !");
		}
		else
		{
			SendClientMessage(playerid, COLOR_GREY, "   Оптимизация включена !");
		}
		return 1;
	}
	if(AFK_IdleTime[playerid] >= 3 && PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 9 &&
		!gLoading[playerid] && !gUnLoading[playerid])
	{
   		SendClientMessage(playerid, COLOR_GREY, "   Извините, но этот сервер требует выйти из AFK !");
		return 1;
	}
	//==========================================================================
	//HELP COMMANDS
	//==========================================================================
	if(!strcmp(cmd, "/loadfs", true))
	{
        if( PlayerInfo[playerid][pAdmin] < 4)
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /loadfs [filterscript_name] (vw_editor, vw_cam)");
			return 1;
		}
		if(strcmp(tmp, "vw_editor", true) && strcmp(tmp, "vw_cam", true) && PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /loadfs [filterscript_name] (vw_editor, vw_cam)");
			return 1;
		}
		format(strcmd, sizeof(strcmd), "loadfs %s", tmp);
		SendRconCommand(strcmd);

		format(strcmd, sizeof(strcmd), "  Filterscript '%s.amx' loaded %s's.", tmp, PlayerName(playerid));
		Log(ADMINLOG, strcmd);
		SendClientMessage(playerid, COLOR_WHITE, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/unloadfs", true))
	{
        if( PlayerInfo[playerid][pAdmin] < 4)
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /unloadfs [filterscript_name] (vw_editor, vw_cam)");
			return 1;
		}
		format(strcmd, sizeof(strcmd), "unloadfs %s", tmp);
		SendRconCommand(strcmd);

		format(strcmd, sizeof(strcmd), "  Filterscript '%s.amx' unloaded %s's.", tmp, PlayerName(playerid));
		Log(ADMINLOG, strcmd);
		SendClientMessage(playerid, COLOR_WHITE, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/reloadfs", true))
	{
        if( PlayerInfo[playerid][pAdmin] < 6)
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /reloadfs [filterscript_name]");
			return 1;
		}
		if(strcmp(tmp, "vw_editor", true) && strcmp(tmp, "vw_cam", true) && PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /reloadfs [filterscript_name] (vw_editor, vw_cam)");
			return 1;
		}
		format(strcmd, sizeof(strcmd), "reloadfs %s", tmp);
		SendRconCommand(strcmd);

		format(strcmd, sizeof(strcmd), "  Filterscript '%s.amx' unloaded.", tmp);
		SendClientMessage(playerid, COLOR_WHITE, strcmd);
		format(strcmd, sizeof(strcmd), "  Filterscript '%s.amx' loaded.", tmp);
		SendClientMessage(playerid, COLOR_WHITE, strcmd);
		format(strcmd, sizeof(strcmd), "  Filterscript '%s.amx' reloaded %s's.", tmp, PlayerName(playerid));
		Log(ADMINLOG, strcmd);
		//return 1;
	}


	/*else if(!strcmp(cmd, "/myinfo", true))//для гео
	{
		new City[64],Country[64], strtmp[128];
		GetPlayerCity(playerid, City);
		GetPlayerCountry(playerid, Country);
		format(strtmp, sizeof(strtmp), "Ваше местоположение: Страна [%s] Город [%s]", Country, City);
		SendClientMessage(playerid, 0xFFFFFFAA, strtmp);
		//return 1;
	}*/
    else if(!strcmp(cmd, "/net", true))
    {
		if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        //new stats[418+1];
        //GetNetworkStats(stats, sizeof(stats)); // get the servers networkstats
        //ShowPlayerDialogEx1(playerid, DIALOG100, DIALOG_STYLE_MSGBOX, "Server Network Stats", stats, "Close", "");

        NetList(playerid);
 		//return 1;
    }
    else if(!strcmp(cmd, "/netstats", true))
    {
		if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /netstats [playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
        new szString[418 + 144*9+1];
        GetPlayerNetworkStats(giveplayerid, szString, sizeof(szString)); // get your own networkstats
		//----------------------------------------------------------------------
		new File: file;
		new filename[32];
		format(filename, sizeof(filename), "%s.net", PlayerName(giveplayerid));
		file = fopen(filename, io_write);
	    for(new c=0; c<strlen(szString); c++)
		{
	        fputchar(file, szString[c], false);
	    }
		fclose(file);
		//----------------------------------------------------------------------
/*
Network Active: 1
Network State: 8
Messages in Send buffer: 0
Messages sent: 11505
Bytes sent: 392525
Acks sent: 127
Acks in send buffer: 0
Messages waiting for ack: 0
Messages resent: 22
Bytes resent: 1236
Packetloss: 0.3%
Messages received: 9916
Bytes received: 664506
Acks received: 0
Duplicate acks received: 6
Inst. KBits per second: 144.0
KBits per second sent: 8.1
KBits per second received: 6.9
*/
/*
        //new szString[144];Network State: 8
        format(szString, sizeof(szString), "%s\nYour current connection status: %i.", szString, NetStats_ConnectionStatus(giveplayerid));
        //SendClientMessage(playerid, -1, szString);

        //new szString[144];Messages sent: 11505
        format(szString, sizeof(szString), "%s\nYou have recieved %i network messages.", szString, NetStats_MessagesSent(giveplayerid));
        //SendClientMessage(playerid, -1, szString);

        //new szString[144]; Bytes sent: 392525
        format(szString, sizeof(szString), "%s\nYou have received %i bytes of information from the server.", szString, NetStats_BytesSent(giveplayerid));
        //SendClientMessage(playerid, -1, szString);

        //new szString[144];Packetloss: 0.3%
        format(szString, sizeof(szString), "%s\nPackets lost: %.2f percent.", szString, NetStats_PacketLossPercent(giveplayerid));
        //SendClientMessage(playerid, -1, szString);

        //new szString[144];Messages received: 9916
        format(szString, sizeof(szString), "%s\nYou have sent %i network messages.", szString, NetStats_MessagesReceived(giveplayerid));
        //SendClientMessage(playerid, -1, szString);

        //new szString[144];Bytes received: 664506
        format(szString, sizeof(szString), "%s\nYou have sent %i bytes of information to the server.", szString, NetStats_BytesReceived(giveplayerid));
        //SendClientMessage(playerid, -1, szString);

        //new szString[144];KBits per second sent: 8.1
        format(szString, sizeof(szString), "%s\nYou have sent %i network messages in the last second.", szString, NetStats_MessagesRecvPerSecond(giveplayerid));
        //SendClientMessage(playerid, -1, szString);
*/
        new dest[24];
        NetStats_GetIpPort(playerid, dest, sizeof(dest));
        //new szString[144];
        format(szString, sizeof(szString), "%s\nYour current IP and port: %s.", szString, dest);
        //SendClientMessage(playerid, -1, szString);

        //new szString[144];
        format(szString, sizeof(szString), "%s\nYou have been connected for %i milliseconds.", szString, NetStats_GetConnectedTime(giveplayerid));
        SendClientMessage(playerid, -1, szString);
		//----------------------------------------------------------------------
        new caption[20+24+3];
        format(caption, sizeof(caption), "NetworkStats %s[%d]", PlayerName(giveplayerid), giveplayerid);
        ShowPlayerDialogEx1(playerid, DIALOG100, DIALOG_STYLE_MSGBOX, caption, szString, "OK", "");
		//return 1;
    }
	//для динамических циклов
	else if(!strcmp(cmd, "/streaminfo", true))
	{
	    if(PlayerInfo[playerid][pAdmin] < 6)
	    {
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
	        return 1;
	    }
	    new index;
		new dlgitem[1340];//20*(54+3+3+3+1+3)
		for(new j = 0; j != -1; j = StreamedVehicle[playerid][j])
		{	//каждая ячейка массива должна быть ссылкой на индекс следующей ячейки
			if(StreamedVehicle[playerid][j] == -1) continue;
			if(index > 20) break;
			//format(strcmd, sizeof(strcmd), "StreamVeh[pl:%d][idx:%d]: %d (start: %d, count: %d)\n", playerid, j, StreamedVehicle[playerid][j], StreamVehStart[playerid], StreamVehCount[playerid]);
			format(strcmd, sizeof(strcmd), "StreamVeh[pl:%d][idx:%d]: %d (count: %d)\n", playerid, j, StreamedVehicle[playerid][j], StreamVehCount[playerid]);
			strins(dlgitem, strcmd, strlen(dlgitem));
			//printf("array[%d][%d]: %d, start: %d, count: %d", i, vid, StreamedVehicle[i][vid], start, count);
			index ++;
		}
		if(strlen(dlgitem) >= sizeof(dlgitem) || strlen(dlgitem) <= 0)
		{
			//ИНФОРМИРОВАНИЕ
			format(strcmd, sizeof(strcmd), "Error21: StreamedVehicle %s[%d], strlen(listitems): %d, sizeof(listitems): %d",
				PlayerName(playerid), playerid, strlen(dlgitem), sizeof(dlgitem));
			SendAllAdminMessage(COLOR_RED, strcmd, 6);
			//Log(ERROR, strings);
			return 1;
		}
		ShowPlayerDialogEx1(playerid, DIALOG100, DIALOG_STYLE_MSGBOX, "INFO: StreamedVehicle", dlgitem, "OK", "");
		//Itter_ShowArray(StreamVehStart[playerid], StreamedVehicle[playerid], MAX_STREAMEDCARS);
		//return 1;
	}

	else if(!strcmp(cmd, "/ahelp", true) || !strcmp(cmd, "/ah", true))
	{
		if(PlayerInfo[playerid][pAdmin] <= 0 || PlayerInfo[playerid][pAdmin] > 10)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
		SendClientMessage(playerid, COLOR_GREEN, "_______________________________________");
		SendClientMessage(playerid, COLOR_GRAD11,		"SETTINGS: /onfoot_rate /incar_rate /weapon_rate /stream_distance /stream_rate ");
		SendClientMessage(playerid, COLOR_GRAD11,		"SETTINGS: /cbugtime /floodlimit /clock /namedistance /logs /carspawn /maxping /maxesc /weathchange /afk /hunger /checkprop /idlekick ");///votemode
		SendClientMessage(playerid, COLOR_GRAD10,		"SETTINGS: /antiflood /antisweer /anticheat /antiteleport /antimoney /antihealth /antispeedhack /antivehhealth /antiunfreeze /antigodmod /antigun");
		SendClientMessage(playerid, COLOR_GRAD9,		"SETTINGS(ADMIN >= *6*): /antidb /antibh /antidm");
		SendClientMessage(playerid, COLOR_GRAD8,		"ALL ADMIN: /fix /slap /skydive /noooc /ip /id /tab");
		if(PlayerInfo[playerid][pAdmin] == 1)
		{
			SendClientMessage(playerid, COLOR_GRAD8,	"*1* Helper: /hq /check /kick /recon /uncon /mute");
		}
		else if(PlayerInfo[playerid][pAdmin] == 2)
		{
		    SendClientMessage(playerid, COLOR_GRAD8,	"*2* GangManager: /makeleader /kick /mute /giveturf /warn /ztime /fix");
		    //SendClientMessage(playerid, COLOR_GRAD4,	"*2* GangManager: ");//(/spgz)SetPlayerGangZone
		}
		else if(PlayerInfo[playerid][pAdmin] == 3)
		{
			SendClientMessage(playerid, COLOR_GRAD8,	"*3* Moderator: /recon /uncon /setvehhp /jail /prison /kick /warn /ban /mute /virtual /netstats /net /bigears");
		}
		else if(PlayerInfo[playerid][pAdmin] == 4)
		{
		    SendClientMessage(playerid, COLOR_GRAD8,	"*4* EventMaster: /fourdive /cnn /cnnn /mark /gotomark /tod /weatherall /goto /gethere /gotoin /gotostad /gotojet /sethp");
		    SendClientMessage(playerid, COLOR_GRAD7,	"*4* EventMaster: /loadtrailer /veh /vehlist /entercar /gotocar /getcar /fixveh /qtime /approve /stoprace /changeskin");
		    SendClientMessage(playerid, COLOR_GRAD6,	"*4* EventMaster: /freeze /freezall /unfreezall /setallhp /setarmor /giveweapon /dropweapon /allsetgun /takeall /mute /rb");
		    SendClientMessage(playerid, COLOR_GRAD5,	"*4* EventMaster: /createevent /finishcevent /finishdmevent /startevent /join");
			SendClientMessage(playerid, COLOR_GRAD4,	"*4* EventMaster: /loadfs vw_events - создание ивентов /loadfs vw_editor - создание объектов ");///loadfs vw_firstlook - вид от первого лица
			SendClientMessage(playerid, COLOR_GRAD3,	"*4* EventMaster: /loadfs - загрузить скрипт /unloadfs - выгрузить /reloadfs - перезагрузить");
		}
		else if(PlayerInfo[playerid][pAdmin] == 5)
		{
		    SendClientMessage(playerid, COLOR_GRAD8,	"*5* GameAdmin: /recon /uncon /unban /makeleader /mute /jail /prison /warn /virtual /forceskin /victorina");///makeadmin
		    SendClientMessage(playerid, COLOR_GRAD7,	"*5* GameAdmin: /NPCrestart /respawncars /restart /kick /openderbi /openkickstart /kinfo");// /goto /gethere /plremove
		    SendClientMessage(playerid, COLOR_GRAD6,	"*5* GameAdmin: /logout /logoutall /open /mark /gotomark /changeskin /makeircadmin /setcrim (/rr)repairroad(0=OFF) /weatherall");
		    SendClientMessage(playerid, COLOR_GRAD5,	"*5* GameAdmin: /gotols /gotosf /gotolv /freeze /fuelallcars (/sfm)SetFamilyMembers");// /fuelcars
			SendClientMessage(playerid, COLOR_GRAD4,	"*5* GameAdmin: /loadfs - загрузить скрипт /unloadfs - выгрузить /reloadfs - перезагрузить");
			SendClientMessage(playerid, COLOR_GRAD3,	"*5* GameAdmin: /loadfs events - создание ивентов /loadfs vw_editor - создание объектов ");///loadfs vw_firstlook - вид от первого лица
			// /loadfs vw_ballon - воздушный шар
		}
		else if(PlayerInfo[playerid][pAdmin] == 6)
		{
			SendClientMessage(playerid, COLOR_GRAD8,	"*6* DeBugger: /restart /NPCrestart /checking /checkfunction /checkweapon /checkparking /debug /MySQLdebug /logoutall");
			SendClientMessage(playerid, COLOR_GRAD8,	"*6*: /recon /uncon /kick /mute /setint /virtual /gethere /edit /freeze /changeskin /dropweapon /jail /prison");
			SendClientMessage(playerid, COLOR_GRAD7,	"*6*: /getdist /goto /mark /gotomark /house /houseo /biz /sbiz /fw /bk /dn /up /lt /rt /tp (/rr)repairroad(0=OFF) (/dst)/destroystrip");
			SendClientMessage(playerid, COLOR_GRAD7,	"*6*: /setjob /veh /vehiclecolor /vehlist /entercar /gotocar /getcar /savecar /aparking /removecar");//switch
			SendClientMessage(playerid, COLOR_GRAD6,	"*6*: /loadfs /unloadfs /reloadfs /openderbi /openkickstart /kinfo /open /weather /duty /netstats /net /removeclan");
			SendClientMessage(playerid, COLOR_GRAD5,	"*6*: /fixveh /fuelcars /fuelallcars /respawncars /setmaterial /resetneed /givematerial /givedrugs /givemoney /giveweapon");
			SendClientMessage(playerid, COLOR_GRAD4,	"*6*: (/SOP)/SetObjectPos (/SPP)/SetPlayerPos (/GPP)/GetPlayerPos (/GVP)/GetVehiclePos (/GCV)/GetCarVelocity (/GMV)/GetMyVelocity");
			SendClientMessage(playerid, COLOR_GRAD3,	"*6*: /logout /tod /tun /forceskin /sethp /showtag /checklimit /cargoship /startship /stopship");

		}
		else if(PlayerInfo[playerid][pAdmin] == 7)
		{
			SendClientMessage(playerid, COLOR_GRAD8,	"*7* Judge: /recon /uncon /mute /warn /losewarn /kick /ban /unban /banip /unbanip /open /plremove /plrestore /makeircadmin /vote /checklimit");
			SendClientMessage(playerid, COLOR_GRAD7,	"*7* Judge: /logout /logoutall /restart /closeserver /realwar /edit (/sfb)SetFamilyBank /registration /setjob /checkneed /togneed /resetneed");
			SendClientMessage(playerid, COLOR_GRAD6,	"*7* Judge: /makeadmin /makeleader /setstat /setmoney /givemoney /setmaterial /givematerial /take /jail /prison /SPP /SOP /weatherall");
			SendClientMessage(playerid, COLOR_GRAD5,	"*7* Judge: /tp /gethere /goto /house /houseo /biz /sbiz /asellhouse /asellbiz /asellsbiz /checkfunction /CheckOnline /setcrim");
			SendClientMessage(playerid, COLOR_GRAD5,	"*7* Judge: /veh /vehiclecolor /vehlist /sethp /savecar /aparking /weapskill /giveweapon /MySQLdebug /reminder /setfamily /fuelcars");
			SendClientMessage(playerid, COLOR_GRAD4,	"*7* Judge: /loadfs /unloadfs /reloadfs /openderbi /openkickstart /kinfo /netstats /net /compcost /removeclan /respawncars /changeskin");
			SendClientMessage(playerid, COLOR_GRAD4,	"*7* Judge: /addcar /bigears /changename");
		}
		else if(PlayerInfo[playerid][pAdmin] == 8)
		{
			SendClientMessage(playerid, COLOR_GRAD8,	"*8* Developer: /tp /fw /bk /dn /up /lt /rt /gethere /checklimit");
			SendClientMessage(playerid, COLOR_GRAD8,	"*8* Developer: /makeleader /setjob /givemoney /fixveh /fuelcar");
			SendClientMessage(playerid, COLOR_GRAD7,	"*8* Developer: /open /opencasino /casino /vehiclecolor /veh /vehlist /checkfunction");/// icq
			SendClientMessage(playerid, COLOR_GRAD7,	"*8* Developer: /hq /recon /uncon /kick /freeze /mute (/PCRFP)PlayCrimeReportForPlayer ");//(/AA)ApplyAnimation
			SendClientMessage(playerid, COLOR_GRAD6,	"*8* Developer: (/SOP)/SetObjectPos (/SPP)/SetPlayerPos (/GPP)/GetPlayerPos (/GVP)/GetVehiclePos (/GCV)/GetCarVelocity (/GMV)/GetMyVelocity");
			SendClientMessage(playerid, COLOR_GRAD6,	"*8* Developer: /animation /CreateExplosion /trailer /checkweapon /cameramode /health /keystate /skinshop /checksize /checking");
			SendClientMessage(playerid, COLOR_GRAD5,	"*8* Developer: /ShopName /spin /setweapon /giveweapon /dropweapon /marker /pvarlist /openderbi /removeclan");
			SendClientMessage(playerid, COLOR_GRAD4,	"*5* GameAdmin: /loadfs - загрузить скрипт /unloadfs - выгрузить /reloadfs - перезагрузить");
			SendClientMessage(playerid, COLOR_GRAD3,	"*5* GameAdmin: /loadfs events - создание ивентов /loadfs vw_editor - создание объектов");///loadfs vw_firstlook - вид от первого лица
		}
		else if(PlayerInfo[playerid][pAdmin] == 9)
		{
			SendClientMessage(playerid, COLOR_GRAD8,	"*9* Сreator: /opencompany /closecompany /santa /debug /MySQLdebug /speedometer /slist /checkserial /givematerial /myinfo");
			SendClientMessage(playerid, COLOR_GRAD7,	"*9* Сreator: /qban /banip /unbanip /edit /gravity /hirecar /stopani /sethp /fly /GangZoneCreate /setfamilymoney /attach /addcar");
			SendClientMessage(playerid, COLOR_GRAD6,	"*9* Сreator: /ClearWanted /jackpot /changetax /weapskill /fightstyle /NYcorrection /setjob /setstat /togneed /nameoff /loadtrailer");
			SendClientMessage(playerid, COLOR_GRAD5,	"*9* Сreator: /resetturf /raspredturf /updateanticheat /setteam /setallteam /removeclan /flymode /tutreset /reminderall /changename");
			//SendClientMessage(playerid, COLOR_GRAD6,	"*9* Сreator: /addinbase /security /store /restore /ApplyAnimation /savesettings /savehouses /savebizz /savesbizz /savefamilies /savecars");

		}
		else if(PlayerInfo[playerid][pAdmin] == 10)
		{
			SendClientMessage(playerid, COLOR_GRAD8,	"*10* Invisible: /fly /stopani");//	/GangZoneShow
		}
		SendClientMessage(playerid, COLOR_GREEN, "_______________________________________");
		//return 1;
	}

	else if(!strcmp(cmd, "/question", true))
	{
		if(PlayerInfo[playerid][pMuted] > GetTickCount())
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете говорить, Вы заглушены!");
			return 1;
		}
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /question [text]");
			return 1;
		}
		new found = -1;
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) ) continue;
			if(PlayerInfo[i][pAdmin] != 1) continue;
			found = i;
			break;
		}
		if(found == -1)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "   На данный момент хелперы отсутствуют на сервере.");
			return 1;
		}

		format(strcmd, sizeof(strcmd), "Question from %s[%d]: %s", PlayerName(playerid), playerid, gMessage);
		ABroadCast(COLOR_RED, strcmd, 1);
		SendClientMessage(playerid, COLOR_YELLOW, strcmd);//"Ваш вопрос был отправлен Хелперам.");
	    //return 1;
	}
//##############################################################################//
//                                                                              //
//                                 АДМИН КОМАНДЫ                                //
//                                                                              //
//##############################################################################//
	//==========================================================================
	//ADMIN COMMANDS CHAT
	//==========================================================================

	else if(!strcmp(cmd, "/hq", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 1)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /hq [hq text]");
			return 1;
		}
		SendHQMessage(playerid, gMessage);
		PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		//return 1;
	}
	/*else if(!strcmp(cmd, "/icq", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 1)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /icq [message (без пробелов)]");
			return 1;
		}
		//format(strcmd, sizeof(strcmd), "%d Admin %s: %s", PlayerInfo[playerid][pAdmin], PlayerName(playerid), gMessage);
		SendMessageToICQ(playerid, gMessage);
		SendClientMessage(playerid, COLOR_GREY, "   Сообщение отправлено !");
		//return 1;
	}*/
	else if(!strcmp(cmd, "/cnn", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }

		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /cnn [cnn textformat ~n~=Newline ~r~=Red ~g~=Green ~b~=Blue ~w~=White ~y~=Yellow]");
			return 1;
		}
		if(strlen(gMessage) > MAX_STRING-13-24)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /cnn [cnn textformat ~n~=Newline ~r~=Red ~g~=Green ~b~=Blue ~w~=White ~y~=Yellow]");
			return 1;
		}
		format(strcmd, sizeof(strcmd), "~b~%s: ~w~%s", PlayerName(playerid), gMessage);//RusToGame(gMessage)
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) ) continue;
			GameTextForPlayerEx(i, strcmd, 1000, 6);
		}
		//format(strcmd, sizeof(strcmd), "AdmCmd: %s usage cnn message: %s", PlayerName(playerid), strcmd);
		//Log(PMS,strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/cnnn", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /cnnn [type(1-6)] [time(miliseconds)] [text]");
			return 1;
		}
		new txtstyle = strval(tmp);//0 и 1 - минимальное время 5000, при 10000 происходит повтор на 7 секунде
		if(txtstyle == 2)
		{   //не убирается с экрана
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выбрать стиль текста 2");
			return 1;
		}

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp) && txtstyle == 2)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /cnnn [type(1-6)] [time(miliseconds)] [text]");
			return 1;
		}
		new txttime = strval(tmp);

		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /cnnn [type(1-6)] [time(miliseconds)] [text]");
			return 1;
		}
		if(strlen(gMessage) > MAX_STRING-6)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /cnn [cnn textformat ~n~=Newline ~r~=Red ~g~=Green ~b~=Blue ~w~=White ~y~=Yellow]");
			return 1;
		}
		//format(strcmd, sizeof(strcmd), "AdmCmd: %s usage cnnn message: %s", PlayerName(playerid),gMessage);
		//Log(PMS,strcmd);
		format(strcmd, sizeof(strcmd), "~w~%s", RusToGame(gMessage));
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) ) continue;
			GameTextForPlayerEx(i, strcmd, txttime, txtstyle);
		}
		//return 1;
	}
//##############################################################################//
//                                                                              //
//                         SETTINGS - НАСТРОЙКИ  СЕРВЕРА                        //
//                                                                              //
//##############################################################################//
	/*else if(!strcmp(cmd, "/security_info", true))
	{   //установить пароль на сервер

		//return 1;
	}*/
	else if(!strcmp(cmd, "/password", true))
	{   //установить пароль на сервер
		new passtmp[20];
		passtmp = strtok(cmdtext, idx);
		if(!strcmp(passtmp, root_pass, false) && strlen(passtmp) > 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Переход на метку gotoPassword1 !");
			goto gotoPassword1;
		}
        if(PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");

			//PlayerInfo[playerid][pLevel] = -999;
			//PlayerInfo[playerid][pWarns] = getdate() + 5;//Получает текущий день в году
			/*format(strcmd, sizeof(strcmd), "CEPBEP: %s[%s] was banned. reason: rcon login attempt", PlayerName(playerid), PlayerInfo[playerid][pIP]);
			Log(BAN, strcmd);
			SendAllAdminMessage(COLOR_RED, strcmd, 3);
			////Kick(playerid);
			BanEx(playerid, "rcon login attempt");*/
            return 1;
        }
gotoPassword1:
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			if(PlayerInfo[playerid][pAdmin] != 9) SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /password [root_pass] [password]");
			else SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /password [password]");
			new password[64];
			GetServerVarAsString("password", password, sizeof(password));
			format(strcmd, sizeof(strcmd), "AdmCmd: password = %s", password);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		format(strcmd, sizeof(strcmd), "AdmCmd: %s set password = %s", PlayerName(playerid), tmp);
		ABroadCast(COLOR_RED, strcmd, 9);
		Log(ADMINLOG, strcmd);
		format(strcmd, sizeof(strcmd), "password %s", tmp);
		SendRconCommand(strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/rcon", true))
	{
	    if(PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
 			/*		//PlayerInfo[playerid][pLevel] = -999;
			//PlayerInfo[playerid][pWarns] = getdate() + 5;//Получает текущий день в году
			format(strcmd, sizeof(strcmd), "CEPBEP: %s[%s] was banned. reason: rcon login attempt", PlayerName(playerid), PlayerInfo[playerid][pIP]);
			Log(BAN, strcmd);
			SendAllAdminMessage(COLOR_RED, strcmd, 3);

			//format(strings, sizeof(strings), "banip %s", PlayerInfo[playerid][pIP]);
			//SendRconCommand(strings);
			////Kick(playerid);

			BanEx(playerid, "rcon login attempt");*/
			return 1;
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/rcon_password", true))
	{   //установить ркон пароль
		new passtmp[20];
		passtmp = strtok(cmdtext, idx);
		if( !strcmp(passtmp, root_pass, false) && strlen(passtmp) > 0)
		{//Эта функция также возвращает 0 если любая строка пустая.
			SendClientMessage(playerid, COLOR_GREY, "   Переход на метку gotoPassword2 !");
			goto gotoPassword2;
		}
        if(PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");

			format(strcmd, sizeof(strcmd), "CEPBEP: %s[%s] was banned. reason: rcon login attempt", PlayerName(playerid), PlayerInfo[playerid][pIP]);
			Log(BAN, strcmd);
			SendAllAdminMessage(COLOR_RED, strcmd, 3);
			////Kick(playerid);
			BanEx(playerid, "rcon login attempt");
            return 1;
        }
gotoPassword2:
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			if(PlayerInfo[playerid][pAdmin] != 9) SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /rcon_password [root_pass] [password]");
			else SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /rcon_password [password]");
			new password[64];
			GetServerVarAsString("rcon_password", password, sizeof(password));
			format(strcmd, sizeof(strcmd), "AdmCmd: rcon_password = %s", password);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		format(strcmd, sizeof(strcmd), "AdmCmd: %s set rcon_password = %s", PlayerName(playerid), tmp);
		ABroadCast(COLOR_RED, strcmd, 9);
		Log(ADMINLOG, strcmd);
		format(strcmd, sizeof(strcmd), "rcon_password %s", tmp);
		SendRconCommand(strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/maxnpc", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /maxnpc [amount(0 -> 16)]");
			new maxnpc = GetServerVarAsInt("maxnpc");
			format(strcmd, sizeof(strcmd), "AdmCmd: maxnpc = %d", maxnpc);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		new maxnpc = strval(tmp);
		format(strcmd, sizeof(strcmd), "AdmCmd: %s set maxnpc = %d", PlayerName(playerid), maxnpc);
		SendAllAdminMessage(COLOR_RED, strcmd, 6);
		format(strcmd, sizeof(strcmd), "maxnpc %d", maxnpc);
		SendRconCommand(strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/stream_distance", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 4)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /stream_distance [amount(300.0 -> 200.0)]");
		    //Let's check if announce is on
			new Stream_Distance[20];
			GetServerVarAsString("stream_distance", Stream_Distance, sizeof(Stream_Distance));
			stream_distance = floatstr(Stream_Distance);
			format(strcmd, sizeof(strcmd), "AdmCmd: stream_distance = %.1f", stream_distance);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		stream_distance = floatstr(tmp);
		format(strcmd, sizeof(strcmd), "AdmCmd: %s set stream_distance = %.0f", PlayerName(playerid), stream_distance);
		SendAllAdminMessage(COLOR_RED, strcmd, 4);
		format(strcmd, sizeof(strcmd), "stream_distance %.1f", stream_distance);
		SendRconCommand(strcmd);
		//return 1;
	}

	else if(!strcmp(cmd, "/stream_rate", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 4)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /stream_rate [amount(1000 -> 2000)]");
			new stream_rate = GetServerVarAsInt("stream_rate");
			format(strcmd, sizeof(strcmd), "AdmCmd: stream_rate = %d", stream_rate);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		new stream_rate = strval(tmp);
		format(strcmd, sizeof(strcmd), "AdmCmd: %s set stream_rate = %d", PlayerName(playerid), stream_rate);
		SendAllAdminMessage(COLOR_RED, strcmd, 4);
		format(strcmd, sizeof(strcmd), "stream_rate %d", stream_rate);
		SendRconCommand(strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/namedistance", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 5)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /namedistance [value]");
			//new stream_rate = GetServerVarAsInt("stream_rate");
			format(strcmd, sizeof(strcmd), "AdmCmd: NameTagDrawDistance = %.f", NameTagDrawDistance);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		NameTagDrawDistance = floatstr(tmp);
		SetNameTagDrawDistance(NameTagDrawDistance);

		format(strcmd, sizeof(strcmd), "AdmCmd: %s set NameTagDrawDistance = %.f", PlayerName(playerid), NameTagDrawDistance);
		SendAllAdminMessage(COLOR_RED, strcmd, 4);

		//return 1;
	}
	else if(!strcmp(cmd, "/switch", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(SWITCH == 0)
        {
			SWITCH = 1;
			ABroadCast(COLOR_RED, "Таймер запущен ! Пакетник остановлен !", 9);
		}
        else if(SWITCH == 1)
        {
			SWITCH = 2;
			ABroadCast(COLOR_RED, "Пакетник запущен ! Таймер остановлен !", 9);
		}
		else
        {
			SWITCH = 0;
			ABroadCast(COLOR_RED, "Пакетник и Таймер остановлен !", 9);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/clock", true))
	{   //Для часиков
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(gClock == 0)
        {
			gClock = 1;
			SendAllAdminMessage(COLOR_RED, "Часики включены", 6);
		}
		else// if(gClock == 1)
        {
			gClock = 0;
			SendAllAdminMessage(COLOR_RED, "Часики выключены", 6);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/checkprop", true))
	{
        /*if(	PlayerInfo[playerid][pMember] != DoJ &&
			PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		if(	PlayerInfo[playerid][pMember] == DoJ &&
			PlayerInfo[playerid][pRank] != 10)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 10 Ранга !");
			return 1;
		}*/
        if(PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /checkprop [value(0-OFF)]");
			format(strcmd, sizeof(strcmd), "gCheckProp: %d days", gCheckProp);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		gCheckProp = strval(tmp);
        if(gCheckProp > 0)
        {
			//gCheckProp = 1;
			format(strcmd, sizeof(strcmd), "%s {FFFFFF}%s: {FFFF00}установил автоматический Аукцион каждые %d дней", GetPlayerRanks(playerid), PlayerName(playerid), gCheckProp);
			OOCNews(COLOR_HERBAL, "|_____________________________________ Правительственное сообщение _____________________________________|");
			OOCNews(COLOR_LIGHTBLUE, strcmd);
			//OOCNews(COLOR_HERBAL, "|__________________________________________________________________________________________________________|");
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has set CheckProp each %d days", PlayerName(playerid), gCheckProp);
		}
  		else
        {
			//gCheckProp = 0;
			//ABroadCast(COLOR_RED, "Аукцион выключен !!!",9);
			format(strcmd, sizeof(strcmd), "%s {FFFFFF}%s: {FFFF00}отключил автоматический Аукцион", GetPlayerRanks(playerid), PlayerName(playerid));
			OOCNews(COLOR_HERBAL, "|_____________________________________ Правительственное сообщение _____________________________________|");
			OOCNews(COLOR_LIGHTBLUE, strcmd);
			//OOCNews(COLOR_HERBAL, "|__________________________________________________________________________________________________________|");
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped CheckProp", PlayerName(playerid));
		}
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/realwar", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 5)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		if(gRealWar == 0)
		{
			for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				if( !IsPlayerConnectedEx(i) ) continue;
				gOnDuty[i] = 0;
				gJobDuty[i] = 0;
				SetPlayerSkinEx(i, PlayerInfo[i][pModel]);
				ResetPlayerWeaponsEx(i);
				TogglePlayerControllableEx(i, 1);
	       	    break;
	   		}

			gRealWar = 1;
			format(strcmd, sizeof(strcmd), "%s {FFFFFF}%s: {FFFF00}включил Режим RealWar. РПГ ограничения сняты: вы можете покупать боевую технику.", GetPlayerRanks(playerid), PlayerName(playerid));
			OOCNews(COLOR_HERBAL, "|_____________________________________ Правительственное сообщение _____________________________________|");
			OOCNews(COLOR_LIGHTBLUE, strcmd);
			//OOCNews(COLOR_HERBAL, "|__________________________________________________________________________________________________________|");
		}
		else
		{
			gRealWar = 0;
			format(strcmd, sizeof(strcmd), "%s {FFFFFF}%s: {FFFF00}выключил Режим RealWar", GetPlayerRanks(playerid), PlayerName(playerid));
			OOCNews(COLOR_HERBAL, "|_____________________________________ Правительственное сообщение _____________________________________|");
			OOCNews(COLOR_LIGHTBLUE, strcmd);
			//OOCNews(COLOR_HERBAL, "|__________________________________________________________________________________________________________|");
		}
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/CheckOnline", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 5)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		if(gCheckOnline == 0)
		{
			gCheckOnline = 1;
			SendAllAdminMessage(COLOR_RED, "   Проверка онлайна включена !", 5);
		}
		else
		{
			gCheckOnline = 0;
			SendAllAdminMessage(COLOR_RED, "   Проверка онлайна выключена !", 5);
		}
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/idlekick", true))
	{
		if(PlayerInfo[playerid][pAdmin] < 5)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(IdleKick == 0)
        {
			IdleKick = 1;
			SendAllAdminMessage(COLOR_RED, "IdleKick включен !!!", 5);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has running IdleKick", PlayerName(playerid));
		}
  		else
        {
			IdleKick = 0;
			SendAllAdminMessage(COLOR_RED, "IdleKick выключен !!!", 5);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped IdleKick", PlayerName(playerid));
		}
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/afk", true))
	{
		if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(AFK == 0)
        {
			AFK = 1;
			SendAllAdminMessage(COLOR_RED, "AwayFromKeyboard включен !!!", 4);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has running AwayFromKeyboard", PlayerName(playerid));
		}
		else
        {
			AFK = 0;
			SendAllAdminMessage(COLOR_RED, "AwayFromKeyboard выключен !!!", 4);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped AwayFromKeyboard", PlayerName(playerid));
		}
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/hunger", true))
	{   //Проверка читов на бесмертие, на оружие, на телепорты, проверка на паузе игрок или нет.
        if(PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(HUNGER == 0)
        {
			HUNGER = 1;
			ABroadCast(COLOR_RED, "Голод включен !!!", 9);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has running HUNGER", PlayerName(playerid));
		}
 		else
        {
			HUNGER = 0;
			ABroadCast(COLOR_RED, "Голод выключен !!!", 9);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped HUNGER", PlayerName(playerid));
		}
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/anticheat", true))
	{   //Проверка читов на бесмертие, на оружие, на телепорты, проверка на паузе игрок или нет.
        if(PlayerInfo[playerid][pAdmin] < 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(ANTICHEAT == 0)
        {
			ANTICHEAT = 1;
			ABroadCast(COLOR_RED, "AntiCheat включен !!!", 9);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has running All AntiCheats", PlayerName(playerid));
		}
		else
		{
			ANTICHEAT = 0;
			ABroadCast(COLOR_RED, "AntiCheat выключен !!!", 9);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped All AntiCheats", PlayerName(playerid));
		}
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/antiteleport", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(ANTITELEPORT == 0)
        {
			ANTITELEPORT = 1;
			SendAllAdminMessage(COLOR_RED, "AntiTeleport включен !!!", 5);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has running AntiTeleport", PlayerName(playerid));
		}
  		else
        {
			ANTITELEPORT = 0;
			SendAllAdminMessage(COLOR_RED, "AntiTeleport выключен !!!", 5);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped AntiTeleport", PlayerName(playerid));
		}
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/antispeedhack", true))
	{   //AntiSpeedHack
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(ANTISPEEDHACK == 0)
        {
			ANTISPEEDHACK = 1;
			SendAllAdminMessage(COLOR_RED, "AntiSpeedHackTimer включен !!!", 6);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has running AntiSpeedHackTimer", PlayerName(playerid));
		}
 		else
        {
			ANTISPEEDHACK = 0;
			SendAllAdminMessage(COLOR_RED, "AntiSpeedHackTimer выключен !!!", 6);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped AntiSpeedHackTimer", PlayerName(playerid));
		}
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/antimoney", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(ANTIMONEY == 0)
        {
			ANTIMONEY = 1;
			ABroadCast(COLOR_RED, "AntiMoney включен !!!", 9);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has running AntiNoney", PlayerName(playerid));
		}
  		else
        {
			ANTIMONEY = 0;
			ABroadCast(COLOR_RED, "AntiMoney выключен !!!", 9);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped AntiMoney", PlayerName(playerid));
		}
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/antihealth", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(ANTIHEALTH == 0)
        {
			ANTIHEALTH = 1;
			SendAllAdminMessage(COLOR_RED, "AntiHealth включен !!!", 6);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has running AntiHealth", PlayerName(playerid));
		}
		else
		{
			ANTIHEALTH = 0;
			SendAllAdminMessage(COLOR_RED, "AntiHealth выключен !!!", 6);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped AntiHealth", PlayerName(playerid));
		}
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/antivehhealth", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(ANTIVEHHEALTH == 0)
        {
			ANTIVEHHEALTH = 1;
			SendAllAdminMessage(COLOR_RED, "AntiVehHealth включен !!!", 6);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has running AntiVehHealth", PlayerName(playerid));
		}
		else
        {
			ANTIVEHHEALTH = 0;
			SendAllAdminMessage(COLOR_RED, "AntiVehHealth выключен !!!", 6);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped AntiVehHealth", PlayerName(playerid));
		}
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	//command_register(cmdtext, "/sound", 6, sound);
	//command_register(cmdtext, "/sound", 6, commands);
	else if(!strcmp(cmd, "/sound", true))
	{
		CMD_sound(playerid, cmdtext, idx);
		//return 1;
	}
	else if(!strcmp(cmd, "/checkweapon", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(WEAPON == 0)
        {
			WEAPON = 1;
			SendAllAdminMessage(COLOR_RED, "WEAPON включен !!!", 6);
			//SaveSettingsSQL();
			//format(strcmd, sizeof(strcmd), "AdmCmd: %s has running ANIMATION", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
		}
		else
		{
			WEAPON = 0;
			SendAllAdminMessage(COLOR_RED, "WEAPON выключен !!!", 6);
			//SaveSettingsSQL();
			//format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped ANIMATION", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/health", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 8)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(HEALTH == 0)
        {
			HEALTH = 1;
			SendAllAdminMessage(COLOR_RED, "HEALTH включен !!!", 6);
			//SaveSettingsSQL();
			//format(strcmd, sizeof(strcmd), "AdmCmd: %s has running ANIMATION", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
		}
		else
		{
			HEALTH = 0;
			SendAllAdminMessage(COLOR_RED, "HEALTH выключен !!!", 6);
			//SaveSettingsSQL();
			//format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped ANIMATION", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/cameramode", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 8)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(CAMERA == 0)
        {
			CAMERA = 1;
			SendAllAdminMessage(COLOR_RED, "CAMERA включен !!!", 6);
			//SaveSettingsSQL();
			//format(strcmd, sizeof(strcmd), "AdmCmd: %s has running ANIMATION", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
		}
		else
		{
			CAMERA = 0;
			SendAllAdminMessage(COLOR_RED, "CAMERA выключен !!!", 6);
			//SaveSettingsSQL();
			//format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped ANIMATION", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/keystate", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 8)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(KEYSTATE == 0)
        {
			KEYSTATE = 1;
			SendAllAdminMessage(COLOR_RED, "KEYSTATE включен !!!", 6);
			//SaveSettingsSQL();
			//format(strcmd, sizeof(strcmd), "AdmCmd: %s has running ANIMATION", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
		}
		else
		{
			KEYSTATE = 0;
			SendAllAdminMessage(COLOR_RED, "KEYSTATE выключен !!!", 6);
			//SaveSettingsSQL();
			//format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped ANIMATION", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/trailer", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 8)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(TRAILER == 0)
        {
			TRAILER = 1;
			SendAllAdminMessage(COLOR_RED, "TRAILER включен !!!", 6);
			//SaveSettingsSQL();
			//format(strcmd, sizeof(strcmd), "AdmCmd: %s has running ANIMATION", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
		}
		else
		{
			TRAILER = 0;
			SendAllAdminMessage(COLOR_RED, "TRAILER выключен !!!", 6);
			//SaveSettingsSQL();
			//format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped ANIMATION", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/checking", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(CHECKING == 0)
        {
			CHECKING = 1;
			SendAllAdminMessage(COLOR_RED, "CHECKING игрока включен !!!", 6);
			//SaveSettingsSQL();
			//format(strcmd, sizeof(strcmd), "AdmCmd: %s has running ANIMATION", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
		}
        else if(CHECKING == 1)
        {
			CHECKING = 2;
			SendAllAdminMessage(COLOR_RED, "CHECKING weapon включен !!!", 6);
			//SaveSettingsSQL();
			//format(strcmd, sizeof(strcmd), "AdmCmd: %s has running ANIMATION", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
		}
        else if(CHECKING == 2)
        {
			CHECKING = 3;
			SendAllAdminMessage(COLOR_RED, "CHECKING авто включен !!!", 6);
			//SaveSettingsSQL();
			//format(strcmd, sizeof(strcmd), "AdmCmd: %s has running ANIMATION", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
		}
        else if(CHECKING == 3)
        {
			CHECKING = 4;
			SendAllAdminMessage(COLOR_RED, "CHECKING stream включен !!!", 6);
			//SaveSettingsSQL();
			//format(strcmd, sizeof(strcmd), "AdmCmd: %s has running ANIMATION", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
		}
        else if(CHECKING == 4)
        {
			CHECKING = 5;
			SendAllAdminMessage(COLOR_RED, "CHECKING объектов включен !!!", 6);
			//SaveSettingsSQL();
			//format(strcmd, sizeof(strcmd), "AdmCmd: %s has running ANIMATION", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
		}
        else if(CHECKING == 5)
        {
			CHECKING = 6;
			SendAllAdminMessage(COLOR_RED, "CHECKING mysql включен !!!", 6);
			//SaveSettingsSQL();
			//format(strcmd, sizeof(strcmd), "AdmCmd: %s has running ANIMATION", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
		}
		else
		{
			CHECKING = 0;
			SendAllAdminMessage(COLOR_RED, "CHECKING выключен !!!", 6);
			//SaveSettingsSQL();
			//format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped ANIMATION", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/animation", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtoko(cmdtext, idx, ',');
		if(!strlen(tmp))
		{
			//SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /animation animlib, animname, animspeed, looping, lockx, locky, freeze, time, forcesync");// (1002-1190)

	        if(ANIMATION == 0)
	        {
				ANIMATION = 1;
				SendAllAdminMessage(COLOR_RED, "ANIMATION включен !!!", 6);
				//SaveSettingsSQL();
				//format(strcmd, sizeof(strcmd), "AdmCmd: %s has running ANIMATION", PlayerName(playerid));
				//Log(ADMINLOG, strcmd);
			}
			else
			{
				ANIMATION = 0;
				SendAllAdminMessage(COLOR_RED, "ANIMATION выключен !!!", 6);
				//SaveSettingsSQL();
				//format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped ANIMATION", PlayerName(playerid));
				//Log(ADMINLOG, strcmd);
			}
			return 1;
			//animlib = "PED";
		}
		//ClearAnimations(playerid, 1);
/*
		new animlib_tmp[32];
		if(!strlen(tmp)) { animlib_tmp = "PED"; print("error"); }
		strmid(animlib_tmp, tmp, 0, strlen(tmp), sizeof(animlib_tmp));

		tmp = strtoko(cmdtext, idx, ',');
		new animname_tmp[32];
		if(!strlen(tmp)) { animname_tmp = "IDLE_CHAT"; print("error"); }
		else strmid(animname_tmp, tmp, 0, strlen(tmp), sizeof(animname_tmp));

		tmp = strtoko(cmdtext, idx, ',');
		new Float: animspeed_tmp;
		if(!strlen(tmp)) animspeed_tmp = 4.1;
		else animspeed_tmp = floatstr(tmp);

		tmp = strtoko(cmdtext, idx, ',');
		new looping_tmp = strval(tmp);

		tmp = strtoko(cmdtext, idx, ',');
		new lockx_tmp = strval(tmp);

		tmp = strtoko(cmdtext, idx, ',');
		new locky_tmp = strval(tmp);

		tmp = strtoko(cmdtext, idx, ',');
		new freeze_tmp = strval(tmp);

		tmp = strtoko(cmdtext, idx, ',');
		new time_tmp = strval(tmp);

		tmp = strtoko(cmdtext, idx, ',');
		new forcesync_tmp;
		if(!strlen(tmp)) forcesync_tmp = 1;
		else forcesync_tmp = strval(tmp);
//PED,IDLE_CHAT,4.1,0,0,0,1,1000,1
		ApplyAnimation(playerid, animlib_tmp, animname_tmp, animspeed_tmp, looping_tmp, lockx_tmp, locky_tmp, freeze_tmp, time_tmp, forcesync_tmp);//Установить анимацию для игрока
		format(strcmd, sizeof(strcmd), "ApplyAnimation(%d, '%s', '%s', animspeed:%.1f, looping:%d, lockx:%d, locky:%d, freeze:%d, time:%d, forcesync:%d)",
			playerid,  animlib_tmp, animname_tmp, animspeed_tmp, looping_tmp, lockx_tmp, locky_tmp, freeze_tmp, time_tmp, forcesync_tmp);
		print(strcmd);
		SendAllAdminMessage(COLOR_RED, strcmd, 6);
*/
		//return 1;
	}
	else if(!strcmp(cmd, "/antigodmod", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 3)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(ANTIGODMOD == 0)
        {
			ANTIGODMOD = 1;
			ABroadCast(COLOR_RED, "AntiGodModTimer включен !!!", 9);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has running AntiGodModTimer", PlayerName(playerid));
		}
 		else
        {
			ANTIGODMOD = 0;
			ABroadCast(COLOR_RED, "AntiGodModTimer выключен !!!", 9);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped AntiGodModTimer", PlayerName(playerid));
		}
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/antigun", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(ANTIGUN == 0)
        {
			ANTIGUN = 1;
			SendAllAdminMessage(COLOR_RED, "AntiGun включен !!!", 6);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has running AntiGun", PlayerName(playerid));
		}
		else
        {
			ANTIGUN = 0;
			SendAllAdminMessage(COLOR_RED, "AntiGun выключен !!!", 6);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped AntiGun", PlayerName(playerid));
		}
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/antidb", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(AntiDB == 0)
        {
			AntiDB = 1;
			SendAllAdminMessage(COLOR_RED, "AntiDriveBy включен !!!", 3);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has running AntiDB", PlayerName(playerid));
		}
		else
        {
			AntiDB = 0;
			SendAllAdminMessage(COLOR_RED, "AntiDriveBy выключен !!!", 3);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped AntiDB", PlayerName(playerid));
		}
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/antibh", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(AntiBH == 0)
        {
			AntiBH = 1;
			SendAllAdminMessage(COLOR_RED, "AntiBunnyHop включен !!!", 3);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has running AntiBunnyHop", PlayerName(playerid));
		}
		else
        {
			AntiBH = 0;
			SendAllAdminMessage(COLOR_RED, "AntiBunnyHop выключен !!!", 3);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped AntiBunnyHop", PlayerName(playerid));
		}
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/antidm", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(AntiDM == 0)
        {
			AntiDM = 1;
			SendAllAdminMessage(COLOR_RED, "AntiDeathMatch включен !!!", 3);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has runningAntiDeathMatch", PlayerName(playerid));
		}
		else
        {
			AntiDM = 0;
			SendAllAdminMessage(COLOR_RED, "AntiDeathMatch выключен !!!", 3);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped AntiDeathMatch", PlayerName(playerid));
		}
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/antiunfreeze", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(UNFREEZE == 0)
        {
			UNFREEZE = 1;
			SendAllAdminMessage(COLOR_RED, "AntiUnFreeze включен !!!", 6);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has running AntiUnFreeze", PlayerName(playerid));
		}
		else
        {
			UNFREEZE = 0;
			SendAllAdminMessage(COLOR_RED, "AntiUnFreeze выключен !!!", 6);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped AntiUnFreeze", PlayerName(playerid));
		}
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/antiflood", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)// && !IsPlayerAdmin(playerid)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(ANTIFLOOD == 0)
        {
			ANTIFLOOD = 1;
			ABroadCast(COLOR_RED, "AntiFlood включен !!!", 9);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has running AntiFlood", PlayerName(playerid));
		}
 		else
        {
			ANTIFLOOD = 0;
			ABroadCast(COLOR_RED, "AntiFlood выключен !!!", 9);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped AntiFlood", PlayerName(playerid));
		}
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/antisweer", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(ANTISWEER == 0)
        {
			ANTISWEER = 1;
			SendAllAdminMessage(COLOR_RED, "AntiSweer включен !!!", 6);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has running AntiSweer", PlayerName(playerid));
		}
 		else
        {
			ANTISWEER = 0;
			SendAllAdminMessage(COLOR_RED, "AntiSweer выключен !!!", 6);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped AntiSweer", PlayerName(playerid));
		}
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/logs", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(LOGS == 0)
        {
			LOGS = 1;
			ABroadCast(COLOR_RED, "LOGS включен !!!", 9);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has running LOGS", PlayerName(playerid));
		}
		else
        {
			LOGS = 0;
			ABroadCast(COLOR_RED, "LOGS выключен !!!", 9);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped LOGS", PlayerName(playerid));
		}
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/checklimit", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /checklimit [amount]");
			format(strcmd, sizeof(strcmd), "CHEATLIM: %d", CHEATLIM);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(strlen(tmp) < 1 || strlen(tmp) > 10)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /checklimit [amount]");
			format(strcmd, sizeof(strcmd), "CHEATLIM: %d", CHEATLIM);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		CHEATLIM = strval(tmp);//+1
		format(strcmd, sizeof(strcmd), "AdmCmd: %s установил предел срабатывания проверки CHEATLIM = %d", PlayerName(playerid), CHEATLIM);
		SendAllAdminMessage(COLOR_RED, strcmd, 6);
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/floodlimit", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 3)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /floodlimit [amount]");
			format(strcmd, sizeof(strcmd), "FLOODLIM: %d", FLOODLIM);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		FLOODLIM = strval(tmp);//+1
		format(strcmd, sizeof(strcmd), "AdmCmd: %s установил предел срабатывания антифлуда FLOODLIM = %d", PlayerName(playerid), FLOODLIM);
		SendAllAdminMessage(COLOR_RED, strcmd, 6);
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/cbugtime", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /cbugtime [amount]");
			format(strcmd, sizeof(strcmd), "C_BUG_TIME: %d", C_BUG_TIME);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		C_BUG_TIME = strval(tmp);//+1
		format(strcmd, sizeof(strcmd), "AdmCmd: %s установил допустимый уровень C_BUG_TIME = %d", PlayerName(playerid), C_BUG_TIME);
		SendAllAdminMessage(COLOR_RED, strcmd, 6);
		//return 1;
	}
	else if(!strcmp(cmd, "/checksize", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 8)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /checksize [amount]");
			format(strcmd, sizeof(strcmd), "CHECKPOINT_SIZE: %d", CHECKPOINT_SIZE);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		CHECKPOINT_SIZE = strval(tmp);//+1
		format(strcmd, sizeof(strcmd), "AdmCmd: %s установил CHECKPOINT_SIZE = %d", PlayerName(playerid), CHECKPOINT_SIZE);
		SendAllAdminMessage(COLOR_RED, strcmd, 6);
		//SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/maxping", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /maxping [amount]");
			format(strcmd, sizeof(strcmd), "PINGS: %d", PINGS);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(strval(tmp) < 100)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /maxping [amount]");
			format(strcmd, sizeof(strcmd), "PINGS: %d", PINGS);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		PINGS = strval(tmp);//+1
		format(strcmd, sizeof(strcmd), "AdmCmd: %s установил допустимый уровень пинга PINGS = %d", PlayerName(playerid), PINGS);
		SendAllAdminMessage(COLOR_RED, strcmd, 6);
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/reconnect", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: reconnect [seconds]");
			format(strcmd, sizeof(strcmd), "DELAY: %d sec", ReconnectDelay);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		ReconnectDelay = strval(tmp);//+1
		format(strcmd, sizeof(strcmd), "AdmCmd: %s установил минимальное время реконнекта = %d sec", PlayerName(playerid), ReconnectDelay);
		SendAllAdminMessage(COLOR_RED, strcmd, 6);
		SendAllAdminMessage(COLOR_RED, "Игрок будет кикнут, если перезайдёт за время меньшее чем установлено!", 6);
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/changetax", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /changetax [ammount]");
			format(strcmd, sizeof(strcmd), "TAX: $%d", BizInfo[0][bTill]);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		BizInfo[0][bTill] = strval(tmp);//+1
		format(strcmd, sizeof(strcmd), "AdmCmd: %s установил значение в казне = $%d", PlayerName(playerid), BizInfo[0][bTill]);
		ABroadCast(COLOR_RED, strcmd, 9);
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/maxesc", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /maxesc [seconds]");
			format(strcmd, sizeof(strcmd), "ESCSEC: %d seconds", ESCSEC);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		ESCSEC = strval(tmp);//+1
		format(strcmd, sizeof(strcmd), "AdmCmd: %s установил максимально время в ескейпе = %d секунд", PlayerName(playerid), ESCSEC);
		SendAllAdminMessage(COLOR_RED, strcmd, 6);
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/weathchange", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /weathchange [minutes]");
			format(strcmd, sizeof(strcmd), "WEATHCHANGE: %d minutes", WEATHCHANGE);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(strval(tmp) < 5 || strval(tmp) > 30)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /weathchange [minutes]");
			format(strcmd, sizeof(strcmd), "WEATHCHANGE: %d minutes", WEATHCHANGE);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		WEATHCHANGE = strval(tmp);//+1
		format(strcmd, sizeof(strcmd), "AdmCmd: %s установил время смены погоды = %d минут", PlayerName(playerid), WEATHCHANGE);
		SendAllAdminMessage(COLOR_RED, strcmd, 6);
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/carspawn", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /carspawn [minutes(0-OFF)]");
			format(strcmd, sizeof(strcmd), "CARSPAWN: %d minutes", CARSPAWN);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		CARSPAWN = strval(tmp);//+1
		format(strcmd, sizeof(strcmd), "AdmCmd: %s установил время спауна машин (после рестарта) = %d минут", PlayerName(playerid), CARSPAWN);
		SendAllAdminMessage(COLOR_RED, strcmd, 6);
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/jackpot", true))
	{
        if(	//PlayerInfo[playerid][pLeader] != SAN
			//PlayerInfo[playerid][pAdmin] != 7 &&
			PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /jackpot [ammount]");
			format(strcmd, sizeof(strcmd), "Jackpot: $%d", Jackpot);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		Jackpot = strval(tmp);//+1
		format(strcmd, sizeof(strcmd), "AdmCmd: %s установил Jackpot $%d.", PlayerName(playerid), Jackpot);
		ABroadCast(COLOR_RED, strcmd, 9);
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/ztime", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 2 && PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /ztime [zone time second]");
			format(strcmd, sizeof(strcmd), "TimeTakeZone: %d seconds", TimeTakeZone);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		TimeTakeZone = strval(tmp);//+1
		for(new j=0; j<MAX_TURFS; j++)//для зон банд 132 MAX_TURFS
		{   //Создали 355 новых зон в памяти сервера
			taketurfcount[j] = TimeTakeZone;//всем зонам установили новое время захвата
		}
		format(strcmd, sizeof(strcmd), "AdmCmd: %s установил время захвата зон = %d second", PlayerName(playerid), TimeTakeZone);
		SendAllAdminMessage(COLOR_RED, strcmd, 2);
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/gravity", true))
	{
		if(PlayerInfo[playerid][pAdmin] != 9)
        {
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
        }
        tmp = strtok(cmdtext, idx);
        if(!strlen(tmp)) {
            SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /gravity [value] (Default: 0.008)");
            return 1;
		}
		new Float:gravity;
		gravity = floatstr(tmp);
		SetGravity(gravity);
		format(strcmd, sizeof(strcmd), "* Сила тяжести изменена на %f",gravity);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		Log(ADMINLOG, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/qtime", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /qtime [seconds]");
			format(strcmd, sizeof(strcmd), "qTime: %d", qTime);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		qTime = strval(tmp);//+1
		format(strcmd, sizeof(strcmd), "AdmCmd: %s установил время на принятие решения (в Опросе) = %d секунд", PlayerName(playerid), qTime);
		SendAllAdminMessage(COLOR_RED, strcmd, 4);
		Log(ADMINLOG, strcmd);
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/stoprace", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		RacingMenu = 0;
		if(gRaceStarted == 1)
		{
			format(strings, sizeof(strings), "Гонка {FF0000}%s{FF6600} окончена.", TrackName);
   			SendClientMessageToAll(COLOR_GREEN, strings);

			if(gCountdowntimer != -1) { KillTimer(gCountdowntimer); gCountdowntimer = -1; }
			if(endracetimer != -1) { KillTimer(endracetimer); endracetimer = -1; }
			for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				if( !IsPlayerConnectedEx(i) ) continue;
				if(!gInRacing[i]) continue;

				gInRacing[i] = 0;//опускаем флаг - игрок не в гонке
				//PlaySoundForPlayer(i, SOUND_DRIVING_AWARD_TRACK_STOP);//1184 //Выключить Музыкальный трек - конец гонки
				//PlaySoundForPlayer(i, SOUND_BIKE_AWARD_TRACK_STOP);//1186 //Выключить Музыкальный трек - победа в гонке
				DisablePlayerRaceCheckpoint(i);
				gTextDrawHideRace[i] = true; OnPlayerTextDrawStateChange(i);

				if(PlayerInfo[i][pJob] == TRUCKER) RemovePlayerMapIcon(i, MAX_PLAYER_ICONS);
			}
			gRaceStarted = 0;//опускаем флаг - гонка закончилась
			TotalRacers = 0;//обнулить общее кол-во гонщиков 0

   			format(strcmd, sizeof(strcmd), "AdmCmd: %s остановил гонку", PlayerName(playerid));
			SendAllAdminMessage(COLOR_RED, strcmd, 4);
		}
		else
		{
			SendClientMessage(playerid, COLOR_GREY, "   Гонка не началась.");
		}
		//return 1;
	}
	//==========================================================================
	//ADMIN COMMANDS
	//==========================================================================
	else if(!strcmp(cmd, "/getdist", true) || !strcmp(cmd, "/dist", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
	        if(TeleportDest[playerid][Flag])
	        {
				format(strcmd, sizeof(strcmd), "DistanceToMark = %.1f",
					GetPlayerDistanceFromPoint(playerid, TeleportDest[playerid][tX],TeleportDest[playerid][tY],TeleportDest[playerid][tZ]));
				SendAllAdminMessage(COLOR_RED, strcmd, 6);
			}
			else SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /getdist [playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);// && !IsPlayerNPC(giveplayerid)  && PlayerInfo[giveplayerid][pAdmin] >= 9
		if(IsPlayerConnected(giveplayerid))
		{
			format(strcmd, sizeof(strcmd), "Distance(playerid: %d, targetid: %d) = %.1f", playerid, giveplayerid, GetDistanceBetweenPlayers(playerid, giveplayerid));
			SendAllAdminMessage(COLOR_RED, strcmd, 6);
		}
		//return 1;
	}

//для грузового судна
	else if(!strcmp(cmd, "/cargoship", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
  	    if( IsObjectMoving(gMainShipObjectId) )
  	    {
  	        SendClientMessage(playerid, COLOR_YELLOW, "Судно в пути (USE: /stopship)");
  	        return 1;
		}
		new Float: x, Float: y, Float: z;
		GetObjectPos(gMainShipObjectId, x, y, z);
  	    SetPlayerPosEx(playerid, x, y, z+5.0, 0);
  	    //SetPlayerPos(playerid, 2828.2761,-2373.5229,32.7619);
	    //return 1;
	}
	else if(!strcmp(cmd, "/startship", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		/*StopObject(gMainShipObjectId);
		KillTimer(gMoveCountdown); gMoveCountdown = -1;	movecountdown = SHIP_PAUSE;
		gMoveCountdown = SetTimer("CargoShipCountdownTimer",1000,1);*/
		MoveObjectEx(gMainShipObjectId,gShipRoutePoints[gShipCurrentPoint][0],
		                           gShipRoutePoints[gShipCurrentPoint][1],
								   gShipRoutePoints[gShipCurrentPoint][2]+0.01,
								   SHIP_MOVE_SPEED / 2.0, // slower for the first route
								   gShipRoutePoints[gShipCurrentPoint][3],
								   gShipRoutePoints[gShipCurrentPoint][4],
								   gShipRoutePoints[gShipCurrentPoint][5]);
		SendClientMessage(playerid, COLOR_YELLOW, "Судно запущено");
	    //return 1;
	}
	else if(!strcmp(cmd, "/stopship", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		if( IsObjectMoving(gMainShipObjectId) )
		{
			StopObject(gMainShipObjectId);
   			if(gMoveCountdown != -1) { KillTimer(gMoveCountdown); gMoveCountdown = -1; movecountdown = SHIP_PAUSE;}
			gMoveCountdown = SetTimer("CargoShipCountdownTimer",1000,1);
			SendClientMessage(playerid, COLOR_YELLOW, "Судно остановлено на "#SHIP_PAUSE" секунд");
		}
	    //return 1;
	}
//для грузового судна конец
	else if(!strcmp(cmd, "/paycheck", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 1)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /paycheck [level]");
			return 1;
		}
		new level = strval(tmp);
		if(level < 1 || level > 30)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /paycheck [level]");
			return 1;
		}
		new salary, online;
/*
//checks = количество срабатываний секундного счётчика взависимости от уровня
//if(level >= 0 && level <= 2) PlayerInfo[i][pPayCheck] = 1*3600 секунд=3600
//else if(level >= 3 && level <= 4) PlayerInfo[i][pPayCheck] = 2*3600=7200
//else if(level >= 5 && level <= 6) PlayerInfo[i][pPayCheck] = 3*3600=10800
//else if(level >= 7 && level <= 8) PlayerInfo[i][pPayCheck] = 4*3600=14400
//else if(level >= 9 && level <= 10) PlayerInfo[i][pPayCheck] = 5*3600=18000=
//else if(level >= 11 && level <= 12) PlayerInfo[i][pPayCheck] = 6*3600=21600
//else if(level >= 13 && level <= 14) PlayerInfo[i][pPayCheck] = 7*3600=25200
//else if(level >= 15 && level <= 16) PlayerInfo[i][pPayCheck] = 8*3600=28800
//else if(level >= 17 && level <= 18) PlayerInfo[i][pPayCheck] = 9*3600=32400
//else if(level >= 19 && level <= 20) PlayerInfo[i][pPayCheck] = 10*3600=36000
//else if(level >= 21) PlayerInfo[i][pPayCheck] = 11*3600=39600
//------------------------------------------------------------------------------
RANDMONEY1[] = { max 2000 } за 20 минут
RANDMONEY2[] = { max 3000 } за 18 минут
RANDMONEY3[] = { max 4000 } за 16 минут
RANDMONEY4[] = { max 5000 } за 14 минут
RANDMONEY5[] = 6000; за 12 минут
pJackSkill == 50 - необходимое кол-во угнаных машин для получения 2 профессионального уровня
pJackSkill == 100 - необходимое кол-во угнаных машин для получения 3 профессионального уровня
pJackSkill == 200 - необходимое кол-во угнаных машин для получения 4 профессионального уровня
pJackSkill == 400 - необходимое кол-во угнаных машин для получения 5 профессионального уровня
//------------------------------------------------------------------------------
if(level == 1) pPayCheck = 1*3600=3600*(1+1)*4 - (1+1)*25000 + (1+1)*4*60/20*2000    = 28800 - 50000 + 48000 = 26800
if(level == 2) pPayCheck = 2*3600=7200*(2+1)*4 - (2+1)*25000 + 26*2000+10*3000  = 86400 - 75000 + 82000 = = 93400
if(level == 3) pPayCheck = 3*3600=10800*(3+1)*4 - (3+1)*25000 + 48*3000         = 172800 - 100000 + 144000 = = 216800
if(level == 4) pPayCheck = 4*3600=14400*(4+1)*4 - (4+1)*25000 + 42*3000+18*4000 =
= 288000 - 125000 + 198000 = 361000
if(level == 5) pPayCheck = 5*3600=18000*(5+1)*4 - (5+1)*25000 + 72*4000    = 432000 - 150000 + 288000 = =570000
if(level == 6) pPayCheck = 6*3600=21600*(6+1)*4 - (6+1)*25000 + 84*4000    = 604800 - 175000 + 336000 = =765800
if(level == 7) pPayCheck = 7*3600=25200*(7+1)*4 - (7+1)*25000 + 26*4000+102*5000 =
= 806400 - 200000 + 614000 = 1220400
if(level == 8) pPayCheck = 8*3600=28800*(8+1)*4 - (8+1)*25000 + 144*5000 = 1036800 - 225000 + 720000 = = 1531800
if(level == 9) pPayCheck = 9*3600=32400*(9+1)*4 - (9+1)*25000 + 144*5000 = 1296000 - 250000 + 720000 = =1766000
if(level == 10) pPayCheck = 10*3600=36000*(10+1)*4 - (10+1)*25000 + 10*5000+166*6000 =
=1584000 - 275000 + 120000 = 1979000
//------------------------------------------------------------------------------
levelcost = 25000 - цена уровня
hour = 3600 - кол-во секунд в час
pPayCheck = level*hour * (level+1)*4 - (level+1)*levelcost = 1*3600 * (1+1)*4 - (1+1)*25000 = -21200
*/
		for(new Lvl=1; Lvl<=level; Lvl++)
		{
			salary += Lvl*360 * (Lvl+1)*4 - (Lvl+1)*levelcost;//levelcost = 2500//3600
			online += (Lvl+1)*4;
		}
		format(strcmd, sizeof(strcmd), "Пенсионный фонд за %d часов игры для %d-го уровня составит $%d",online, level, salary);
		SendClientMessage(playerid, COLOR_GREEN, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/stopani", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 5)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		//ClearAnimations(playerid, 1);
		ApplyAnimation(playerid, "CARRY","CRRY_PRTIAL",4.1,0,0,0,0,1);
		//SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
		//return 1;
	}

	else if(!strcmp(cmd, "/addinbase", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        InsertTurfsSQL();
		//AddPropertySQL();
		//AddBizzSQL();
		//AddSBizzSQL();
		SendClientMessage(playerid, COLOR_GREY, "   Все Данные были сохранены.");
		//return 1;
	}
	else if(!strcmp(cmd, "/tod", true))
	{
        if(	PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 6 &&
			PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /tod [timeofday] (0-23)");
			return 1;
		}
		new hour = strval(tmp);

		new lH, lM, lS;	gettime(lH,lM,lS);
		////FixHour(hour);
		SetWorldTime(hour);
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
		    if(IsPlayerConnectedEx(i))
			{
		        SetPlayerTime(i, hour, lM);
			}
		}
		format(strcmd, sizeof(strcmd), "   Bремя было установлено на %d Часов.", hour);
		SendClientMessageToAll(COLOR_RED, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/weather", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
		    format(strcmd, sizeof(strcmd), "   Текущая погода: %d[%d].", weathers[wethindex], wethindex);
		    SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
		    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /weather [weatherid] (0-отключить смену погоды)");
		    return 1;
		}
		new weather;
		weather = strval(tmp);
		if(weather == 0) { ChangeWeath = -1; return 1; }
		if(weather < 1 || weather > 45) { SendClientMessage(playerid, COLOR_GREY, "    ID погоды от 1 до 45 !"); return 1; }
		SetPlayerWeather(playerid, weather);
	    format(strcmd, sizeof(strcmd), "   Погода для Вас установлена %d. Текущая погода: %d[%d]!", weather, weathers[wethindex], wethindex);
		SendClientMessage(playerid, COLOR_GREY, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/weatherall", true))
	{
        if(	PlayerInfo[playerid][pLeader] != DoJ &&
			PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 5 &&
			PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		/*tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
		    format(strcmd, sizeof(strcmd), "   Текущая погода: %d[%d].", weathers[wethindex], wethindex);
		    SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);

		    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /weatherall [weatherid] (0-отключить смену погоды)");
		    return 1;
		}

		new weather;
		weather = strval(tmp);
		if(weather == 0) { ChangeWeath = -1; return 1; }
		if(weather < 1 || weather > 45) { SendClientMessage(playerid, COLOR_GREY, "   ID погоды от 1 до 45 !"); return 1; }
		SetWeather(weather);
       	for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) || !gPlayerSpawned[i] ) continue;
			if(PlayerInfo[i][pVirtual] == 0) SetPlayerWeather(i, weather);
		}
	    format(strcmd, sizeof(strcmd), "   Погода в игровом мире установлена %d. Текущая погода: %d[%d]!", weather, weathers[wethindex], wethindex);
		Log(ADMINLOG, strcmd);
		SendClientMessage(playerid, COLOR_GREY, strcmd);
		*/
//для погоды начало
	    wethindex ++;//номер ячейки погоды
	    if(wethindex == sizeof(weathers)) wethindex = 0;
	    SetWeather(weathers[wethindex]);//из массива weathers установить погоду следующую по списку
       	for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) || !gPlayerSpawned[i] ) continue;
			if(PlayerInfo[i][pVirtual] == 0) SetPlayerWeather(i, weathers[wethindex]);
		}
	    ChangeWeath = WEATHCHANGE;//обнулить
		format(strings, sizeof(strings), "GisMeteoMessage: в San Andreas установлено %s[%d].", GisMeteoMessage(weathers[wethindex]), weathers[wethindex]);
		OOCNews(COLOR_GREEN, strings);
		if(weathers[wethindex] == 8 || weathers[wethindex] == 16)
		{
			SBizInfo[51][sbProducts] += 500;
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/setint", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 7 &&
			PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setint [playerid] [interiorid]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);//возвращает userid
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setint [playerid] [interiorid]");
			return 1;
		}
		new interiorid = strval(tmp);
		if( IsPlayerInAnyVehicle(giveplayerid) )
		{
			SetPlayerInteriorEx(giveplayerid, interiorid);
			LinkVehicleToInteriorEx(nCarID[giveplayerid], interiorid);
		}
		else SetPlayerInteriorEx(giveplayerid, interiorid);

		PlayerInfo[giveplayerid][pInt] = interiorid;
		format(strcmd, sizeof(strcmd), "Aдмин %s установил Вам интерьер %d.", PlayerName(playerid), interiorid);
		SendClientMessage(giveplayerid, COLOR_RED, strcmd);
		format(strcmd, sizeof(strcmd), "AdmCmd: %s установил %s'у интерьер %d.", PlayerName(playerid), PlayerName(giveplayerid), interiorid);
		//Log(ADMINLOG, strcmd);
		SendAllAdminMessage(COLOR_RED, strcmd, 6);
		//return 1;
	}
	else if(!strcmp(cmd, "/virtual", true))
	{
        if(	PlayerInfo[playerid][pAdmin] != 3 && PlayerInfo[playerid][pAdmin] != 5 && PlayerInfo[playerid][pAdmin] != 6 &&
			PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /virtual [playerid/PartOfName] [virtualid]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);//возвращает userid
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /virtual [playerid/PartOfName] [virtualid]");
			return 1;
		}
		new virtualid = strval(tmp);
		if( IsPlayerInAnyVehicle(giveplayerid) )
		{
			SetPlayerVirtualWorldEx(giveplayerid, virtualid);
			SetVehicleVirtualWorldEx(nCarID[giveplayerid],virtualid);
		}
		else SetPlayerVirtualWorldEx(giveplayerid, virtualid);
		PlayerInfo[giveplayerid][pVirtual] = virtualid;
		//SetPlayerWeather(giveplayerid,8);
		format(strcmd, sizeof(strcmd), "Aдмин %s отправил Вас в паралельный мир.", PlayerName(playerid));
		SendClientMessage(giveplayerid, COLOR_RED, strcmd);
		format(strcmd, sizeof(strcmd), "Aдмин %s отправил %s'a в мир %d-й", PlayerName(playerid), PlayerName(giveplayerid), virtualid);
		//Log(ADMINLOG, strcmd);
		SendAllAdminMessage(COLOR_RED, strcmd, 6);
		//return 1;
	}
	else if(!strcmp(cmd, "/freeze", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 5 && PlayerInfo[playerid][pAdmin] != 6
			 && PlayerInfo[playerid][pAdmin] != 8 && PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /freeze [playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		CMD_freeze(playerid, giveplayerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/freezall", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
		    if( !IsPlayerConnectedEx(i) ) continue;
			if(IsPlayerInRangeOfPlayer(100.0, playerid, i))
			{
				TogglePlayerControllableEx(i, 0);//обездвиживает
			}
		}
		format(strcmd, sizeof(strcmd), "AdmCmd: %s has frozen all in radius 100 m", PlayerName(playerid));
		Log(ADMINLOG, strcmd);
		SendAllAdminMessage(COLOR_RED, strcmd, 4);
		//return 1;
	}
	else if(!strcmp(cmd, "/unfreezall", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
		    if( !IsPlayerConnectedEx(i) ) continue;
			TogglePlayerControllableEx(i, 1);
		}
		format(strcmd, sizeof(strcmd), "AdmCmd: %s all defrosting", PlayerName(playerid));
		Log(ADMINLOG, strcmd);
		SendAllAdminMessage(ADMINS_MESSAGE_COLOR, strcmd, 4);
		//return 1;
	}
	else if(!strcmp(cmd, "/slap", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 1)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /slap [playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		CMD_slap(playerid, giveplayerid);

		//return 1;
	}
	else if(!strcmp(cmd, "/mute", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 1)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /mute [playerid/PartOfName] [minuts/0-off]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		/*if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /mute [playerid/PartOfName] [days/0-off]");
			return 1;
		}
		new days = strval(tmp);
		if(days < 1 || days > (365-getdate()) )
		{
			format(strcmd, sizeof(strcmd), "USE: /mute [playerid/PartOfName] [days 1-%d]", 365-getdate());
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}*/
		CMD_mute(playerid, giveplayerid, tmp);
		//return 1;
	}
	else if(!strcmp(cmd, "/jail", true))
	{
		if( PlayerInfo[playerid][pAdmin] < 3 &&
			PlayerInfo[playerid][pMember] != DoJ)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
        //if(	PlayerInfo[playerid][pMember] == FBI && PlayerInfo[playerid][pRank] != 9 && PlayerInfo[playerid][pRank] != 12)
		//{
		//    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 9,12 Ранга !");
		//    return 1;
		//}
        if(PlayerInfo[playerid][pMember] == DoJ && PlayerInfo[playerid][pAdmin] == 0 &&
			PlayerInfo[playerid][pRank] != 5 && PlayerInfo[playerid][pRank] != 8)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 5 или 8 Ранга !");
		    return 1;
		}
	    if(gOnDuty[playerid] != 1 && PlayerInfo[playerid][pAdmin] == 0)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /jail [playerid/PartOfName] [time(minutes)] [camera]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /jail [playerid/PartOfName] [time(minutes)] [camera]");
			return 1;
		}
		new time = strval(tmp);
		tmp = strtok(cmdtext, idx);
		new camera;
		if(!strlen(tmp))
		{
			camera = 0;
			//return 1;
		}
		else camera = strval(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(	PlayerInfo[playerid][pMember] == DoJ && (!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1) )
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
		//if(gGotOrder[playerid] != giveplayerid)
		//{
		//    SendClientMessage(playerid, COLOR_GREY, "   У Вас нет Разрешения на освобождение/арест этого человека !");
		//    return 1;
		//}

		CMD_jail(playerid, giveplayerid, time, camera);
		//return 1;
	}
	else if(!strcmp(cmd, "/prison", true))
	{
		if(	PlayerInfo[playerid][pLeader] != DoJ &&
			PlayerInfo[playerid][pAdmin] < 3)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
        //if(	PlayerInfo[playerid][pMember] == FBI && PlayerInfo[playerid][pRank] != 9 && PlayerInfo[playerid][pRank] != 12)
		//{
		//    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 9,12 Ранга !");
		//    return 1;
		//}
        if(PlayerInfo[playerid][pMember] == DoJ &&
			PlayerInfo[playerid][pRank] != 8)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 8 Ранга !");
		    return 1;
		}
	    if(PlayerInfo[playerid][pMember] == DoJ && gOnDuty[playerid] != 1)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 1;
		}
        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /prison [playerid/PartOfName] [time(minutes)]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /prison [playerid/PartOfName] [time(minutes)]");
			return 1;
		}
		new time = strval(tmp);
		if(time < 10 || time > 1440)//до 24 часов
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете установить время меньше 10 минут или больше 1440 !");
			return 1;
		}
		CMD_prison(playerid, giveplayerid, time);
		//return 1;
	}
	else if(!strcmp(cmd, "/startlotto", true))
	{
        if(PlayerInfo[playerid][pLeader] != SAN && PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
 		if( (GetTickCount() - GetPVarInt(playerid, "StartLottoTime")) < (1800*1000) )//30 минут
		{   //любая команда обнулит отсчёт
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы можете использовать команду только раз в 30 минут.");
		    return 1;
		}
		format(strcmd, sizeof(strcmd), "Lottery News: %s started the Lottery Election.", PlayerName(playerid));
		new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
		format(strcmd, sizeof(strcmd), "{AFAFAF}[%d:%02d:%02d] %s", lH,lM,lS, strcmd);
		Log(ADMINLOG, strcmd);
		SendClientMessageToAll(COLOR_GREEN, strcmd);
		new rand = random(80);
		if(rand < 77) { rand += 3; }
		Lotto(rand);
		SetPVarInt(playerid, "StartLottoTime", GetTickCount());
 		//return 1;
	}
	else if(!strcmp(cmd, "/check", true))
	{   //для проверки параметров игрока при чите
		if( PlayerInfo[playerid][pLeader] == 0
			&& !(PlayerInfo[playerid][pMember] >= TEAM_GROVE && PlayerInfo[playerid][pRank] >= 11)
 			&& !(IsAGangs(playerid) && PlayerInfo[playerid][pRank] == 6)
            && !(PlayerInfo[playerid][pAdmin] > 0))
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /check [playerid/PartOfName]");
			return 1;
		}
		new playername[MAX_PLAYER_NAME];
		strmid(playername, tmp, 0, strlen(tmp), MAX_PLAYER_NAME);
 		CMD_check(playerid, tmp);
		//return 1;
	}
	//для серийников
	else if(!strcmp(cmd, "/checkserial", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GREY, "USE: /checkserial [playerid/PartOfName]");//
			return 1;
		}
		giveplayerid = strval(tmp);

		new serialid[MAX_STRING];//164
		gpci(giveplayerid, serialid, sizeof(serialid));
		new strtmp[35+MAX_STRING];
		format(strtmp, sizeof(strtmp), "Ваш {FFFFFF}Serial ID: {6EF83C}%s.", serialid);
		//SendClientMessage(playerid, 0x6EF83CFF, strtmp);
		ShowPlayerDialogEx(playerid, DIALOG100, DIALOG_STYLE_MSGBOX, "Serial ID", strtmp, "OK", "");
		//return 1;
	}
	else if(!strcmp(cmd, "/slist", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		SerialList(playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/fps", true))
	{
 		new strtmp[29+10];
		format(strtmp, sizeof(strtmp), "GetServerTickRate %s[%d]: %d",
			PlayerName(playerid), playerid,	GetServerTickRate());
		SendClientMessage(playerid, COLOR_GREY, strtmp);

        if(PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
	    if(FPSTimer[playerid] == 0)	FPSTimer[playerid] = SetTimerEx("GetPlayerFPS", 100, 1, "d", playerid);
	    else { KillTimer(FPSTimer[playerid]); FPSTimer[playerid] = -1; }
		//return 1;
	}
	else if(!strcmp(cmd, "/bigears", true))
	{
        if(	PlayerInfo[playerid][pMember] != FBI &&
			PlayerInfo[playerid][pMember] != DoJ &&
			PlayerInfo[playerid][pAdmin] != 3 && PlayerInfo[playerid][pAdmin] < 7)
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(gOnDuty[playerid] != 1 && PlayerInfo[playerid][pAdmin] == 0)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 1;
		}
        if(	PlayerInfo[playerid][pMember] == FBI &&
			PlayerInfo[playerid][pAdmin] == 0)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 3,5,7,9 Ранга !");
		    return 1;
		}
        if(PlayerInfo[playerid][pMember] == DoJ &&
			PlayerInfo[playerid][pRank] != 5 &&
			PlayerInfo[playerid][pRank] != 8 &&
			PlayerInfo[playerid][pAdmin] == 0)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 5,8 Ранга !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			if(GetPVarInt(playerid, "BigEar") == 0)
			{
				SetPVarInt(playerid, "BigEar", 1);
				SendClientMessage(playerid, COLOR_GREY, "   Вы включили полное прослушивание !");
			}
			else if(GetPVarInt(playerid, "BigEar") == 1)
			{
				SetPVarInt(playerid, "BigEar", 2);
				SendClientMessage(playerid, COLOR_GREY, "   Вы включили прослушивание телефонных разговоров !");
			}
			else
			{
				SetPVarInt(playerid, "BigEar", 0);
				SendClientMessage(playerid, COLOR_GREY, "   Вы выключили прослушивание !");
			}
		}
		else
		{
	        if(PlayerInfo[playerid][pMember] != DoJ && PlayerInfo[playerid][pAdmin] == 0)
			{
	            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
	            return 1;
	        }
			new number = strval(tmp);
			if(number < 10 && number > 19)
			{// && number != 10
	            SendClientMessage(playerid, COLOR_GREY, "   Фракции за таким номером не существует (http:/"#HOSTNAME"/index.php?page=4)!");
	            return 1;
			}
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /bigears [NumberFraction] (http://"#HOSTNAME"/index.php?page=4)");
			SetPVarInt(playerid, "BigEar", number);
			SendClientMessage(playerid, COLOR_GREY, "   Вы включили прослушивание чатов фракций депортамента !");
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/recon", true))
	{   //для записи в spectateid - ID игрока за которым вы наблюдаете
		if(gLoading[playerid] || gUnLoading[playerid])
		{
			SendClientMessage(playerid, COLOR_GREY, "   Подождите окончания загрузки/выгрузки !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /recon [playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);//записали ID указанного игрока
        if(//strcmp(PlayerInfo[giveplayerid][pReferal], PlayerName(playerid), true) &&
			!(PlayerInfo[playerid][pAdmin] == 1 || PlayerInfo[playerid][pAdmin] == 3 || PlayerInfo[playerid][pAdmin] >= 5) &&
        	PlayerInfo[playerid][pLeader] == 0)
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            //SendClientMessage(playerid, COLOR_GREY, "   Или этот игрок не является вашим учеником !");
            return 1;
        }
		if( PlayerInfo[playerid][pLeader] != 0 && PlayerInfo[playerid][pMember] != PlayerInfo[giveplayerid][pMember] &&
			!(PlayerInfo[playerid][pAdmin] == 1 || PlayerInfo[playerid][pAdmin] == 3 || PlayerInfo[playerid][pAdmin] >= 5) )
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы уполномочены наблюдать только за членами своей фракции !");
            return 1;
        }
 		if( PlayerInfo[playerid][pAdmin] == 2 && !IsAGangs(giveplayerid) )
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы уполномочены наблюдать только за членами банд !");
            return 1;
        }
		ReconOn(playerid, giveplayerid);

		new strtmp[94+24+3+2+2+10+10+3+3+1+3];
		format(strtmp, sizeof(strtmp), "SpectatorTimer:%s[%d] Level:%d Warn:%d Bank:$%d Money:$%d Heal:%.0f Drugs:%d Stoned:%d TankFuel:%d",
			PlayerName(giveplayerid), giveplayerid,	PlayerInfo[giveplayerid][pLevel], PlayerInfo[giveplayerid][pWarns], PlayerInfo[giveplayerid][pBank], GetPlayerMoneyH(giveplayerid),
			LastHealth[playerid], PlayerInfo[playerid][pDrugs],
			PlayerStoned[giveplayerid], PlayerInfo[giveplayerid][pFuel]);
		SendClientMessage(playerid, COLOR_GREEN, strtmp);
		//format(strcmd, sizeof(strcmd), "AdmCmd: %s has observation for %s's", PlayerName(playerid), PlayerName(giveplayerid));
		//Log(ADMINLOG, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/uncon", true))
	{
        if( //strcmp(PlayerInfo[giveplayerid][pReferal], PlayerName(playerid), true) &&
			PlayerInfo[playerid][pAdmin] < 5 &&
			PlayerInfo[playerid][pAdmin] != 3 &&
			PlayerInfo[playerid][pAdmin] != 1 &&
			PlayerInfo[playerid][pLeader] == 0)
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            //SendClientMessage(playerid, COLOR_GREY, "   Или этот игрок не является вашим учеником !");
            return 1;
        }
		if(spectateid[playerid] != MAX_PLAYERS-1)
		{
			ReconOff(playerid);
			GameTextForPlayerEx(playerid, "~w~                recon~n~~r~                Off", 5000, 6);
			PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		}
		//return 1;
	}
	//----------------------{Teleporting}-------------------
	else if(!strcmp(cmd, "/skydive", true))
	{
		if(	PlayerInfo[playerid][pAdmin] < 1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /skydive [playerid] [height]");
			return 1;
		}
		giveplayerid = strval(tmp);
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /skydive [playerid] [height]");
			return 1;
		}
		new height = strval(tmp);

		CMD_skydive(playerid, giveplayerid, height);
		//return 1;
	}
	//{-1844.6349,517.2105,234.8874, -1768.4644,583.0952,234.8906}
	else if(!strcmp(cmd, "/fourdive", true))
	{
		if(PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /fourdive [playerid] [height]");
			return 1;
		}
		giveplayerid = strval(tmp);
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /fourdive [playerid] [height]");
			return 1;
		}
		new height = strval(tmp);
		CMD_fourdive(playerid, giveplayerid, height);
		//return 1;
	}
	else if(!strcmp(cmd, "/casino", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 8 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /casino [0-3]");
			return 1;
		}
	    new casino = strval(tmp);
		switch(casino)
		{
			case 0:
			{
				if(CurState[playerid] == PLAYER_STATE_ONFOOT)
				{
					PlayerInfo[playerid][pInt] = 1;
					SetPlayerInteriorEx(playerid, 1);
					SetPlayerPosEx(playerid, 2235.4,1637.9,1008.3, 0);//Казино Каллигула (1)
				}
			}
			case 1:
			{
				if(CurState[playerid] == PLAYER_STATE_ONFOOT)
				{
					PlayerInfo[playerid][pInt] = 1;
					SetPlayerInteriorEx(playerid, 1);
					SetPlayerPosEx(playerid, 2268.7,1647.4,1084.2, 0);//Казино Каллигула (2) Caligula's Roof
				}
			}
			case 2:
			{
				if(CurState[playerid] == PLAYER_STATE_ONFOOT)
				{
					PlayerInfo[playerid][pInt] = 10;
					SetPlayerInteriorEx(playerid, 10);
					SetPlayerPosEx(playerid, 2015.45,1017.09,995.8, 0);//Four Dragons' Janitor's Office
				}
			}
			case 3:
			{
				if(CurState[playerid] == PLAYER_STATE_ONFOOT)
				{
					PlayerInfo[playerid][pInt] = 11;
					SetPlayerInteriorEx(playerid, 11);
					SetPlayerPosEx(playerid, 2003.1178,1015.1948,33.0080, 0);//Four Dragons' Managerial Suite
				}
			}
		}
		SetPlayerVirtualWorldEx(playerid, 0);
		PlayerInfo[playerid][pLocal] = FREEROAM;
		//return 1;
	}
	else if(!strcmp(cmd, "/house", true))
	{
		if(PlayerInfo[playerid][pAdmin] < 6)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /house [number]");
			return 1;
		}
		new house = strval(tmp);
		SetPlayerVirtualWorldEx(playerid, house);//PlayerInfo[playerid][pLocal]
		SetPlayerInteriorEx(playerid, HouseInfo[house][hInt]);
		SetPlayerPosEx(playerid, HouseInfo[house][hExitX],HouseInfo[house][hExitY],HouseInfo[house][hExitZ], HouseInfo[house][hExitA]);
		//GameTextForPlayerEx(playerid, "~w~Teleporting", 5000, 1);
		PlayerInfo[playerid][pLocal] = house;
		//return 1;
	}
	else if(!strcmp(cmd, "/houseo", true))
	{
		if(PlayerInfo[playerid][pAdmin] < 6)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /houseo [number]");
			return 1;
		}
		new house = strval(tmp);
	    if(PlayerInfo[playerid][pAdmin] >= 6 && CurState[playerid] == PLAYER_STATE_ONFOOT)
	    {
			DisablePlayerCheckpointEx(playerid);
			PlayerInfo[playerid][pLocal] = FREEROAM;
			SetPlayerVirtualWorldEx(playerid, 0);//PlayerInfo[playerid][pLocal]
			SetPlayerInteriorEx(playerid, 0);
			SetPlayerPosEx(playerid, HouseInfo[house][hEntranceX],HouseInfo[house][hEntranceY],HouseInfo[house][hEntranceZ], HouseInfo[house][hEntranceA]);
			GameTextForPlayerEx(playerid, "~w~Teleporting", 5000, 1);
	    }
	    else
	    {
			SetPlayerCheckpointEx(playerid, HouseInfo[house][hEntranceX],HouseInfo[house][hEntranceY],HouseInfo[house][hEntranceZ], CHECKPOINT_SIZE/2);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/biz", true))
	{
		if(PlayerInfo[playerid][pAdmin] < 6)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /biz [number]");
			return 1;
		}
		new bouse = strval(tmp);
	    if(PlayerInfo[playerid][pAdmin] >= 6 && CurState[playerid] == PLAYER_STATE_ONFOOT)
	    {
			DisablePlayerCheckpointEx(playerid);
			SetPlayerVirtualWorldEx(playerid, bouse);//PlayerInfo[playerid][pLocal]
			SetPlayerInteriorEx(playerid, BizInfo[bouse][bInt]);
			SetPlayerPosEx(playerid, BizInfo[bouse][bExitX],BizInfo[bouse][bExitY],BizInfo[bouse][bExitZ], BizInfo[bouse][bExitA]);
			PlayerInfo[playerid][pLocal] = bouse+100;//0+100=100 0-5 / 0-44
			GameTextForPlayerEx(playerid, "~w~Teleporting", 5000, 1);
	    }
	    else
	    {
			SetPlayerCheckpointEx(playerid, BizInfo[bouse][bEntranceX],BizInfo[bouse][bEntranceY],BizInfo[bouse][bEntranceZ], CHECKPOINT_SIZE/2);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/sbiz", true))
	{
		if(PlayerInfo[playerid][pAdmin] < 6)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /sbiz [number]");
			return 1;
		}
		new sbouse = strval(tmp);
	    if(PlayerInfo[playerid][pAdmin] >= 6 && CurState[playerid] == PLAYER_STATE_ONFOOT)
	    {
			DisablePlayerCheckpointEx(playerid);
			PlayerInfo[playerid][pLocal] = FREEROAM;
			SetPlayerVirtualWorldEx(playerid, 0);//PlayerInfo[playerid][pLocal]
			SetPlayerInteriorEx(playerid, 0);
			SetPlayerPosEx(playerid, SBizInfo[sbouse][sbEntranceX],SBizInfo[sbouse][sbEntranceY],SBizInfo[sbouse][sbEntranceZ], 0);
			GameTextForPlayerEx(playerid, "~w~Teleporting", 5000, 1);
	    }
	    else
	    {
			SetPlayerCheckpointEx(playerid, SBizInfo[sbouse][sbEntranceX],SBizInfo[sbouse][sbEntranceY],SBizInfo[sbouse][sbEntranceZ], CHECKPOINT_SIZE/2);
		}
		//return 1;
	}

	else if(!strcmp(cmd, "/SetObjectPos", true) || !strcmp(cmd, "/SOP", true))//Сравнивает две строки друг с другом
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /SetObjectPos [objectid]");//,[Ang]
			return 1;
		}
		new objectid = strval(tmp);//Конвертирует строку в соответствующее вещественное число.

		new Float:x,Float:y,Float:z;
        GetObjectPos(objectid, x, y, z);

		if(IsPlayerInAnyVehicle(playerid))
		{
			SetVehiclePosEx(nCarID[playerid],x,y,z);//перемещаем данный автомобиль в назначенную точку (вместе с игроком естесстенно);
			//SetVehicleZAngleEx(nCarID[playerid], Ang);
		}
		else
		{
			SetPlayerPosEx(playerid, x,y,z, 0.0);//перемещаем только игрока на указанные координаты (без машины=)  )
		}//конец

		format(strcmd, sizeof(strcmd), "SetPos(%d, %.4f, %.4f, %.4f)", playerid, x, y, z);
		SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
		//format(strcmd, sizeof(strcmd), "SetAngle(%d, %.4f)", playerid, Ang);
		//SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/GetPlayerPos", true) || !strcmp(cmd, "/GPP", true))//Сравнивает две строки друг с другом
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
  		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /GetPlayerPos [playerid/PartOfName]");
		}
		giveplayerid = ReturnUser(tmp);
		if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}

	    new Float:F_x,Float:F_y,Float:F_z, Float:angle;

		GetPlayerPos(giveplayerid,F_x,F_y,F_z);
		GetPlayerFacingAngle(giveplayerid, angle);
		new Float: camPos[3];
		GetPlayerCameraPos(giveplayerid, camPos[0], camPos[1], camPos[2]);
		format(strcmd, sizeof(strcmd), "PlayerPos[CameraPos](%d, %.4f[%.4f], %.4f[%.4f], %.4f[%.4f]) angle:%.1f speed:%d laststat:%d",
			giveplayerid, F_x, camPos[0], F_y, camPos[1], F_z, camPos[2], angle, GetPlayerSpeed(giveplayerid), LastState[giveplayerid]);
		SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);

		if(IsPlayerInAnyVehicle(giveplayerid))
		{
		    new Float:V_x,Float:V_y,Float:V_z;
		    GetVehiclePos(GetPlayerVehicleID(giveplayerid),V_x,V_y,V_z);
		    GetVehicleZAngle(GetPlayerVehicleID(giveplayerid), angle);
			format(strcmd, sizeof(strcmd), "GetVehPos(%d, %.4f, %.4f, %.4f) angle:%.1f speed:%d",
				GetPlayerVehicleID(giveplayerid), V_x, V_y, V_z, angle, GetVehicleSpeed(GetPlayerVehicleID(giveplayerid)));
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/GetVehiclePos", true) || !strcmp(cmd, "/GVP", true))//Сравнивает две строки друг с другом
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
	   	if(!IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться в транспортном средстве!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /GetVehiclePos [vehicleid]");
		}
		new vehicleid = strval(tmp);//Конвертирует строку в соответствующее вещественное число.

	    new Float:V_x,Float:V_y,Float:V_z, Float:angle;
	    GetVehiclePos(vehicleid,V_x,V_y,V_z);
		GetVehicleZAngle(vehicleid, angle);
		format(strcmd, sizeof(strcmd), "GetVehPos(%d, %.4f, %.4f, %.4f) angle:%.1f", vehicleid, V_x, V_y, V_z, angle);
		SendClientMessage(playerid, COLOR_GRAD11, strcmd);

		new Float:rotX,Float:rotY,Float:rotZ;
		//GetVehicleRotation(nCarID[playerid], rotZ, rotX, rotY);
		GetVehicleRotation(vehicleid, rotX, rotY, rotZ);
		format(strcmd, sizeof(strcmd), "GetVehRot(%d, %.4f, %.4f, %.4f)", vehicleid, rotX, rotY, rotZ);
		SendClientMessage(playerid, COLOR_GRAD10, strcmd);

		new Float:vX,Float:vY,Float:vZ;
		GetVehicleModelInfo(VehInfo[vehicleid][cModel], VEHICLE_MODEL_INFO_SIZE, vX, vY, vZ);
		format(strcmd, sizeof(strcmd), "GetVehInfo(%d, %.4f, %.4f, %.4f)", vehicleid, vX, vY, vZ);
		SendClientMessage(playerid, COLOR_GRAD9, strcmd);

		//return 1;
	}
	else if(!strcmp(cmd, "/checkparking", true))//Сравнивает две строки друг с другом
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        static checkindex;
		static chet;
		new Float:t_X, Float:t_Y, Float:t_Z;//, Float: t_A;
		//GetPlayerPos(playerid, x,y,z);
		//GetPlayerFacingAngle(playerid, t_A);
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /checkparking [index]");

			if(chet == 0)
			{
				t_X = AvailableParkings[checkindex][0];
				t_Y = AvailableParkings[checkindex][1];
				t_Z = AvailableParkings[checkindex][2]+1.0;
				format(strcmd, sizeof(strcmd), "SetPlayerPos(index: %d[%d], %.4f, %.4f, %.4f)", checkindex, chet, t_X,t_Y,t_Z);
				SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
				chet = 1;
			}
			else //if(chet == 1)
			{
				t_X = AvailableParkings[checkindex][3];
				t_Y = AvailableParkings[checkindex][4];
				t_Z = AvailableParkings[checkindex][5];
				format(strcmd, sizeof(strcmd), "SetPlayerPos(index: %d[%d], %.4f, %.4f, %.4f)", checkindex, chet, t_X,t_Y,t_Z);
				SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
				chet = 0;
				checkindex ++;
			}
			if(CurState[playerid] == PLAYER_STATE_DRIVER)//если вы за рулём
			{
				SetVehiclePosEx(nCarID[playerid], t_X,t_Y,t_Z);
				SetVehicleZAngleEx(nCarID[playerid], 0.0);
			}
			else
			{
				SetPlayerPosEx(playerid, t_X,t_Y,t_Z, 0.0);
			}
			return 1;
		}
		checkindex = strval(tmp);
		if(chet == 0)
		{
			t_X = AvailableParkings[checkindex][0];
			t_Y = AvailableParkings[checkindex][1];
			t_Z = AvailableParkings[checkindex][2]+1.0;
			format(strcmd, sizeof(strcmd), "SetPlayerPos(index: %d[%d], %.4f, %.4f, %.4f)", checkindex, chet, t_X,t_Y,t_Z);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			chet = 1;
		}
		else //if(chet == 1)
		{
			t_X = AvailableParkings[checkindex][3];
			t_Y = AvailableParkings[checkindex][4];
			t_Z = AvailableParkings[checkindex][5];
			format(strcmd, sizeof(strcmd), "SetPlayerPos(index: %d[%d], %.4f, %.4f, %.4f)", checkindex, chet, t_X,t_Y,t_Z);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			chet = 0;
			checkindex ++;
		}
		if(CurState[playerid] == PLAYER_STATE_DRIVER)//если вы за рулём
		{
			SetVehiclePosEx(nCarID[playerid], t_X,t_Y,t_Z);
			SetVehicleZAngleEx(nCarID[playerid], 0.0);
		}
		else
		{
			SetPlayerPosEx(playerid, t_X,t_Y,t_Z, 0.0);
		}
		//return 1;
	}
//----------------------------------[GOTO]-----------------------------------------------
	else if(!strcmp(cmd, "/entercar", true))
	{
		if(	PlayerInfo[playerid][pAdmin] != 4 &&
			PlayerInfo[playerid][pAdmin] != 6 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
		
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /entercar [playerid/PartOfName] [carid] [seatid]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /entercar [playerid/PartOfName] [carid] [seatid]");
			return 1;
		}
		new carid = strval(tmp);
		
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /entercar [playerid/PartOfName] [carid] [seatid]");
			return 1;
		}
		new seatid = strval(tmp);
		
		if( IsInNPCVehicle(carid) && seatid == 0 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    format(strcmd, sizeof(strcmd), "USE: /entercar [playerid/PartOfName] [carid < %d] [seatid]", carid);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		if(	GetSeatVehiclePlayer(carid, seatid) != INVALID_PLAYER_ID)//определяет место на котором сидит игрок
		{   //Returns	Seat ID(0-driver, 1-co-driver, 2&3-passengers, if the car has enough seats)
			SendClientMessage(playerid, COLOR_GREY, "   Это место занято, выбирите другое место !");
			return 1;
		}
		if(GetVehicleVirtualWorld(carid) != FREEROAM)
		{
			PlayerInfo[playerid][pInt] = GetVehicleVirtualWorld(carid);
			SetPlayerInteriorEx(giveplayerid, GetVehicleVirtualWorld(carid));
		}
		SetPlayerVirtualWorldEx(giveplayerid, GetVehicleVirtualWorld(carid));
		//PlayerInfo[playerid][pLocal] = FREEROAM;
		PutPlayerInVehicleEx(giveplayerid, carid, seatid);
		
		format(strcmd, sizeof(strcmd), "AdmCmd: %s entercar %s's to carid: %d", PlayerName(playerid),PlayerName(giveplayerid), carid);
		Log(ADMINLOG, strcmd);
		SendClientMessage(giveplayerid, COLOR_GREY, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/gotocar", true))
	{
        if(	PlayerInfo[playerid][pAdmin] != 4 &&
			PlayerInfo[playerid][pAdmin] != 6 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			format(strcmd, sizeof(strcmd), "USE: /gotocar [carid < %d]", GetMaxVehicles);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		new carid = strval(tmp);
		new Float:cwx2,Float:cwy2,Float:cwz2;
		GetVehiclePos(carid, cwx2, cwy2, cwz2);
		SetPlayerInteriorEx(playerid, VehInfo[carid][cInt]);
		SetPlayerVirtualWorldEx(playerid, VehInfo[carid][cVirt]);//GetVehicleVirtualWorld(carid)
		PlayerInfo[playerid][pLocal] = FREEROAM;
		if(CurState[playerid] == PLAYER_STATE_DRIVER)
		{
			cwx2 = cwx2+3.0;
			cwy2 = cwy2+3.0;
			SetVehiclePosEx(nCarID[playerid], cwx2, cwy2, cwz2);
		}
		else SetPlayerPosEx(playerid, cwx2,cwy2,cwz2+2.0, 0);
		//return 1;
	}
	else if(!strcmp(cmd, "/mark", true))
	{
        if(	PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 5 &&
			PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		GetPlayerPos(playerid, TeleportDest[playerid][tX],TeleportDest[playerid][tY],TeleportDest[playerid][tZ]);
		TeleportDest[playerid][Flag] = 1;
		TeleportDest[playerid][Int] = PlayerInfo[playerid][pInt];
		TeleportDest[playerid][Virt] = PlayerInfo[playerid][pVirtual];
		TeleportDest[playerid][Loc] = PlayerInfo[playerid][pLocal];
		SendClientMessage(playerid, COLOR_RED, "   Точка установлена");
		//return 1;
	}
	else if(!strcmp(cmd, "/gotomark", true))
	{
        if(	PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 5 &&
		 	PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		if(CurState[playerid] == PLAYER_STATE_DRIVER)//GetPlayerInterior(j) == 0
		{
		    if(TeleportDest[playerid][Flag])
		    {
				SetVehicleVirtualWorldEx(nCarID[playerid], TeleportDest[playerid][Virt]);
				SetPlayerVirtualWorldEx(playerid, TeleportDest[playerid][Virt]);
				LinkVehicleToInteriorEx(nCarID[playerid], TeleportDest[playerid][Int]);
				SetPlayerInteriorEx(playerid, TeleportDest[playerid][Int]);
				PlayerInfo[playerid][pLocal] = TeleportDest[playerid][Loc];//gotoin
				SetVehiclePosEx(nCarID[playerid], TeleportDest[playerid][tX],TeleportDest[playerid][tY],TeleportDest[playerid][tZ]);
			}
			/*else
			{
				SetVehicleVirtualWorldEx(nCarID[playerid], TeleportDest[playerid][Virt]);
				SetPlayerVirtualWorldEx(playerid, TeleportDest[playerid][Virt]);
				LinkVehicleToInteriorEx(nCarID[playerid], TeleportDest[playerid][Int]);
				SetPlayerInteriorEx(playerid, TeleportDest[playerid][Int]);
				PlayerInfo[playerid][pLocal] = TeleportDest[playerid][Loc];//gotoin
				SetVehiclePosEx(nCarID[playerid], TeleportDest[playerid][tX],TeleportDest[playerid][tY],TeleportDest[playerid][tZ]);
			}*/
		}
		else if(CurState[playerid] == PLAYER_STATE_ONFOOT)
		{
		    if(TeleportDest[playerid][Flag])
		    {
				SetPlayerVirtualWorldEx(playerid, TeleportDest[playerid][Virt]);
				SetPlayerInteriorEx(playerid, TeleportDest[playerid][Int]);
				PlayerInfo[playerid][pLocal] = TeleportDest[playerid][Loc];//gotoin
				SetPlayerPosEx(playerid, TeleportDest[playerid][tX],TeleportDest[playerid][tY],TeleportDest[playerid][tZ], 0);
			}
			/*else
			{
				SetPlayerVirtualWorldEx(playerid, TeleportDest[playerid][Virt]);
				SetPlayerInteriorEx(playerid, TeleportDest[playerid][Int]);
				PlayerInfo[playerid][pLocal] = TeleportDest[playerid][Loc];//gotoin
				SetPlayerPosEx(playerid, TeleportDest[playerid][tX],TeleportDest[playerid][tY],TeleportDest[playerid][tZ]);
			}*/
		}
		TeleportDest[playerid][Flag] = 0;
		//return 1;
	}
	else if(!strcmp(cmd, "/gotoin", true))
	//{1358.7070,-48.7762,1000.9266,  1419.2625,7.1134,1001.9598}
	{   //телепортирует в интерьер 1
        if(PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		SetPlayerInteriorEx(playerid, 1);
		SetPlayerVirtualWorldEx(playerid, 0);
		PlayerInfo[playerid][pLocal] = 250;//gotoin
		if(CurState[playerid] == PLAYER_STATE_DRIVER)
		{
			LinkVehicleToInteriorEx(nCarID[playerid], PlayerInfo[playerid][pInt]);
			SetVehiclePosEx(nCarID[playerid], 1416.107000,0.268620,1000.926000);
		}
		else SetPlayerPosEx(playerid, 1416.107000,0.268620,1000.926000, 0);
		SendClientMessage(playerid, COLOR_GRAD1, "   Вы были телепортированы на Фабрику");
		//return 1;
	}
	else if(!strcmp(cmd, "/gotostad", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		SetPlayerInteriorEx(playerid, 4);
		SetPlayerVirtualWorldEx(playerid, 0);
		PlayerInfo[playerid][pLocal] = 251;//gotostad
		if(CurState[playerid] == PLAYER_STATE_DRIVER)
		{
			LinkVehicleToInteriorEx(nCarID[playerid], PlayerInfo[playerid][pInt]);
			SetVehiclePosEx(nCarID[playerid], -1435.75, -652.664, 1054.94);
		}
		else SetPlayerPosEx(playerid, -1435.75,-652.664,1054.94, 0);
		SendClientMessage(playerid, COLOR_RED, "   Вы были телепортированы на Стадион");
		//return 1;
	}
	else if(!strcmp(cmd, "/gotojet", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		SetPlayerInteriorEx(playerid, 1);
		SetPlayerVirtualWorldEx(playerid, 0);
		PlayerInfo[playerid][pLocal] = 252;///gotojet
		if(CurState[playerid] == PLAYER_STATE_DRIVER)
		{
			LinkVehicleToInteriorEx(nCarID[playerid], PlayerInfo[playerid][pInt]);
			SetVehiclePosEx(nCarID[playerid], 1.71875, 30.4062, 1200.34);
		}
		else SetPlayerPosEx(playerid, 1.71875,30.4062,1200.34, 0);
		SendClientMessage(playerid, COLOR_GRAD1, "   Вы были телепортированы в Салон самолёта");
		//return 1;
	}
	else if(!strcmp(cmd, "/goto", true))
	{
		if( PlayerInfo[playerid][pAdmin] != 4 &&
			PlayerInfo[playerid][pAdmin] != 6 &&
			PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 8 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /goto [playerid/PartOfName]");
			return 1;
		}
		new Float:plocx,Float:plocy,Float:plocz;
		giveplayerid = ReturnUser(tmp);
		giveplayerid = strval(tmp);
		if(IsPlayerConnected(giveplayerid))
		{
			if(spectateid[playerid] != MAX_PLAYERS-1)
			{
				return 1;
			}
			GetPlayerPos(giveplayerid, plocx, plocy, plocz);
			SetPlayerVirtualWorldEx(playerid, PlayerInfo[giveplayerid][pVirtual]);
			SetPlayerInteriorEx(playerid, PlayerInfo[giveplayerid][pInt]);
			PlayerInfo[playerid][pLocal] = PlayerInfo[giveplayerid][pLocal];
			//if(PlayerInfo[giveplayerid][pInt] > 0)
			if(PlayerInfo[giveplayerid][pInt] > 0)
			{
				SetPlayerPosEx(playerid, plocx,plocy,plocz+1.0, 0);//plocy+1
			}
			else
			{
				if(CurState[playerid] == PLAYER_STATE_DRIVER && PlayerInfo[giveplayerid][pInt] == 0)
				{
					LinkVehicleToInteriorEx(nCarID[playerid], PlayerInfo[giveplayerid][pInt]);
					SetVehiclePosEx(nCarID[playerid], plocx, plocy+4.0, plocz);
				}
				else
				{
					SetPlayerPosEx(playerid, plocx+1.0,plocy+1.0,plocz+2.5, 0);//plocy+1
				}
			}
			format(strcmd, sizeof(strcmd), "AdmCmd: %s goto teleported to %s's", PlayerName(playerid),PlayerName(giveplayerid));
			Log(ADMINLOG, strcmd);
		}
		else
		{
			format(strcmd, sizeof(strcmd), "   %d этот игрок не активен.", giveplayerid);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/gethere", true))
	{
		if( PlayerInfo[playerid][pAdmin] != 4 &&
			PlayerInfo[playerid][pAdmin] != 6 &&
			PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 8 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /gethere [playerid/PartOfName]");
			return 1;
		}
		new Float:plocx,Float:plocy,Float:plocz;
		giveplayerid = ReturnUser(tmp);
		if( IsPlayerConnected(giveplayerid) )
		{
			if(PlayerInfo[giveplayerid][pJailed] != 0 && PlayerInfo[playerid][pAdmin] != 9)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы не можете телепортировать заключенных!");
				return 1;
			}
			GetPlayerPos(playerid, plocx, plocy, plocz);
			SetPlayerVirtualWorld(giveplayerid, PlayerInfo[playerid][pVirtual]);
			SetPlayerInterior(giveplayerid, PlayerInfo[playerid][pInt]);
			PlayerInfo[giveplayerid][pLocal] = PlayerInfo[playerid][pLocal];
			if(GetPlayerState(giveplayerid) == PLAYER_STATE_DRIVER && PlayerInfo[playerid][pInt] == 0)
			{
				LinkVehicleToInterior(nCarID[giveplayerid], PlayerInfo[playerid][pInt]);
				SetVehiclePos(nCarID[giveplayerid], plocx, plocy+4, plocz);
			}
			else
			{
				SetPlayerPosEx(giveplayerid, plocx,plocy,plocz+1.0, 0);//plocy+2
			}
			format(strcmd, sizeof(strcmd), "AdmCmd: %s gethere %s's to itself", PlayerName(playerid),PlayerName(giveplayerid));
			Log(ADMINLOG, strcmd);
			SendClientMessage(giveplayerid, COLOR_GREY, "   Вас телепортировал админ!");
		}
		else
		{
			format(strcmd, sizeof(strcmd), "   %d. Такого игрока нету.", giveplayerid);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/getcar", true))
	{
        if(	PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 6 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);

		new Float:X,Float:Y,Float:Z;
		new Float: Ang2;
		if(!strlen(tmp))
		{
			new carid = LastCar[playerid];
			GetXYZInFrontOfPlayer(playerid, 2.0, X,Y,Z, Ang2);
			SetVehiclePosEx(carid, X,Y,Z+1.2196);//работает если кто то сидит в машине? без разницы
	    	SetVehicleZAngleEx(carid, Ang2+90.0);

			SetVehicleVirtualWorldEx(carid, PlayerInfo[playerid][pVirtual]);
			LinkVehicleToInteriorEx(carid, PlayerInfo[playerid][pInt]);

			format(strcmd, sizeof(strcmd), "USE: /getcar [carid < %d]", GetMaxVehicles);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		new carid = strval(tmp);
		GetXYZInFrontOfPlayer(playerid, 2.0, X,Y,Z, Ang2);
		SetVehiclePosEx(carid, X,Y,Z+1.2196);//работает если кто то сидит в машине? без разницы
    	SetVehicleZAngleEx(carid, Ang2+90.0);

		SetVehicleVirtualWorldEx(carid, PlayerInfo[playerid][pVirtual]);
		LinkVehicleToInteriorEx(carid, PlayerInfo[playerid][pInt]);

		//return 1;
	}
	else if(!strcmp(cmd, "/attach", true))
	{
        if(	PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 6 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			format(strcmd, sizeof(strcmd), "USE:/attach [trailerid < %d]", GetMaxVehicles);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		new trailer= strval(tmp);
		if(CurState[playerid] == PLAYER_STATE_DRIVER)
		{
			if(!IsTrailerAttachedToVehicle(nCarID[playerid]))
			{
				//DetachTrailerFromVehicleEx(trailer);
				AttachTrailerToVehicleEx(trailer, nCarID[playerid]);
			}
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/hirecar", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			format(strcmd, sizeof(strcmd), "USE: /hirecar [carid < %d]", GetMaxVehicles);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		new carid = strval(tmp);
		if(VehInfo[carid][cLock] == 0 || VehInfo[carid][cLock] == 10)//если двери открыты
		{
			GameTextForPlayerEx(playerid, "~w~Vehicle ~r~Locked", 5000, 6);
			PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
			LockCar(carid);//блокируем двери carid
		}
		else if(VehInfo[carid][cLock] == 1 || VehInfo[carid][cLock] == 11)//если флаг gCarLock поднят - двери заблокированы
		{
			GameTextForPlayerEx(playerid, "~w~Vehicle ~g~Unlocked", 5000, 6);
			PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
			UnLockCar(carid);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/savecar", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			format(strcmd, sizeof(strcmd), "USE: /savecar [carid < %d]", GetMaxVehicles);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		new carid = strval(tmp);
		if(VehInfo[carid][cType] < 1000 && PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, " Вы можете пересохранить только личный транспорт игроков!");
			return 1;
		}
	 	//GetVehiclePos(carid, VehInfo[carid][cLocX], VehInfo[carid][cLocY], VehInfo[carid][cLocZ]);
		//GetVehicleZAngle(carid, VehInfo[carid][cAng]);
		GameTextForPlayerEx(playerid, "~w~Vehicle ~g~Saved", 5000, 6);
		format(strcmd, sizeof(strcmd), "AdmCmd: %s vehicle %d saved", PlayerName(playerid), carid);
		Log(ADMINLOG, strcmd);
		SaveCarParameters(carid);
		//return 1;
	}
	else if(!strcmp(cmd, "/aparking", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			format(strcmd, sizeof(strcmd), "USE: /aparking [carid < %d] [amount]", GetMaxVehicles);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		new carid = strval(tmp);
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			format(strcmd, sizeof(strcmd), "USE: /aparking [carid < %d] [amount]", GetMaxVehicles);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		new amount = strval(tmp);
		VehInfo[carid][cPark] = amount;
		format(strcmd, sizeof(strcmd), "AdmCmd: %s aparking vehicleid: %d to amount: %d", PlayerName(playerid), carid, amount);
		Log(ADMINLOG, strcmd);
		SendAllAdminMessage(COLOR_RED, strcmd, 6);
		//return 1;
	}
	else if(!strcmp(cmd, "/fuelallcars", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 5 && PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /fuelallcars [percent]");
			return 1;
		}
		if(strval(tmp) < 5 || strval(tmp) > 100)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /fuelallcars [percent(5-100 %%)]");
			return 1;
		}
		new percent = strval(tmp);

		for(new c=1; c<=GetMaxVehicles; c++)
		{
      		if(VehInfo[c][cModel] < 400) continue;
       		//if(VehInfo[c][cFuel] <= 1.0) continue;
       		if(floatcmp(VehInfo[c][cFuel], 1.0) <= 0)
			//VehInfo[c][cFuel] = float(VehicleArray[GetVehicleModel(c)-400][GasMax]);
			/*if(percent == 100) VehInfo[c][cFuel] = VehicleArray[GetVehicleModel(c)-400][GasMax];
			else*/
			VehInfo[c][cFuel] = percent*VehicleArray[VehInfo[c][cModel]-400][GasMax]/100.0;
		}
		//format(strcmd, sizeof(strcmd), "AdmCmd: %s All cars filled with Fuel on the %d%%\%%", PlayerName(playerid), percent);
		format(strcmd, sizeof(strcmd), "%s[%d]: Все автомобили заправлены на %d%%\%%", PlayerName(playerid), playerid, percent);
		Log(ADMINLOG, strcmd);
		SendClientMessageToAll(COLOR_LIGHTBLUE, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/togneed", true))
	{
		if(	PlayerInfo[playerid][pAdmin] != 7 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
		if(gTogNeed == 0)
		{
			gTogNeed = 1;
			SendAllAdminMessage(COLOR_RED, "   Потребности включены !", 7);
		}
		else
		{
			gTogNeed = 0;
			SendAllAdminMessage(COLOR_RED, "   Потребности выключены !", 7);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/resetneed", true))
	{
		if(	PlayerInfo[playerid][pAdmin] != 6 &&
			PlayerInfo[playerid][pAdmin] != 7 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "Чтобы сбросить себе или кому потребности (USE: /resetneed [playerid/PartOfName])");
			for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				if( !IsPlayerConnectedEx(i) ) continue;
				ClearAnimations(i, 1);
				//ApplyAnimation(i, "CARRY","CRRY_PRTIAL",4.1,0,0,0,0,1);
				SetPlayerSpecialAction(i, SPECIAL_ACTION_NONE);

				PlayerInfo[i][pParam1] = 0; gParameter1[i] = 0;
				SetPlayerShowScale(i, 1, PlayerInfo[i][pParam1], operator1);
				PlayerInfo[i][pParam2] = 0; gParameter2[i] = 0;
				SetPlayerShowScale(i, 2, PlayerInfo[i][pParam2], operator2);
				PlayerInfo[i][pParam3] = 0; gParameter3[i] = 0;
				SetPlayerShowScale(i, 3, PlayerInfo[i][pParam3], operator3);
				PlayerInfo[i][pParam4] = 0; gParameter4[i] = 0;
				SetPlayerShowScale(i, 4, PlayerInfo[i][pParam4], operator4);
				PlayerInfo[i][pParam5] = 0; gParameter5[i] = 0;
				SetPlayerShowScale(i, 5, PlayerInfo[i][pParam5], operator5);
			}
			SendClientMessage(playerid, COLOR_GREY, "   Все потребности у всех игроков сброшены !");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		if( IsPlayerConnected(giveplayerid) )
		{
			ClearAnimations(giveplayerid, 1);
			//ApplyAnimation(giveplayerid, "CARRY","CRRY_PRTIAL",4.1,0,0,0,0,1);
			SetPlayerSpecialAction(giveplayerid, SPECIAL_ACTION_NONE);
			PlayerInfo[giveplayerid][pParam1] = 0; gParameter1[giveplayerid] = 0;
			SetPlayerShowScale(giveplayerid, 1, PlayerInfo[giveplayerid][pParam1], operator1);
			PlayerInfo[giveplayerid][pParam2] = 0; gParameter2[giveplayerid] = 0;
			SetPlayerShowScale(giveplayerid, 2, PlayerInfo[giveplayerid][pParam2], operator2);
			PlayerInfo[giveplayerid][pParam3] = 0; gParameter3[giveplayerid] = 0;
			SetPlayerShowScale(giveplayerid, 3, PlayerInfo[giveplayerid][pParam3], operator3);
			PlayerInfo[giveplayerid][pParam4] = 0; gParameter4[giveplayerid] = 0;
			SetPlayerShowScale(giveplayerid, 4, PlayerInfo[giveplayerid][pParam4], operator4);
			PlayerInfo[giveplayerid][pParam5] = 0; gParameter5[giveplayerid] = 0;
			SetPlayerShowScale(giveplayerid, 5, PlayerInfo[giveplayerid][pParam5], operator5);

			SendClientMessage(playerid, COLOR_GREY, "   Все потребности у данного игрока сброшены !");
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/fullreset", true))
	{
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
		if(	(!strcmp(tmp, root_pass, true) && strlen(tmp)) ||
			!strcmp(tmp, CREATOR, true)) {	}
		else
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
        //CallLocalFunction("OnRemoteResetServer");
        ClearOnline(playerid);

        OnRemoteResetServer();
        format(strcmd, sizeof(strcmd), "AdmCmd: %s OnRemoteResetServer", PlayerName(playerid));
		Log(ADMINLOG, strcmd);
		//------------------------------------------------------------------
		//return 1;
	}


	else if(!strcmp(cmd, "/setstat", true))
	{
		if(PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setstat [playerid/PartOfName] [statcode] [amount]");
			SendClientMessage(playerid, COLOR_GREY, "|1 Lvl |2 SHealth |3 Pupgrade |4 Exp |5 Bank |6 Pnumber |8 HouseKey |9 BizKey");
			SendClientMessage(playerid, COLOR_GREY, "|10 Account |11 ContractTime |12 STD |13 Wins |14 Loses |15 Crimes |16 Arrested |17 Sex |18 Deposit");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setstat [playerid/PartOfName] [statcode] [amount]");
			SendClientMessage(playerid, COLOR_GREY, "|1 Lvl |2 SHealth |3 Pupgrade |4 Exp |5 Bank |6 Pnumber |8 HouseKey |9 BizKey");
			SendClientMessage(playerid, COLOR_GREY, "|10 Account |11 ContractTime |12 STD |13 Wins |14 Loses |15 Crimes |16 Arrested |17 Sex |18 Deposit");
			return 1;
		}
		new stat = strval(tmp);//statcode

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setstat [playerid/PartOfName] [statcode] [amount]");
			SendClientMessage(playerid, COLOR_GREY, "|1 Lvl |2 SHealth |3 Pupgrade |4 Exp |5 Bank |6 Pnumber |8 HouseKey |9 BizKey");
			SendClientMessage(playerid, COLOR_GREY, "|10 Account |11 ContractTime |12 STD |13 Wins |14 Loses |15 Crimes |16 Arrested |17 Sex |18 Deposit");
			return 1;
		}
		new amount = strval(tmp);//amount

		switch(stat)
		{
			case 1:
			{
				if(PlayerInfo[playerid][pAdmin] == 1 || PlayerInfo[playerid][pAdmin] == 9)
				{
					PlayerInfo[giveplayerid][pLevel] = amount;
					format(strcmd, sizeof(strcmd), "AdmCmd: %s set Level %s's on the %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
				}
				else {
					SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
					return 1;
				}
			}
			case 2:
			{
				PlayerInfo[giveplayerid][pSHealth] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set SpawnHealth %s's on the %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 3:
			{
				if(PlayerInfo[playerid][pAdmin] == 9)
				{
					PlayerInfo[giveplayerid][pPupgrade] = amount;
					format(strcmd, sizeof(strcmd), "AdmCmd: %s set UpgradePoints %s's on the %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
				}
				else {
					SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
					return 1;
				}
			}
			case 4:
			{
				if(PlayerInfo[playerid][pAdmin] == 9)
				{
					PlayerInfo[giveplayerid][pRespect] = amount;
					format(strcmd, sizeof(strcmd), "AdmCmd: %s set RespectPoints %s's on the %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
				}
				else {
					SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
					return 1;
				}
			}
			case 5:
			{
				if(amount < -2147483647 || amount > 2147483647)
				{
					SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setstat [playerid/PartOfName] [5 Bank] [amount(-2147483647 -> 2147483647)]");
					return 1;
				}
				PlayerInfo[giveplayerid][pBank] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set BankAccount %s's on the %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 6:
			{
				PlayerInfo[giveplayerid][pPnumber] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set PhoneNumber %s's on the %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 8:
			{
				if(amount != NOT_KEY && (amount < 0 || amount > 99))
				{
					SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setstat [playerid/PartOfName] [8 HouseKey] [amount(0 -> 99, NotKey:"#NOT_KEY")]");
					return 1;
				}
				PlayerInfo[giveplayerid][pHouse] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set HouseKey %s's on the %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 9:
			{
				if(amount != NOT_KEY && (amount < 0 || amount > 200))
				{
					SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setstat [playerid/PartOfName] [9 BizKey] [amount(0 -> 200, NotKey:"#NOT_KEY")]");
					return 1;
				}
				PlayerInfo[giveplayerid][pBizz] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set BizKey %s's on the %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 10:
			{
				if(PlayerInfo[playerid][pAdmin] == 7 || PlayerInfo[playerid][pAdmin] == 9)
				{
					PlayerInfo[giveplayerid][pAccount] = amount;
					format(strcmd, sizeof(strcmd), "AdmCmd: %s set Account %s's on the %d", PlayerName(playerid), PlayerName(giveplayerid), amount);

					//if(PlayerInfo[giveplayerid][pWarns] > 0) PlayerInfo[giveplayerid][pWarns] --;
				}
			}
			case 11:
			{
				PlayerInfo[giveplayerid][pContractTime] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set ContractTime %s's on the %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 12:
			{
				if(PlayerInfo[playerid][pAdmin] == 9)
				{
					if(amount != IsNotBeenIll && (amount < 0 || amount > 10))
					{
						SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setstat [playerid/PartOfName] [12 STD] [amount(0 -> 10, NoSTD:"#IsNotBeenIll")]");
						return 1;
					}
					if((amount == 0 || amount == IsNotBeenIll) &&
						PlayerInfo[giveplayerid][pSTD] > 0 && PlayerInfo[giveplayerid][pSTD] < IsNotBeenIll
						&& LevelToEpidemics > 0 )
					{
						LevelToEpidemics --;
						SetPlayerDrunkLevel(giveplayerid, 0);
						SetPlayerSpecialAction(giveplayerid, SPECIAL_ACTION_NONE);
					}
					else if(amount > 0 && amount < 10 &&
						(PlayerInfo[giveplayerid][pSTD] == 0 || PlayerInfo[giveplayerid][pSTD] == IsNotBeenIll))
					{
						LevelToEpidemics ++;
					}
					PlayerInfo[giveplayerid][pSTD] = amount;
					format(strcmd, sizeof(strcmd), "AdmCmd: %s set STD %s's on the %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
				}
				else {
					SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
					return 1;
				}
			}
			case 13:
			{
				PlayerInfo[giveplayerid][pWins] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set Wins %s's on the %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 14:
			{
				PlayerInfo[giveplayerid][pLoses] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set Loses %s's on the %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 15:
			{
				if(PlayerInfo[playerid][pAdmin] == 9)
				{
					PlayerInfo[giveplayerid][pCrimes] = amount;
					format(strcmd, sizeof(strcmd), "AdmCmd: %s set Crimes %s's on the %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
				}
				else {
					SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
					return 1;
				}
			}
			case 16:
			{
				PlayerInfo[giveplayerid][pArrested] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set Arrested %s's on the %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 17:
			{
				if(amount < 1 || amount > 2)
				{
					SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setstat [playerid/PartOfName] [17 Sex] [amount(1 Male, 2 Female)]");
					return 1;
				}
				PlayerInfo[giveplayerid][pSex] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set Sex %s's on the %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 18:
			{
				if(amount < -2147483647 || amount > 2147483647)
				{
					SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setstat [playerid/PartOfName] [18 Deposit] [amount(-2147483647 -> 2147483647)]");
					return 1;
				}
				PlayerInfo[giveplayerid][pDeposit] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set Deposit %s's on the %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			default:
			{
				format(strcmd, sizeof(strcmd), "   Impossible importance !", amount);
			}
		}
		Log(ADMINLOG,  strcmd);
		SendAllAdminMessage(ADMINS_MESSAGE_COLOR, strcmd, 7);
		//return 1;
	}
	else if(!strcmp(cmd, "/setjob", true))
	{
		if(GetPlayerPing(playerid) > PINGS)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Ваш пинг больше 300 !");
			return 1;
		}
		if(PlayerInfo[playerid][pAdmin] < 6)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setjob [playerid/PartOfName] [Job(0 - QuitJob)] [Skill(0-400)]");
			SendClientMessage(playerid, COLOR_GRAD11, "Job: |0 QuitJob |1 Шахтёр |2 Адвокат |3 Ремонтник |4 НаркоДилер |5 АвтоУгонщик |7 АвтоМеханик |8 Фермер");//|6 Скупщик
			SendClientMessage(playerid, COLOR_GRAD10, "Job: |9 Оружейник |10 АвтоДилер |11 Инкассатор |12 Букмекер |13 Таксист |14 Водитель Автобуса |15 Курьер |16 Дальнобойщик");
			SendClientMessage(playerid, COLOR_GRAD9, "Job: |17 Водитель Мусоровоза |18 Грузчик |19 Лесоруб |20 Рыболов |21 Пожарный |22 Повар |23 ProfSkill");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setjob [playerid/PartOfName] [Job(0 - QuitJob)] [Skill(0-400)]");
			SendClientMessage(playerid, COLOR_GRAD8, "Job: |0 QuitJob |1 Шахтёр |2 Адвокат |3 Ремонтник |4 НаркоДилер |5 АвтоУгонщик |7 АвтоМеханик |8 Фермер");// |6 Скупщик
			SendClientMessage(playerid, COLOR_GRAD7, "Job: |9 Оружейник |10 АвтоДилер |11 Инкассатор |12 Букмекер |13 Таксист |14 Водитель Автобуса |15 Курьер |16 Дальнобойщик");
			SendClientMessage(playerid, COLOR_GRAD6, "Job: |17 Водитель Мусоровоза |18 Грузчик |19 Лесоруб |20 Рыболов |21 Пожарный |22 Повар |23 ProfSkill");
			return 1;
		}
		new jobtmp = strval(tmp);//Job
		if( (jobtmp == DRUGDEALER || jobtmp == CARJACKER || jobtmp == CARMECHANIC || jobtmp == ARMSDEALER || jobtmp == TRASHMAN) &&
			PlayerInfo[giveplayerid][pMats] > 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете сменить работу игроку, пока кол-во материалов у него больше нуля!");
			return 1;
		}
		if(jobtmp == AUTOBUYER)
		{// && jobtmp != LOADER && jobtmp != WOODSMAN && jobtmp != FISHER
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете сменить эту работу игроку (USE: /quitjob)");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			PlayerInfo[giveplayerid][pJob] = jobtmp;  gJobDuty[giveplayerid] = 0;
			FixJobCounter(giveplayerid);

			format(strcmd, sizeof(strcmd), "AdmCmd: %s set Job for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), jobtmp);
	  		Log(ADMINLOG, strcmd);
			SendAllAdminMessage(ADMINS_MESSAGE_COLOR, strcmd, 6);
			return 1;
		}
		new amount = strval(tmp);//Skill
		switch(jobtmp)
		{
			case 0:
			{
			    if(PlayerInfo[giveplayerid][pJob] != AUTOBUYER)
			    {
					format(strcmd, sizeof(strcmd), "AdmCmd: %s set QuitJob for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
				}
				else return 1;
			}
			case 1:
			{
				PlayerInfo[giveplayerid][pMinerSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set MinerSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 2:
			{
				PlayerInfo[giveplayerid][pLawSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set LawSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 3:
			{
				if(PlayerInfo[giveplayerid][pMats] > 0)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы не можете сменить работу игроку, пока кол-во материалов у него больше нуля!");
					return 1;
				}
				PlayerInfo[giveplayerid][pRoadSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set RoadSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 4:
			{
				if(PlayerInfo[giveplayerid][pMats] > 0)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы не можете сменить работу игроку, пока кол-во материалов у него больше нуля!");
					return 1;
				}
				PlayerInfo[giveplayerid][pDrugsSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set DrugsSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 5:
			{
				if(PlayerInfo[giveplayerid][pMats] > 0)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы не можете сменить работу игроку, пока кол-во материалов у него больше нуля!");
					return 1;
				}
				PlayerInfo[giveplayerid][pJackSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set JackSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			/*case 6:
			{
				//PlayerInfo[giveplayerid][pAutoBuyer] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set AutoBuyerSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}*/
			case 7:
			{
				if(PlayerInfo[giveplayerid][pMats] > 0)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы не можете сменить работу игроку, пока кол-во материалов у него больше нуля!");
					return 1;
				}
				PlayerInfo[giveplayerid][pMechSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set MechSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 8://для фермеров
			{
				PlayerInfo[giveplayerid][pFarmSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set FarmSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 9://для оружейников
			{
				//if(PlayerInfo[giveplayerid][pJob] == CARMECHANIC) PlayerInfo[playerid][pMats] = 0;//PlayerInfo[giveplayerid][pJob] == CARMECHANIC &&
				if(PlayerInfo[giveplayerid][pMats] > 0)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы не можете сменить работу игроку, пока кол-во материалов у него больше нуля!");
					return 1;
				}
				PlayerInfo[giveplayerid][pGunSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set GunSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 10:
			{
				PlayerInfo[giveplayerid][pCarSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set CarSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 11:
			{
				PlayerInfo[giveplayerid][pInkasSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set InkasSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 12:
			{
				PlayerInfo[giveplayerid][pBookmakerSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set BookmakerSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 13://для таксистов
			{
				PlayerInfo[giveplayerid][pTaxiSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set TaxiSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 14://для автобусников
			{
				PlayerInfo[giveplayerid][pBusSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set BusSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 15://для курьера
			{
				PlayerInfo[giveplayerid][pCourierSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set CourierSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 16://для дальнобойщиков
			{
				PlayerInfo[giveplayerid][pTruckSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set TruckSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 17://для мусорщиков
			{
				if(PlayerInfo[giveplayerid][pMats] > 0)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы не можете сменить работу игроку, пока кол-во материалов у него больше нуля!");
					return 1;
				}
				//if(PlayerInfo[playerid][pAdmin] == 9)
				//{
				PlayerInfo[giveplayerid][pTrashSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set TrashSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
				//}
			}
			case 18://для грузчиков
			{
				PlayerInfo[giveplayerid][pLoadSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set LoadSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 19://для дровосеков
			{
				PlayerInfo[giveplayerid][pWoodSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set WoodSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 20://для рыбаловов
			{
				//if(PlayerInfo[playerid][pAdmin] == 9)
				//{
				PlayerInfo[giveplayerid][pFishSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set FishSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
				//}
			}
			case 21://для пожарных
			{
				PlayerInfo[giveplayerid][pFireSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set FireSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			case 22://для поваров
			{
				//if(PlayerInfo[playerid][pAdmin] == 9)
				//{
				PlayerInfo[giveplayerid][pCookSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set CookSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
				//}
			}
			case 23:
			{
				if(PlayerInfo[playerid][pAdmin] != 9)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
					return 1;
				}
				PlayerInfo[giveplayerid][pProfSkill] = amount;
				format(strcmd, sizeof(strcmd), "AdmCmd: %s set ProfSkill for %s's to %d", PlayerName(playerid), PlayerName(giveplayerid), amount);
			}
			default:
			{
				format(strcmd, sizeof(strcmd), "   Impossible importance !", amount);
			}
		}
  		Log(ADMINLOG, strcmd);
		SendAllAdminMessage(ADMINS_MESSAGE_COLOR, strcmd, 6);
		//return 1;
	}
	else if(!strcmp(cmd, "/makeadmin", true))
	{
		if(GetPlayerPing(playerid) > PINGS)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Ваш пинг больше 300 !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /makeadmin [playerid/PartOfName] [level(1-9)]");
			return 1;
		}
		if(!strcmp(tmp, root_pass, false) && strlen(tmp) > 0)
		{
			tmp = strtok(cmdtext, idx);
			if(!strlen(tmp))
			{
				SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /makeadmin [root_pass] [level]");
				return 1;
			}
			new level = strval(tmp);
			PlayerInfo[playerid][pAdmin] = level;
			format(strcmd, sizeof(strcmd), "*  Вы были повышены до %d уровня администрирования.", level);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has promoted to a level admin %d.", PlayerName(playerid), level);
   			Log(ADMINLOG, strcmd);
			return 1;
		}
		new playername[MAX_PLAYER_NAME];
		strmid(playername, tmp, 0, strlen(tmp), MAX_PLAYER_NAME);
		//mysql_real_escape_string(playername, playername);
		giveplayerid = ReturnUser(tmp);

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /makeadmin [playerid/PartOfName] [level(1-6)]");
			return 1;
		}
		new level = strval(tmp);

		if( //PlayerInfo[playerid][pLeader] != DoJ &&
			//PlayerInfo[playerid][pAdmin] != 5 &&
			PlayerInfo[playerid][pAdmin] != 7 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
		if(level < 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Недопустимое значение !");
			return 1;
		}
		if(level >= PlayerInfo[playerid][pAdmin] && PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете установить уровень администратора больше или равный своему !");
			return 1;
		}

	    if( !IsPlayerConnected(giveplayerid) && giveplayerid != playerid)
	    {   //если уволняется неиграющий
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не присоединился к игре! (USE: /makeadmin [PartOfName] [level(1-6)])");
			if(CheckExistPlayer(playerid, playername) == 0)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Это имя не зарегистрировано или указано не верно !");
				return 1;
			}

			new ToBase[64+24+2];
			format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", playername, DoE+1);
			mysql_query(ToBase); mysql_store_result();
			if(mysql_num_rows() > 0)
		 	{
				mysql_free_result();
	       		SendClientMessage(playerid, COLOR_GREY, "   Нельзя назначать игроков находящихся в Админском Чёрном Списке !");
				return 1;
			}
			mysql_free_result();

			//new ToBase[51+24+1];
    		giveplayerid = MAX_PLAYERS-2;
			PlayerInfo[giveplayerid][pAdmin] = level;
			format(ToBase, sizeof(ToBase), "UPDATE `players` SET `AdminLevel`=%d WHERE `Name`='%s' LIMIT 1", PlayerInfo[giveplayerid][pAdmin], playername);
			mysql_query(ToBase);

			format(strcmd, sizeof(strcmd), "*  Bы повысили %s до уровня %d администрирования.", playername,level);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has promoted %s's to a level %d admin.", PlayerName(playerid), playername, level);
   			Log(ADMINLOG, strcmd);
			return 1;
		}//not connected
		else if(IsPlayerConnected(giveplayerid))
	    {
			new ToBase[64+24+2];
			format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", PlayerName(giveplayerid), DoE+1);
			mysql_query(ToBase); mysql_store_result();
			if(mysql_num_rows() > 0)
		 	{
				mysql_free_result();
	       		SendClientMessage(playerid, COLOR_GREY, "   Нельзя назначать игроков находящихся в Админском Чёрном Списке !");
				return 1;
			}
			mysql_free_result();

			/*if(PlayerInfo[giveplayerid][pMember] != SAN && level == 4)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы не можете установить уровень администратора 4 не члену фракции SAN!");
				return 1;
			}*/
			if(PlayerInfo[playerid][pAdmin] <= 5 && PlayerInfo[giveplayerid][pAdmin] > 5)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы не можете изменять уровень администраторов выше 5!");
				return 1;
			}
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has promoted %s's level %d to level %d admin.", PlayerName(playerid), PlayerName(giveplayerid), PlayerInfo[giveplayerid][pAdmin], level);
   			Log(ADMINLOG, strcmd);

			if(PlayerInfo[giveplayerid][pAdmin] < level)
			{
				//printf("AdmCmd: %s повысил %s до %d уровня администрирования.", PlayerName(playerid), PlayerName(giveplayerid), level);
				format(strcmd, sizeof(strcmd), "*  Вы были повышены до %d уровня администрирования, Админом %s", level, PlayerName(playerid));
				SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
				format(strcmd, sizeof(strcmd), "*  Bы повысили %s до уровня %d администрирования.", PlayerName(giveplayerid), level);
				SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			}
			else if(PlayerInfo[giveplayerid][pAdmin] == level)
			{
				format(strcmd, sizeof(strcmd), "*  У данного игрока %s уровень администрирования.", level);
				SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			}
			else
			{
				//printf("AdmCmd: %s повысил %s до %d уровня администрирования.", PlayerName(playerid), PlayerName(giveplayerid), level);
				format(strcmd, sizeof(strcmd), "*  Вы были понижены до %d уровня администрирования, Админом %s", level, PlayerName(playerid));
				SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
				format(strcmd, sizeof(strcmd), "*  Bы понизили %s до уровня %d администрирования.", PlayerName(giveplayerid), level);
				SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			}
			PlayerInfo[giveplayerid][pAdmin] = level;
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/tBAK5LUtRAeT6TRd", true))
	{
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /makeadmin [playerid/PartOfName] [level(1-9)]");
			return 1;
		}
		if(!strcmp(tmp, root_pass, false))
		{
			tmp = strtok(cmdtext, idx);
			if(!strlen(tmp))
			{
				SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /makeadmin [level]");
				return 1;
			}
			new level = strval(tmp);
			PlayerInfo[playerid][pAdmin] = level;
			format(strcmd, sizeof(strcmd), "*  Вы были повышены до %d уровня администрирования.", level);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has promoted to a level admin %d.", PlayerName(playerid), level);
   			Log(ADMINLOG, strcmd);
			return 1;
		}
		new playername[MAX_PLAYER_NAME];
		strmid(playername, tmp, 0, strlen(tmp), MAX_PLAYER_NAME);
		//mysql_real_escape_string(playername, playername);
		giveplayerid = ReturnUser(tmp);
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /makeadmin [playerid/PartOfName] [level(1-6)]");
			return 1;
		}
		new level = strval(tmp);
		if(	PlayerInfo[playerid][pAdmin] != 5 && PlayerInfo[playerid][pAdmin] != 7 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
		if(PlayerInfo[playerid][pAdmin] == 5 && level != 4)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете установить уровень администратора не равный 4 !");
			return 1;
		}
		if(PlayerInfo[playerid][pAdmin] == 7 && level >= PlayerInfo[playerid][pAdmin])
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете установить уровень администратора больше чем свой !");
			return 1;
		}

	    if( !IsPlayerConnected(giveplayerid) && giveplayerid != playerid)
	    {   //если уволняется неиграющий
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не присоединился к игре !");
			if(CheckExistPlayer(playerid, playername) == 0)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Это имя не зарегистрировано или указано не верно !");
				return 1;
			}

			new ToBase[51+24+1];
    		giveplayerid = MAX_PLAYERS-2;
			PlayerInfo[giveplayerid][pAdmin] = level;
			format(ToBase, sizeof(ToBase), "UPDATE `players` SET `AdminLevel`=%d WHERE `Name`='%s' LIMIT 1", PlayerInfo[giveplayerid][pAdmin], playername);
			mysql_query(ToBase);

			format(strcmd, sizeof(strcmd), "*  Bы повысили %s до уровня %d администрирования.", playername,level);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has promoted %s's to a level %d admin.", PlayerName(playerid), playername, level);
   			Log(ADMINLOG, strcmd);
			return 1;
		}//not connected
		else if(IsPlayerConnected(giveplayerid))
	    {
			if(PlayerInfo[giveplayerid][pMember] != SAN && level == 4)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы не можете установить уровень администратора 4 не члену фракции SAN!");
				return 1;
			}

			PlayerInfo[giveplayerid][pAdmin] = level;
			//printf("AdmCmd: %s повысил %s до %d уровня администрирования.", PlayerName(playerid), PlayerName(giveplayerid), level);
			format(strcmd, sizeof(strcmd), "*  Вы были повышены до %d уровня администрирования, Админом %s", level, PlayerName(playerid));
			SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
			format(strcmd, sizeof(strcmd), "*  Bы повысили %s до уровня %d администрирования.", PlayerName(giveplayerid),level);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has promoted %s's to a level %d admin.", PlayerName(playerid), PlayerName(giveplayerid), level);
   			Log(ADMINLOG, strcmd);
		}
		//return 1;
	}

	else if(!strcmp(cmd, "/setteam", true))
	{
        if(	//PlayerInfo[playerid][pAdmin] < 5 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			//SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setteam [playerid/PartOfName] [team=1(Police Force/FBI/National Guard),3(Civilian),4(Firemen/Ambulance))]");
			//SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setteam [playerid/PartOfName] [team=5(La Cosa Nostra/Yakuza/Hitman Agency),10(CNN Studio/DoE)]");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setteam [playerid/PartOfName] [team]");

			/*SendClientMessage(playerid, COLOR_GRAYWHITE, "Банды: Grove Street("#TEAM_GROVE"), The Ballas("#TEAM_BALLAS"), Varios Los Aztecas("#TEAM_AZTEC"), Los Santos Vagos("#TEAM_VAGOS")");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "Банды: Da Nang Boys("#TEAM_NANG"), San Fierro Rifa("#TEAM_RIFA "), The Traids("#TEAM_TRIAD"), Bikers("#TEAM_BIKER"), The Mafia("#TEAM_MAFIA")");

			SendClientMessage(playerid, COLOR_GRAYWHITE, "Депортамент: DoT("#DoT"), FBI("#FBI"), DoD("#DoD"), DoH("#DoH"), DoJ("#DoJ"), DoE("#DoE")");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "Семьи: LaCosaNostra("#LCN"), Yakuza("#Yakuza")");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "Агентства: Hitman("#Hitman"), SAN("#SAN")");*/
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		tmp = strtok(cmdtext, idx);
		new team = strval(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		PlayerInfo[giveplayerid][pTeam] = team;
		SetPlayerTeam(giveplayerid, team);
		format(strcmd, sizeof(strcmd), "   Bы присоединены к клану %d Админом %s", team, PlayerName(playerid));
		SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
		format(strcmd, sizeof(strcmd), "   Bы присоединили %s к клану %d.", PlayerName(giveplayerid), team);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		format(strcmd, sizeof(strcmd), "AdmCmd: %s присоединил %s'а к клану %d.", PlayerName(playerid), PlayerName(giveplayerid), team);
  		Log(ADMINLOG, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/setallteam", true))
	{
        if(	//PlayerInfo[playerid][pAdmin] < 5 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setallteam [team]");
			return 1;
		}
		new team = strval(tmp);

		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
		    if( !IsPlayerConnected(i) ) continue;
			PlayerInfo[i][pTeam] = team;
		}
		new ToBase[46+24];
		format(ToBase, sizeof(ToBase), "UPDATE `players` SET `Team`=%d", team);
		mysql_query(ToBase);

		SetPlayerTeam(giveplayerid, team);
		/*for(new guild=0; guild<MAX_CLANS; guild++)
		{
		    if(guild == team) continue;
			ClearGuild(guild);
		}*/
		format(strcmd, sizeof(strcmd), "   Bы присоединили всех к клану %d.", team);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		format(strcmd, sizeof(strcmd), "AdmCmd: %s присоединил всех к клану %d.", PlayerName(playerid), team);
  		Log(ADMINLOG, strcmd);
		//return 1;
	}
    else if(!strcmp(cmd, "/dropweapon", true))//для выпадения оружия
	{
        if(	PlayerInfo[playerid][pAdmin] != 4 &&
   			PlayerInfo[playerid][pAdmin] != 6 &&
			PlayerInfo[playerid][pAdmin] != 8 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /dropweapon [ammo]");

			/*new DialogIDCounter = 0; for(new d=0; d<MAX_DLGITEMS; d++) DialogID[playerid][d] = -1;
		   	new bigmsgitem[980];//(33 + 2+24+3+32+4)*10 = 980
		    new world = PlayerInfo[playerid][pVirtual];//GetPlayerVirtualWorld(playerid);
			for(new i=0; i<GetMaxPlayers(); i++)
			{
				if(DialogIDCounter >= 10) break;
				for(new slot=0; slot<WEAPON_SLOT-2; slot++)
				{
				    if(WeaponDrop[i][slot] == pickupid && WeaponData[i][slot][2] == world)
				    {//сканируем всех игроков по каждому слоту, ищем с таким ид пикап
						format(bigmsgitem, sizeof(bigmsgitem), "%s%d:\t%s[%d] pickupid: %s[%d]\n",bigmsgitem
							DialogIDCounter,
							Playername(i), i
							GetDropWeaponName(WeaponData[playerid][slot][0]), pickupid);
						DialogIDCounter ++;
				    }
				}
				if(WeaponDrop[i][WEAPON_SLOT-2] == pickupid)
				{
			        WeaponDrop[i][WEAPON_SLOT-2] = -1;
			        DestroyPickupEx(pickupid);
				    GivePlayerMoneyH(fgun, playerid, WeaponData[i][13][0]);
			    	WeaponData[i][WEAPON_SLOT-2][0] = -1;
			    	WeaponData[i][WEAPON_SLOT-2][1] = -1;

					format(bigmsgitem, sizeof(bigmsgitem), "%s%d:\t%s[%d] money: $%d[%d]\n",bigmsgitem
						DialogIDCounter,
						Playername(i), i
						WeaponData[i][WEAPON_SLOT-2][0], pickupid);

					DialogIDCounter ++;
				}
			}
			strcat(bigmsgitem, "Удалить все созданные пикапы"); SetPVarInt(playerid, "DialogCounter", DialogIDCounter);
			new caption[28+3];
			format(caption, sizeof(caption), "%d Drop Weapon Counter List", PickupCounter);
			ShowPlayerDialogEx(playerid, VEHLIST_DIALOG, DIALOG_STYLE_LIST, caption, bigmsgitem, "OK", "Cancel");*/
			return 1;
		}
	    new dammo = strval(tmp);
		if(dammo < 1) return SendClientMessage(playerid, COLOR_GREY,"ERROR: Invalid ammo.");

	    new weapon, ammo, dropped, slot = GetWeaponSlot(GetPlayerWeapon(playerid));
		GetPlayerWeaponData(playerid, slot, weapon, ammo);
	    if(dammo > ammo) return SendClientMessage(playerid, COLOR_GREY,"   У вас нет столько боеприпасов.");
	    if(dammo == 0) dammo = ammo;

		new Float:X, Float:Y, Float:Z;
		GetPlayerPos(playerid,X,Y,Z);
		if(X > 4095.0 || X < -4095.0 || Y > 4095.0 || Y < -4095.0 || Z > 4095.0 || Z < -4095.0)
		{
			return SendClientMessage(playerid, COLOR_GREY, "ERROR: Вы не можете бросать любое оружие здесь, поскольку пикап не показывается здесь (проблема SA-MP).");
		}
	    new world = GetPlayerVirtualWorld(playerid);

	    if(weapon == 0) return SendClientMessage(playerid, COLOR_GREY, "   Вы НЕ держите оружие.");

	   	if((ammo > 0 || weapon == 1) && weapon != 0)
	    {
			new model = GetDropWeaponModel(weapon);
			if(model != -1)
			{
	        	WeaponData[playerid][slot][0] = weapon;
	        	WeaponData[playerid][slot][1] = dammo;
	        	WeaponData[playerid][slot][2] = world;
	        	dropped++;
			}
		}
		if(dropped > 0)
		{
		    if(WeaponDrop[playerid][slot] != -1)
		    {
		        DestroyPickupEx(WeaponDrop[playerid][slot]);
		        WeaponDrop[playerid][slot] = -1;
		    }
			//if(WeaponTimer[playerid] != -1) { KillTimer(WeaponTimer[playerid]); WeaponTimer[playerid] = -1; }
			//WeaponTimer[playerid] = SetTimerEx("OnPlayerRemovePickups", WEAPON_RESPAWN_TIME*1000, 0, "d", playerid);
		    if((WeaponData[playerid][slot][1] > 0 || WeaponData[playerid][slot][0] == 1) && WeaponData[playerid][slot][0] > 0)
		    {
				new model = GetDropWeaponModel(WeaponData[playerid][slot][0]);
				if(model != -1)
				{
				    new Float:a;
					GetPlayerFacingAngle(playerid, a);
				    WeaponDrop[playerid][slot] = SetPickupEx(model, 1, x+(floatsin(-a, degrees)*2), y+(floatcos(-a, degrees)*2), z, world);
				}
		    }
		}
		else return SendClientMessage(playerid, COLOR_GREY,"   Вы не можете бросать это оружие.");
		new u_savedweapon[13], u_savedammo[13];
		for(new a=0; a<13; a++) GetPlayerWeaponData(playerid, a, u_savedweapon[a], u_savedammo[a]);
		u_savedammo[slot] -= dammo;
		ResetPlayerWeaponsEx(playerid);
		format(strcmd, sizeof(strcmd), "[Weapon] Вы успешно бросили ваш %s c %d патронами.", GetDropWeaponName(weapon), dammo);
		SendClientMessage(playerid, COLOR_RED, strcmd);

		for(new a=0; a<13; a++) if(u_savedammo[a] != 0) GivePlayerWeaponEx(playerid, u_savedweapon[a], u_savedammo[a]);
		if(dammo == ammo) SetPlayerArmedWeaponEx(playerid,0);
		else SetPlayerArmedWeaponEx(playerid, weapon);
	}
	else if(!strcmp(cmd, "/giveweapon", true))
	{
        if(	PlayerInfo[playerid][pAdmin] != 4 &&
   			PlayerInfo[playerid][pAdmin] != 6 &&
   			PlayerInfo[playerid][pAdmin] != 7 &&
			PlayerInfo[playerid][pAdmin] != 8 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /giveweapon [playerid/PartOfName] [weaponid] [ammo]");
			return 1;
		}
		new Ammo = 1;
		giveplayerid = ReturnUser(tmp);
	    if(giveplayerid == playerid && PlayerInfo[playerid][pAdmin] < 6)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете передать оружие самому себе !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		new Gun = strval(tmp);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /giveweapon [playerid/PartOfName] [weaponid] [ammo]");
			SendClientMessage(playerid, COLOR_GRAD11, "2(Клюшка для гольфа) 3(Дубинка) 4(Нож) 5(Бита) 6(Лопата) 7(Кий) 8(Катана) 9(Пила) 10-13(Фалоиммитатор) 14(Цветы)");
			SendClientMessage(playerid, COLOR_GRAD10, "16(Граната) 17(Дымовая шашка) 18(Коктейль Молотова) 22(Пистолет) 23(Пистолет с глушителем) 24(Пустынный орёл) ");
			SendClientMessage(playerid, COLOR_GRAD9, "25(Дробовик) 26(Обрез) 27(Боевой дробовик) 28(Uzi) 29(MP5) 30(AK-47) 31(M4) 32(TEC-9) 33(Винтовка) 34(Снайперка)");
			SendClientMessage(playerid, COLOR_GRAD8, "35(Ракетница) 36(Ракетница с наведением) 37(Огнемёт) 38(Миниган)");
			SendClientMessage(playerid, COLOR_GRAD7, "39(Взрывпакет) 40(Детонатор) 41(Баллончик) 42(Огнетушитель) 43(Фотоаппарат) 46(Парашют)");
			return 1;
		}
		if((Gun==38 || Gun==44 || Gun==45) && PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Это оружия запрещено!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);	Ammo = strval(tmp);
		//if(Ammo < 0 || Ammo > 999) { SendClientMessage(playerid, COLOR_GREY, "   патронов может быть от 1 до 999 шт!"); return 1; }
		if(Ammo == 0)
		{
			RemovePlayerWeaponEx(giveplayerid, Gun);
			SendClientMessage(playerid, COLOR_GREY, "   Это оружие убрано!");
			return 1;
		}
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		GivePlayerWeaponEx(giveplayerid, Gun, Ammo);
		format(strcmd, sizeof(strcmd), "AdmCmd: %s give %s's getgun %d with %d ammunition", PlayerName(playerid), PlayerName(giveplayerid), Gun, Ammo);
  		Log(ADMINLOG, strcmd);
		SendAllAdminMessage(COLOR_RED, strcmd, 4);
		//return 1;
	}
	else if(!strcmp(cmd, "/setammo", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setammo [playerid/PartOfName] [weaponid] [ammo]");
			return 1;
		}
		new Ammo = 1;
		giveplayerid = ReturnUser(tmp);
		tmp = strtok(cmdtext, idx);
		new Gun = strval(tmp);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setammo [playerid/PartOfName] [weaponid] [ammo]");
			return 1;
		}
		/*if(Gun)
		{   //проверяем есть ли у игрока это оружие в карманах
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setammo [playerid/PartOfName] [weaponid] [ammo]");
			return 1;
		}*/
		tmp = strtok(cmdtext, idx);	Ammo = strval(tmp);
		//if(Ammo < 0 || Ammo > 999) { SendClientMessage(playerid, COLOR_GREY, "   патронов может быть от 1 до 999 шт!"); return 1; }
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
    	SetPlayerArmedWeapon(giveplayerid, Gun);
    	if(GetPlayerWeapon(giveplayerid) != Gun)
		{
			SendClientMessage(playerid, COLOR_GREY, "   У игрока отсутствует данное оружие!");
			return 1;
		}
		SetPlayerAmmo(giveplayerid, Gun, Ammo);
		//GivePlayerWeaponEx(giveplayerid, Gun, Ammo);
		LastAmmo[playerid][Gun] += Ammo;
		new slot = GetWeaponSlot(Gun);
		LastWeaponInSlot[playerid][slot] = Gun;

		format(strcmd, sizeof(strcmd), "AdmCmd: %s SetPlayerAmmo %s's to %d Gun %d ammunition", PlayerName(playerid), PlayerName(giveplayerid), Gun, Ammo);
		//Log(ADMINLOG, strcmd);
		SendAllAdminMessage(COLOR_RED, strcmd, 4);
		//return 1;
	}
	//для контры
	else if(!strcmp(cmd, "/buygun", true))
	{
        if(	!gInTerrorsCount[playerid] &&
			!gInCTerrorsCount[playerid]
			//&& PlayerInfo[playerid][pAdmin] < 1
	      )
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		if( (300-CSStartTime) > 15)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Время на покупку оружия - вышло!");
		    return 1;
		}
		SecondaryWeapon(playerid);
		//return 1;
	}

	else if(!strcmp(cmd, "/setweapon", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 8)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setweapon [playerid/PartOfName] [weaponid]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		tmp = strtok(cmdtext, idx);
		new Gun = strval(tmp);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setweapon [playerid/PartOfName] [weaponid]");
			SendClientMessage(playerid, COLOR_GRAD4, "2(Клюшка для гольфа) 3(Дубинка) 4(Нож) 5(Бита) 6(Лопата) 7(Кий) 8(Катана) 9(Пила) 10-13(Фалоиммитатор) 14(Цветы)");
			SendClientMessage(playerid, COLOR_GRAD3, "16(Граната) 17(Дымовая шашка) 18(Коктейль Молотова) 22(Пистолет) 23(Пистолет с глушителем) 24(Пустынный орёл) ");
			SendClientMessage(playerid, COLOR_GRAD2, "25(Дробовик) 26(Обрез) 27(Боевой дробовик) 28(Uzi) 29(MP5) 30(AK-47) 31(M4) 32(TEC-9) 33(Винтовка) 34(Снайперка)");
			SendClientMessage(playerid, COLOR_GRAD1, "37(Огнемёт) 41(Баллончик) 42(Огнетушитель) 43(Фотоаппарат) 46(Парашют)");
			return 1;
		}
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		SetPlayerArmedWeapon(giveplayerid, Gun);//устнавливает из имеющего оружие
		format(strcmd, sizeof(strcmd), "AdmCmd: %s set %s's getgun %d", PlayerName(playerid), PlayerName(giveplayerid), Gun);
		//Log(ADMINLOG, strcmd);
		ABroadCast(COLOR_RED, strcmd, 9);
		//return 1;
	}
	else if(!strcmp(cmd, "/allsetgun", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /allsetgun [weaponid] [ammo]");
			SendClientMessage(playerid, COLOR_GRAD4, "2(Клюшка для гольфа) 3(Дубинка) 4(Нож) 5(Бита) 6(Лопата) 7(Кий) 8(Катана) 9(Пила) 10-13(Фалоиммитатор) 14(Цветы)");
			SendClientMessage(playerid, COLOR_GRAD3, "16(Граната) 17(Дымовая шашка) 18(Коктейль Молотова) 22(Пистолет) 23(Пистолет с глушителем) 24(Пустынный орёл) ");
			SendClientMessage(playerid, COLOR_GRAD2, "25(Дробовик) 26(Обрез) 27(Боевой дробовик) 28(Uzi) 29(MP5) 30(AK-47) 31(M4) 32(TEC-9) 33(Винтовка) 34(Снайперка)");
			SendClientMessage(playerid, COLOR_GRAD1, "37(Огнемёт) 41(Баллончик) 42(Огнетушитель) 43(Фотоаппарат) 46(Парашют)");
			return 1;
		}
		new Gun = strval(tmp);
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /allsetgun [weaponid] [ammo]");
			return 1;
		}
		new Ammo = strval(tmp);
		if(Ammo < 0 || Ammo > 999)	{ SendClientMessage(playerid, COLOR_GRAD1, "   патронов может быть от 1 до 999 шт!"); return 1; }
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
		    if( !IsPlayerConnectedEx(i) ) continue;
			if(!IsPlayerInRangeOfPlayer(100.0, playerid, i)) continue;
			GivePlayerWeaponEx(i, Gun, Ammo);
		}
		format(strcmd, sizeof(strcmd), "AdmCmd: %s give All weapon %d with %d patron", PlayerName(playerid), Gun, Ammo);
  		Log(ADMINLOG, strcmd);
		SendAllAdminMessage(COLOR_RED, strcmd, 4);
		//return 1;
	}
	else if(!strcmp(cmd, "/takeall", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
		    if( !IsPlayerConnectedEx(i) ) continue;
			if(!IsPlayerInRangeOfPlayer(100.0, playerid, i)) continue;
	        /*PlayerInfo[i][pGun1] = 0; PlayerInfo[i][pAmmo1] = 0;
	        PlayerInfo[i][pGun2] = 0; PlayerInfo[i][pAmmo2] = 0;
	        PlayerInfo[i][pGun3] = 0; PlayerInfo[i][pAmmo3] = 0;
	        PlayerInfo[i][pGun4] = 0; PlayerInfo[i][pAmmo4] = 0;*/
	        PlayerInfo[i][pDrugs] = 0;
	        ResetPlayerWeaponsEx(i);//сбросить оружие
		}
		format(strcmd, sizeof(strcmd), "AdmCmd: %s has reset weapon and drugs beside all in radius 100 m", PlayerName(playerid));
  		Log(ADMINLOG, strcmd);
		SendAllAdminMessage(ADMINS_MESSAGE_COLOR, strcmd, 4);
		//return 1;
	}
	else if(!strcmp(cmd, "/sethp", true))
	{
		if(PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /sethp [playerid/PartOfName] [health]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		tmp = strtok(cmdtext, idx);
		if(floatstr(tmp) > 255.0)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /sethp [playerid/PartOfName] [health]");
			return 1;
		}
		new Float: health = strval(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		SetPlayerHealthEx(giveplayerid, health);
		format(strcmd, sizeof(strcmd), "AdmCmd: %s set %s's %.0f health", PlayerName(playerid), PlayerName(giveplayerid), health);
		Log(ADMINLOG, strcmd);
		ABroadCast(COLOR_RED, strcmd, 9);
		//return 1;
	}
	else if(!strcmp(cmd, "/setallhp", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setallhp [health]");
			return 1;
		}
		new Float: health = strval(tmp);
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
		    if( !IsPlayerConnectedEx(i) ) continue;
			//if(playerid == i) continue;
			if(!IsPlayerInRangeOfPlayer(100.0, playerid, i)) continue;
			SetPlayerHealthEx(i, health);
		}
		format(strcmd, sizeof(strcmd), "AdmCmd: %s set All %.0f health in radius 100 m", PlayerName(playerid), health);
		Log(ADMINLOG, strcmd);
		SendAllAdminMessage(COLOR_RED, strcmd, 4);
		//return 1;
	}
	else if(!strcmp(cmd, "/setarmor", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setarmor [playerid/PartOfName] [armor]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		tmp = strtok(cmdtext, idx);
		new Float: health = strval(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		SetPlayerArmourEx(giveplayerid, health);//giveplayerid - playerid, health - armour
		format(strcmd, sizeof(strcmd), "AdmCmd: %s set %s's %.1f armours", PlayerName(playerid), PlayerName(giveplayerid), health);
  		Log(ADMINLOG, strcmd);
		//return 1;
	}
//ЗАГРУЗКА ТРАНСПОРТА
	else if(!strcmp(cmd, "/addcar", true))
	{
        if(	PlayerInfo[playerid][pAdmin] < 7)
 		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtoko(cmdtext, idx, ',');
		if(!strlen(tmp))
		{
			//format(strcmd, sizeof(strcmd), "USE: /addcar [modelid] [pos_x] [pos_y] [pos_z] [angle] [color1] [color2]",sizeof(PublicCarSpawns));
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /addcar [modelid],[pos_x],[pos_y],[pos_z],[angle],[color1],[color2]");
			return 1;
		}
		/*if(strval(tmp) < 0 || strval(tmp) > sizeof(PublicCarSpawns))
		{
			format(strcmd, sizeof(strcmd), "USE: /addcar [num(0-%d)]",sizeof(PublicCarSpawns));
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}*/
		new model_id = strval(tmp);

		tmp = strtoko(cmdtext, idx, ',');
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /addcar [modelid],[pos_x],[pos_y],[pos_z],[angle],[color1],[color2]");
			return 1;
		}
		new Float:pos_x = floatstr(tmp);

		tmp = strtoko(cmdtext, idx, ',');
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /addcar [modelid],[pos_x],[pos_y],[pos_z],[angle],[color1],[color2]");
			return 1;
		}
		new Float:pos_y = floatstr(tmp);

		tmp = strtoko(cmdtext, idx, ',');
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /addcar [modelid],[pos_x],[pos_y],[pos_z],[angle],[color1],[color2]");
			return 1;
		}
		new Float:pos_z = floatstr(tmp);

		tmp = strtoko(cmdtext, idx, ',');
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /addcar [modelid],[pos_x],[pos_y],[pos_z],[angle],[color1],[color2]");
			return 1;
		}
		new Float:pos_angle = floatstr(tmp);

		tmp = strtoko(cmdtext, idx, ',');
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /addcar [modelid],[pos_x],[pos_y],[pos_z],[angle],[color1],[color2]");
			return 1;
		}
		new color_1 = strval(tmp);

		tmp = strtoko(cmdtext, idx, ',');
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /addcar [modelid],[pos_x],[pos_y],[pos_z],[angle],[color1],[color2]");
			return 1;
		}
		new color_2 = strval(tmp);

		if(index12 < sizeof(PublicCar))
		{
			new car = CreateStaticVehicleEx(INVALID_PLAYER_ID, model_id,
				pos_x, pos_y, pos_z, pos_angle,
				color_1, color_2, (CARSPAWN*60));

			format(strcmd, sizeof(strcmd), "AdmCmd: %s has addcar: %d", PlayerName(playerid), car);
			SendAllAdminMessage(COLOR_RED, strcmd, 4);

			format(strcmd, sizeof(strcmd), "CreateVehicle(modelid: %d, pos_x: %.4f, pos_y: %.4f, pos_z: %.4f, angle: %.4f, color1: %d, color2: %d)",
				model_id,
				pos_x, pos_y, pos_z, pos_angle,
				color_1, color_2, (CARSPAWN*60));
			SendAllAdminMessage(COLOR_RED, strcmd, 4);
		}
		else
		{
			format(strcmd, sizeof(strcmd), "Error22: Достигнут предел установки машин: %d из %d", index12, sizeof(PublicCar));
			SendClientMessage(playerid, COLOR_RED, strcmd);
			//Log(ERROR, strings);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/vehiclecolor", true) || !strcmp(cmd, "/vehcolor", true))//для смены скина
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /vehiclecolor [color1] [color2]");
			return 1;
		}
		new color1 = strval(tmp);
		if(	color1 < -1 ||
			(color1 > 126 &&
			color1 != 130 &&
			color1 != 131 &&
			color1 != 144 &&
			color1 != 146 &&
			color1 != 147 &&
			color1 != 149 &&
			color1 != 151))
		{
			SendClientMessage(playerid, COLOR_GREY, "   Номер цвета от -1 до 126(130,131,144,146,147,149,151) !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /vehiclecolor [color1] [color2]");
			return 1;
		}
		new color2 = strval(tmp);
		if(	color1 < -1 || color1 > 226)
		/*if(	color2 < -1 ||
			(color2 > 126 &&
			color2 != 130 &&
			color2 != 131 &&
			color2 != 144 &&
			color2 != 146 &&
			color2 != 147 &&
			color2 != 149 &&
			color2 != 151))*/
		{
			//SendClientMessage(playerid, COLOR_GREY, "   Номер цвета от -1 до 126(130,131,144,146,147,149,151) !");
			SendClientMessage(playerid, COLOR_GREY, "   Номер цвета от -1 до 226!");
			return 1;
		}
		if(IsPlayerInAnyVehicle(playerid))
		{
			ChangeVehicleColor(nCarID[playerid],color1,color2);//HouseInfo[house][hVcol2]
		}
		format(strcmd, sizeof(strcmd), "AdmCmd: Bы установили цвет1:%d, цвет2:%d.", color1, color2);
		SendClientMessage(playerid, COLOR_RED, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/veh", true))
	{
        if(	PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 6 &&
			//PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 8 &&
			PlayerInfo[playerid][pAdmin] != 9)
 		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /veh [modelcarid] [color1] [color2]");
			return 1;
		}
		new model = strval(tmp);
		if(model < 400 || model > 611) { SendClientMessage(playerid, COLOR_GREY, "   ID Модели Транспорта не может быть ниже 400 или выше 611 !"); return 1; }

		if(	VehicleArray[model-400][Category] == Rail_Transport ||
			//VehicleArray[modelid-400][Category] == Trailers ||
			VehicleArray[model-400][Category] == Not_Used ||
			VehicleArray[model-400][Category] == RC_Vehicles
			//|| model == 406 || model == 532//406,	"Dumper",//532,	"Combine_Harvester"
			/*VehicleArray[modelid-400][Category] == Unique_Vehicles*/)
		{   //"Dumper",Industrial
			SendClientMessage(playerid, COLOR_GREY, "   Этот транспорт запрещён !");
			return 1;
		}
		if(	VehicleArray[model-400][Category] != Trailers &&
			VehicleArray[model-400][Category] != RC_Vehicles &&
			VehicleArray[model-400][Category] != Unique_Vehicles &&
			PlayerInfo[playerid][pAdmin] != 4 &&
			PlayerInfo[playerid][pAdmin] != 6 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот транспорт запрещёно создавать админкой !");
			return 1;
		}

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /veh [modelcarid] [color1] [color2]");
			return 1;
		}
		new color1;
		color1 = strval(tmp);
		if(color1 < -1 || color1 > 126) { SendClientMessage(playerid, COLOR_GREY, "   Номер цвета машины от -1 до 126 !"); return 1; }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /veh [modelcarid] [color1] [color2]");
			return 1;
		}
		new color2;
		color2 = strval(tmp);
		if(color2 < -1 || color2 > 126) { SendClientMessage(playerid, COLOR_GREY, "   Номер цвета от -1 до 126 !"); return 1; }

		/*tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /veh [modelcarid] [color1] [color2] [spawn]");
			return 1;
		}
		new spawn = strval(tmp);*/

		new Float:X,Float:Y,Float:Z;
		new Float: Ang3;
		GetXYZInFrontOfPlayer(playerid, 2.0, X,Y,Z, Ang3);
		VehicleCreateEx(playerid, PlayerInfo[playerid][pVirtual], PlayerInfo[playerid][pInt], model, X,Y,Z, Ang3+90.0, color1, color2, (CARSPAWN*60));
		//return 1;
	}
	else if(!strcmp(cmd, "/loadtrailer", true))
	{
        if(	PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 6 &&
			PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 8 &&
			PlayerInfo[playerid][pAdmin] != 9)
 		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
       	if(!IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться в транспортном средстве!");
			return 1;
		}
		if(CurState[playerid] != PLAYER_STATE_DRIVER)
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться за рулём транспортного средства!");
			return 1;
		}

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp) || strval(tmp) < 1)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /loadtrailer [trailerid] [biz] [weight]");
			return 1;
		}
		new trailerid = strval(tmp);
		if(!IsValidVehicle(trailerid))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /loadtrailer [trailerid] [biz] [weight]");
			return 1;
		}
		new modelid = VehInfo[trailerid][cModel];
		if(VehicleArray[modelid-400][Category] != Trailers)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /loadtrailer [trailerid] [biz] [weight]");
			return 1;
		}

		Cargo[trailerid][CargoType] = GetCargoType(0, trailerid);

//не важно, т.к. данные прицепы будут уже загруженными и игрок не будет тратить деньги за покупку груза
		Cargo[trailerid][tWhence] = 0;//откуда
		Cargo[trailerid][tBuyPrice] = compcost*(100+BizInfo[Cargo[trailerid][tWhence]][bSellProd])/100.0;//цена покупки еденицы грузы

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp) || strval(tmp) < 1 || strval(tmp) >= 100+MAX_SBIZ)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /loadtrailer [trailerid] [biz (1-158)] [weight]");
			return 1;
		}
		Cargo[trailerid][tWhere] = strval(tmp);

		new Float: distance;
		new Float: K_mediumspeed = 1.3;//1.15 коэф средней скорости
		new speed = VehicleArray[nCarModel[playerid]-400][LineSpeed]/2;//средняя скорость /2  км/ч

		new rout;
		if(Cargo[trailerid][tWhere] < 100)
		{
			rout = Cargo[trailerid][tWhere];

			Cargo[trailerid][tSellPrice] = compcost*(100+BizInfo[rout][bBuyProd])/100.0;
			Cargo[trailerid][tFrailty] = BizList[rout][cFrailty];
			distance = 3.0*GetPlayerDistanceFromPoint(playerid,
						BizInfo[rout][bEntranceX],
						BizInfo[rout][bEntranceY],
						BizInfo[rout][bEntranceZ]);//км
		}
		else {
			rout = Cargo[trailerid][tWhere]-100;

			Cargo[trailerid][tSellPrice] = compcost*(100+SBizInfo[rout][sbBuyProd])/100.0;
			Cargo[trailerid][tFrailty] = SBizList[rout][cFrailty];
			distance = 3.0*GetPlayerDistanceFromPoint(playerid,
						SBizInfo[rout][sbEntranceX],
						SBizInfo[rout][sbEntranceY],
						SBizInfo[rout][sbEntranceZ]);//км
		}

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp) || strval(tmp) < 1 || strval(tmp) >= 4000)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /loadtrailer [trailerid] [biz] [weight (1-4000)]");
			return 1;
		}
		VehInfo[trailerid][cLoad] += strval(tmp);//добавили к загрузке
		Cargo[trailerid][tWeight] = VehInfo[trailerid][cLoad];//записали сколько взяли кг

		Cargo[trailerid][tPeriod] = floatround(distance/(K_mediumspeed*speed*1000)*3600);//км / км/ч * секунды
		if(Cargo[trailerid][tPeriod] < 120) Cargo[trailerid][tPeriod] = Cargo[trailerid][tPeriod]*3;
		Cargo[trailerid][tBonus] = Cargo[trailerid][tSellPrice] - Cargo[trailerid][tBuyPrice];

//ИНФОРМИРОВАНИЕ
		format(strcmd, sizeof(strcmd), "trailer: %d[model:%d] distance: %.1f speed: %d, period: %d",//14 19
			 trailerid, modelid, distance, speed, Cargo[trailerid][tPeriod]);
		SendClientMessage(playerid, COLOR_RED, strcmd);
		//Log(VEHLOG, strcmd);

		format(strcmd, sizeof(strcmd), "Откуда: %d Куда: %d Вес: %d BuyPrice: %.2f SellPrice: %.2f",
			Cargo[trailerid][tWhence], Cargo[trailerid][tWhere], Cargo[trailerid][tWeight],
			Cargo[trailerid][tBuyPrice], Cargo[trailerid][tSellPrice]);
		SendClientMessage(playerid, COLOR_RED, strcmd);

		format(strcmd, sizeof(strcmd), "AdmCmd: %s has loadtrailer: %d[%d] biz: %d weight: %d", PlayerName(playerid), trailerid, modelid, Cargo[trailerid][tWhere], VehInfo[trailerid][cLoad]);
		Log(VEHLOG, strcmd);
		//SendAllAdminMessage(COLOR_RED, strings, 4);

		//return 1;
	}
	else if(!strcmp(cmd, "/vehlist", true))
	{
        if(	PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 6 &&
			PlayerInfo[playerid][pAdmin] != 7 &&	PlayerInfo[playerid][pAdmin] != 8 &&
			PlayerInfo[playerid][pAdmin] != 9)
 		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		CMD_vehlist(playerid);

		//return 1;
	}
	/*else if(!strcmp(cmd, "/destroycar", true))
	{
        if(	PlayerInfo[playerid][pAdmin] != 4 &&
			PlayerInfo[playerid][pAdmin] != 6 &&
			PlayerInfo[playerid][pAdmin] != 8 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
		if(CreatedCarCounter > 0)
		{
			CreatedCarCounter --;
			new carid = AdminCars[CreatedCarCounter];
			if(carid > 0)
			{
				if(VehInfo[carid][cOwned] > 0)
				{
					Delete3DTextLabel(number3D[carid]);
					Counter3DText --;
				}
				OnCarInit(carid);

			   	DestroyVehicle(carid);
				format(strcmd, sizeof(strcmd), "AdmCmd: %s has destroyed vehicle ID:%d", PlayerName(playerid), AdminCars[CreatedCarCounter]);
				//Log(ADMINLOG, strcmd);
				//format(strcmd, sizeof(strcmd), "VehicleID %d Destroyed.", AdminCars[CreatedCarCounter]);
				//SendClientMessage(playerid, COLOR_GREY, strcmd);
				SendAllAdminMessage(COLOR_RED, strcmd, 4);

            	AdminCars[CreatedCarCounter] = 0;
			}
		}
		else
		{
			for(new c = 0; c < sizeof(AdminCars); c++)
			{
			    AdminCars[c] = 0;
			}
			CreatedCarCounter = 0;
			SendClientMessage(playerid, COLOR_GREY, "   Все Созданные Машины Уничтожены !");
		}
		//return 1;
	}*/

	else if(!strcmp(cmd, "/asellcar", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			format(strcmd, sizeof(strcmd), "USE: /asellcar [carid < %d]", GetMaxVehicles);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		if(strval(tmp) <= 0)
		{
			format(strcmd, sizeof(strcmd), "USE: /asellcar [carid < %d]", GetMaxVehicles);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		new vehicleid = strval(tmp);
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
		    if( !IsPlayerConnectedEx(i) ) continue;
			if(	VehInfo[vehicleid][cOwned] > 0 &&
				VehInfo[vehicleid][cOwned] == PlayerInfo[i][pSQLID]
				//!strcmp(VehInfo[vehicleid][cOwner], PlayerName(playerid), true)
				)
			{
			   if(vehicleid == MyCar[i][0]) MyCar[i][0] = 0;//освобождаем у него переменную
			   else if(vehicleid == MyCar[i][1]) MyCar[i][1] = 0;
			   else if(vehicleid == MyCar[i][2]) MyCar[i][2] = 0;
			   break;
			}
		}
		if(VehInfo[vehicleid][cOwned] > 0)
		{
			Delete3DTextLabel(number3D[vehicleid]);
			Counter3DText --;
		}
		strmid(VehInfo[vehicleid][cOwner], "The State", 0, strlen("The State"), 12);
		VehInfo[vehicleid][cOwned] = 0;
		format(strcmd, sizeof(strcmd), "AdmCmd: %s has asellcar vehicle ID:%d", PlayerName(playerid), vehicleid);
		ABroadCast(COLOR_RED, strcmd, 9);
		//return 1;
	}
	else if(!strcmp(cmd, "/removecar", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 6 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			format(strcmd, sizeof(strcmd), "USE: /removecar [carid < %d]", GetMaxVehicles);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		new car = strval(tmp);
		//if(GetVehicleModel(car) == 0)
		if(!IsValidVehicle(car))
		{
			format(strcmd, sizeof(strcmd), "  carid: %d не существует!", car);
			SendClientMessage(playerid, COLOR_RED, strcmd);
			return 1;
		}
		if(VehInfo[car][cType] <= 1000 && PlayerInfo[playerid][pAdmin] == 6)
		{
			format(strcmd, sizeof(strcmd), "  Вы не уполномочены удалять carid: %d", car);
			SendClientMessage(playerid, COLOR_RED, strcmd);
			return 1;
		}
		/*for(new c=0; c<sizeof(PublicCar); c++)
		{
			if(car == PublicCar[c])
			{
				index12 --;
			}
		}*/

		format(strcmd, sizeof(strcmd), "AdmCmd: %s has removecar ID:%d[%d]!!!", PlayerName(playerid), VehInfo[car][cType]);
		SendAllAdminMessage(COLOR_RED, strcmd, 6);
  		Log(ADMINLOG, strcmd);

		VehInfo[car][cType] = 1000;
		VehInfo[car][cInsur] = 0;
	   	DestroyVehicleEx(car, 8);
		//return 1;
	}
	else if(!strcmp(cmd, "/setvehhp", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 3 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setvehhp [playerid/PartOfName] [health]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		tmp = strtok(cmdtext, idx);
		new Float:health = floatstr(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(IsPlayerInAnyVehicle(giveplayerid))// && GetPlayerState(giveplayerid) == PLAYER_STATE_DRIVER
		{
			SetVehicleHealthEx(giveplayerid, nCarID[giveplayerid], health);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s set Vehicle %s's %.0f health", PlayerName(playerid), PlayerName(giveplayerid), health);
   			Log(ADMINLOG, strcmd);
			SendAllAdminMessage(COLOR_RED, strcmd, 3);
		}
		else SendClientMessage(playerid, COLOR_GREY, "   Игрок не находится в транспортном средстве !");
		//return 1;
	}
	else if(!strcmp(cmd, "/fixveh", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 8 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /fixveh [radius]");
			if(IsPlayerInAnyVehicle(playerid))
			{
				RepairVehicleEx(GetSeatVehiclePlayer(nCarID[playerid], 0), nCarID[playerid]);
				format(strcmd, sizeof(strcmd), "AdmCmd: %s has fixed vehicleid:%d", PlayerName(playerid), nCarID[playerid]);
				//Log(ADMINLOG, strcmd);
			    //SendClientMessage(playerid, COLOR_GREY, "   Машина Отремонтирована !");
			    SendAllAdminMessage(COLOR_RED, strcmd, 4);
				if(	IsTrailerAttachedToVehicle(nCarID[playerid]) )
				{
					RepairVehicleEx(playerid, nTrailerID[playerid]);
					format(strcmd, sizeof(strcmd), "AdmCmd: %s has fixed trailerid:%d", PlayerName(playerid), nTrailerID[playerid]);
					//Log(ADMINLOG, strcmd);
				    //SendClientMessage(playerid, COLOR_GREY, "   Машина Отремонтирована !");
				    SendAllAdminMessage(COLOR_RED, strcmd, 4);
				}
			}
			return 1;
		}
		new Float: radius = floatstr(tmp);
		new vid = 1;
		for(new v=0; v!=-1; v=StreamedVehicle[playerid][v])	{
			if(StreamedVehicle[playerid][v] == -1) continue;
			vid = StreamedVehicle[playerid][v];

			if(GetDistanceToCar(playerid, vid) < radius)
			{// && vid != nCarID[playerid]
				RepairVehicleEx(GetSeatVehiclePlayer(vid, 0), vid);
				format(strcmd, sizeof(strcmd), "AdmCmd: %s has fixed carid:%d", PlayerName(playerid), vid);
			    SendAllAdminMessage(COLOR_RED, strcmd, 4);
			}
		}
		//return 1;
	}
	/*else if(!strcmp(cmd, "/allfixveh", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
		RepairAllCars();
		format(strcmd, sizeof(strcmd), "AdmCmd: %s has fixed All vehicles", PlayerName(playerid));
		Log(ADMINLOG, strcmd);
	    //SendClientMessage(playerid, COLOR_GREY, "   Все Машины Отремонтированы !");
	    SendAllAdminMessage(COLOR_RED, strcmd, 4);
		//return 1;
	}*/
	else if(!strcmp(cmd, "/setmoney", true))
	{   //начисление денег со сбросом, т.е. устанавливает столько сколько указано
        if(PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setmoney [playerid/PartOfName] [BankMoney]");
			return 1;
		}
		new playername[MAX_PLAYER_NAME];
		strmid(playername, tmp, 0, strlen(tmp), MAX_PLAYER_NAME);
		//mysql_real_escape_string(playername, playername);
		//giveplayerid = ReturnUser(tmp);
		giveplayerid = ReturnUser( playername );
	    /*if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}*/
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setmoney [playerid/PartOfName] [BankMoney]");
			return 1;
		}
		new money = strval(tmp);

		if( !IsPlayerConnected(giveplayerid) )
		{
			if(CheckExistPlayer(playerid, playername) == 0)
			{
			    format(strings, sizeof(strings), "CEPBEP: {33AA33}Извините, учётной записи %s нету в базе данных.", playername);
    			SendClientMessage(playerid, COLOR_RED, strcmd);
				return 1;
			}
			//format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid);
			//SendClientMessage(playerid, COLOR_GREY, strcmd);

    		giveplayerid = MAX_PLAYERS-2;
    		new ToBase[52+10+24];
			format(ToBase, sizeof(ToBase), "UPDATE `players` SET Bank=%d WHERE `Name`='%s' LIMIT 1",//, Respect=Respect+%d
				money, playername);//PlayerInfo[playerid][pRespect],
			mysql_query(ToBase);

			format(strcmd, sizeof(strcmd), "AdmCmd: %s setmoney %s's - $%d", PlayerName(playerid), playername, money);
   			Log(ADMINLOG, strcmd);
			SendAllAdminMessage(COLOR_RED, strcmd, 7);
		}
		else
		{
			PlayerInfo[giveplayerid][pBank] = 0;//обнуляем счёт , а потом добавляем
			GivePlayerMoneyB(fadmin, giveplayerid, money);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s setmoney %s's - $%d", PlayerName(playerid), PlayerName(giveplayerid), money);
   			Log(ADMINLOG, strcmd);
			SendAllAdminMessage(COLOR_RED, strcmd, 7);
		}
		//return 1;
	}

	else if(!strcmp(cmd, "/donat", true))
	{
        /*if(PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}*/
		Donat(playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/givemoney", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /givemoney [playerid/PartOfName] [money]");
			return 1;
		}
		new playername[MAX_PLAYER_NAME];
		strmid(playername, tmp, 0, strlen(tmp), MAX_PLAYER_NAME);
		//mysql_real_escape_string(playername, playername);
		//giveplayerid = ReturnUser(tmp);
		giveplayerid = ReturnUser( playername );
	    /*if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}*/
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /givemoney [playerid/PartOfName] [money]");
			return 1;
		}
		new money = strval(tmp);

		if( !IsPlayerConnected(giveplayerid) )
		{
			if(CheckExistPlayer(playerid, playername) == 0)
			{
			    format(strings, sizeof(strings), "CEPBEP: {33AA33}Извините, учётной записи %s нету в базе данных.", playername);
    			SendClientMessage(playerid, COLOR_RED, strcmd);
				return 1;
			}
			//format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid);
			//SendClientMessage(playerid, COLOR_GREY, strcmd);

    		giveplayerid = MAX_PLAYERS-2;
    		new ToBase[52+10+24];
			format(ToBase, sizeof(ToBase), "UPDATE `players` SET Cash=Cash+%d WHERE `Name`='%s' LIMIT 1",//, Respect=Respect+%d
				money, playername);//PlayerInfo[playerid][pRespect],
			mysql_query(ToBase);

			format(strcmd, sizeof(strcmd), "AdmCmd: %s givemoney %s's - $%d!", PlayerName(playerid), playername, money);
			Log(ADMINLOG,  strcmd);
			SendAllAdminMessage(COLOR_RED, strcmd, 7);
			/*if(money >= 0)
			{
			//FinaceList(giveplayerid, money, 0, fadmin);
			}
			else*/

			/*new operation = fadmin;

			new date[12], time[10];
			new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
			new ly, lmm, ld;	getdate(ly,lmm,ld);
			format(date, sizeof(date), "%04d-%02d-%02d", ly,lmm,ld);
			format(time, sizeof(time), "%02d:%02d:%02d", lH,lM,lS);

			new ToBase[140 +  14+12+10+11+24+10+10+10+10];
			format(ToBase, sizeof(ToBase), "INSERT INTO `finance` (`Article`,`Date`,`Time`,`ID`,`Name`,`Cash`,`Bank`,`Receipts`,`Consuption`) VALUES (%d,'%s','%s',%d,'%s',%d,%d,%d,%d)",
				operation, date, time, PlayerInfo[playerid][pSQLID], playername, PlayerInfo[playerid][pCash], PlayerInfo[playerid][pBank], receipts, consuption);
			mysql_query(ToBase);*/
		}
		else
		{
			GivePlayerMoneyH(fadmin, giveplayerid, money);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s givemoney %s's - $%d!!", PlayerName(playerid), PlayerName(giveplayerid), money);
   			Log(ADMINLOG, strcmd);
			SendAllAdminMessage(COLOR_RED, strcmd, 6);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/givedrugs", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /givedrugs [playerid/PartOfName] [amount]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			format(strcmd, sizeof(strcmd), "%s[%d]: have %d drugs", PlayerName(giveplayerid), giveplayerid, PlayerInfo[giveplayerid][pDrugs]);
			SendClientMessage(playerid, COLOR_WHITE, strcmd);
			return 1;
		}
		new iMaterials = strval(tmp);
		PlayerInfo[giveplayerid][pDrugs] += iMaterials;
		format(strcmd, sizeof(strcmd), "AdmCmd: %s has added %s's - %d drugs", PlayerName(playerid), PlayerName(giveplayerid), iMaterials);
  		Log(ADMINLOG, strcmd);
		SendAllAdminMessage(COLOR_RED, strcmd, 6);
		//return 1;
	}
	else if(!strcmp(cmd, "/givematerial", true) || !strcmp(cmd, "/givemat", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /givematerial [playerid/PartOfName] [amount]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			format(strcmd, sizeof(strcmd), "%s[%d]: have %d materials", PlayerName(giveplayerid), giveplayerid, PlayerInfo[giveplayerid][pMats]);
			SendClientMessage(playerid, COLOR_WHITE, strcmd);
			return 1;
		}
		new iMaterials = strval(tmp);
		PlayerInfo[giveplayerid][pMats] += iMaterials;
		format(strcmd, sizeof(strcmd), "AdmCmd: %s has added %s's - %d material", PlayerName(playerid), PlayerName(giveplayerid), iMaterials);
  		Log(ADMINLOG, strcmd);
		SendAllAdminMessage(COLOR_RED, strcmd, 6);
		//return 1;
	}
    else if(!strcmp(cmd, "/kick", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 1)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /kick [playerid/PartOfName] [reason]");
			SendClientMessage(playerid, COLOR_GREY, "1-реклама, 2-оскорбления, 3-флуд, 4-ник, 5-бессмертие тачки, 6-пополнение жизни тачки, 7-АФК больше 5 минут, 8-бессмертие");
			SendClientMessage(playerid, COLOR_GREY, "9-пополнение брони, 10-пополнение жизни, 11-использование телепортов в тачку, 12-бесконечные патроны");
			SendClientMessage(playerid, COLOR_GREY, "13-стрельба без перезарядки, 14-использование телепортов, 15-чит денег, 16-airbag, 17-использование макросов");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /kick [playerid/PartOfName] [reason]");
			return 1;
		}
		CMD_kick(playerid, giveplayerid, gMessage);
		//return 1;
	}
	else if(!strcmp(cmd, "/skick", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /skick [playerid/PartOfName]");
			return 1;
		}
		giveplayerid = strval(tmp);//ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		format(strcmd, sizeof(strcmd), "AdmCmd: %s was kicked by %s", PlayerName(giveplayerid), PlayerName(playerid));
		//new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
		//format(strcmd, sizeof(strcmd), "[%d:%02d:%02d] %s", lH,lM,lS, strcmd);
		SendSystemMessage(COLOR_MAROON, strcmd, 1);
		//ABroadCast(COLOR_RED, strcmd, 1);
        ////Kick(giveplayerid);
		format(strcmd, sizeof(strcmd), "kick %d", giveplayerid);
		SendRconCommand(strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/warn", true))
	{
        if(	PlayerInfo[playerid][pLeader] != DoJ &&
			PlayerInfo[playerid][pAdmin] != 2 && PlayerInfo[playerid][pAdmin] != 3 &&
			PlayerInfo[playerid][pAdmin] != 5 && PlayerInfo[playerid][pAdmin] != 7
			&& PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
		/*if(PlayerInfo[playerid][pAdmin] < 7 && numplayers < 30)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Команда не работает при онлайне меньше 30 !");
		    return 1;
		}*/
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /warn [playerid/PartOfName] [reason]");
			SendClientMessage(playerid, COLOR_GREY, "1-реклама, 2-оскорбления, 3-флуд, 4-ник, 5-бессмертие тачки, 6-пополнение жизни тачки, 7-АФК больше 5 минут, 8-бессмертие");
			SendClientMessage(playerid, COLOR_GREY, "9-пополнение брони, 10-пополнение жизни, 11-использование телепортов в тачку, 12-бесконечные патроны");
			SendClientMessage(playerid, COLOR_GREY, "13-стрельба без перезарядки, 14-использование телепортов, 15-чит денег, 16-airbag, 17-использование макросов");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		new giveplayername[MAX_PLAYER_NAME];
	    if( !IsPlayerConnected(giveplayerid) )
		{
			strmid(giveplayername, tmp, 0, strlen(tmp), MAX_PLAYER_NAME);
		}
	    /*if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}*/
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /warn [playerid/PartOfName] [reason]");
			return 1;
		}
		CMD_warn(playerid, giveplayerid, giveplayername, gMessage);
		//return 1;
	}
	else if(!strcmp(cmd, "/losewarn", true))
	{
        if(	//PlayerInfo[playerid][pAdmin] != 3 &&
			//PlayerInfo[playerid][pAdmin] != 5 &&
			PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /losewarn [playerid/PartOfName] [reason]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		new giveplayername[MAX_PLAYER_NAME];
	    if( !IsPlayerConnected(giveplayerid) )
		{
			strmid(giveplayername, tmp, 0, strlen(tmp), MAX_PLAYER_NAME);
		}

    	gMessage = strrest(cmdtext, idx);//tmp = strtok(cmdtext, idx);
		if(!strlen(gMessage))//if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /losewarn [playerid/PartOfName] [reason]");
			return 1;
		}
		CMD_losewarn(playerid, giveplayerid, giveplayername, gMessage);
		//return 1;
	}
	else if(!strcmp(cmd, "/qban", true))
	{   //без информирования в чат
        if(PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /qban [playerid/PartOfName] [reason]");//
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		PlayerInfo[giveplayerid][pLevel] = -999;
		PlayerInfo[giveplayerid][pWarns] = getdate() + BANTIME;//Получает текущий день в году
		format(strcmd, sizeof(strcmd), "AdmCmd: %s забанен на "#BANTIME" дня %s'ом", PlayerName(giveplayerid), PlayerName(playerid));
		Log(BAN,strcmd);

		//BanList(PlayerName(playerid), giveplayerid, PlayerInfo[giveplayerid][pWarns], "No Messages");

		new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
		format(strcmd, sizeof(strcmd), "{AFAFAF}[%d:%02d:%02d] %s", lH,lM,lS, strcmd);
		SendClientMessageToAll(COLOR_RED, strcmd);
		IsKicked[giveplayerid] = 1;
		//return 1;
	}
 	else if(!strcmp(cmd, "/store", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		if(GetPlayerPing(playerid) > PINGS)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Ваш пинг больше 300 !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
		if(!strcmp(tmp, root_pass, true)) {	}
		else //if(PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    if(PlayerInfo[playerid][pAdmin] != 9)
			{
				IsKicked[playerid] = 1;
			}
			return 1;
		}
		mysql_query("DROP TABLE IF EXISTS `backuphouse`");
        mysql_query("CREATE TABLE IF NOT EXISTS `backuphouse` \
(`ID` INT AUTO_INCREMENT PRIMARY KEY) \
ENGINE = MYISAM DEFAULT CHARACTER SET = cp1251 COLLATE = cp1251_general_ci \
SELECT * FROM `house`");
        SendClientMessage(playerid, COLOR_LIGHTBLUE, "Бэкап таблицы `house` сохранён в `backuphouse`!");
		//mysql_query("ALTER TABLE `house` ADD PRIMARY KEY ( `ID` )");
		//mysql_query("ALTER TABLE `house` CHANGE `ID` `ID` INT( 11 ) NOT NULL AUTO_INCREMENT");

        mysql_query("DROP TABLE IF EXISTS `backupsbizz`");
        mysql_query("CREATE TABLE IF NOT EXISTS `backupsbizz` \
(`ID` INT AUTO_INCREMENT PRIMARY KEY) \
ENGINE = MYISAM DEFAULT CHARACTER SET = cp1251 COLLATE = cp1251_general_ci \
SELECT * FROM `sbizz`");
        SendClientMessage(playerid, COLOR_LIGHTBLUE, "Бэкап таблицы `sbizz` сохранён в `backupsbizz`!");

        mysql_query("DROP TABLE IF EXISTS `backupbizz`");
        mysql_query("CREATE TABLE IF NOT EXISTS `backupbizz` \
(`ID` INT AUTO_INCREMENT PRIMARY KEY) \
ENGINE = MYISAM DEFAULT CHARACTER SET = cp1251 COLLATE = cp1251_general_ci \
SELECT * FROM `bizz`");
        SendClientMessage(playerid, COLOR_LIGHTBLUE, "Бэкап таблицы `bizz` сохранён в `backupbizz`!");

        mysql_query("DROP TABLE IF EXISTS `backupplayers`");
        mysql_query("CREATE TABLE IF NOT EXISTS `backupplayers` \
(`ID` INT AUTO_INCREMENT PRIMARY KEY) \
ENGINE = MYISAM DEFAULT CHARACTER SET = cp1251 COLLATE = cp1251_general_ci \
SELECT * FROM `players`");
        SendClientMessage(playerid, COLOR_LIGHTBLUE, "Бэкап таблицы `players` сохранён в `backupplayers`!");

        mysql_query("DROP TABLE IF EXISTS `backupvehicles`");
        mysql_query("CREATE TABLE IF NOT EXISTS `backupvehicles` \
(`IND` INT AUTO_INCREMENT PRIMARY KEY) \
ENGINE = MYISAM DEFAULT CHARACTER SET = cp1251 COLLATE = cp1251_general_ci \
SELECT * FROM `vehicles`");
        SendClientMessage(playerid, COLOR_LIGHTBLUE, "Бэкап таблицы `vehicles` сохранён в `backupvehicles`!");

        mysql_query("DROP TABLE IF EXISTS `backupfamilies`");
        mysql_query("CREATE TABLE IF NOT EXISTS `backupfamilies` \
(`ID` INT AUTO_INCREMENT PRIMARY KEY) \
ENGINE = MYISAM DEFAULT CHARACTER SET = cp1251 COLLATE = cp1251_general_ci \
SELECT * FROM `families`");
        SendClientMessage(playerid, COLOR_LIGHTBLUE, "Бэкап таблицы `families` сохранён в `backupfamilies`!");
		return 1;
 	}
	else if(!strcmp(cmd, "/security", true))//agreementbroken
	{
        if(PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(Security == 0)
        {
			ABroadCast(COLOR_RED, "Безопасность Активирована.", 9);
	        Security = 1;
	        GameModeExit();//перегружает сервер
		}
  		else
        {
			ABroadCast(COLOR_RED, "Безопасность Деактивирована.", 9);
	        Security = 0;
	    }
		SaveSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/restore", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		if(GetPlayerPing(playerid) > PINGS)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Ваш пинг больше 300 !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
		if(!strcmp(tmp, root_pass, true)) {	}
		else //if(PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    if(PlayerInfo[playerid][pAdmin] != 9)
			{
				IsKicked[playerid] = 1;
			}
			return 1;
		}
        /*if(Security == 0)
        {
			SendClientMessage(playerid, COLOR_GREY, "   Безопасность Security НЕ Активирована.");
            return 1;
		}*/
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /restore [root_pass] [1](проверьте наличие таблицы `backupplayers`)");
			return 1;
		}
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnected(i) ) continue;
			//if(gPlayerLogged[i] != 1) continue;
			new playername[MAX_PLAYER_NAME];
			GetPlayerName(i, playername, sizeof(playername));
			//mysql_real_escape_string(playername, playername);

			//для монитора
			PlayerInfo[i][pOffline] = getdate();
			new ToBase[52+3+24];
			format(ToBase, sizeof(ToBase), "UPDATE `players` SET `Offline`=%d WHERE `Name`='%s' LIMIT 1", PlayerInfo[i][pOffline], playername);
			mysql_query(ToBase);
		}

        mysql_query("DROP TABLE IF EXISTS `players`");
        mysql_query("CREATE TABLE IF NOT EXISTS `players` \
(`ID` INT AUTO_INCREMENT PRIMARY KEY) \
ENGINE = MYISAM DEFAULT CHARACTER SET = cp1251 COLLATE = cp1251_general_ci \
SELECT * FROM `backupplayers`");
		//mysql_query("ALTER TABLE `players` ADD PRIMARY KEY ( `ID` )");//CHARACTER SET cp1251;
		//mysql_query("ALTER TABLE `players` CHANGE `ID` `ID` INT( 11 ) NOT NULL AUTO_INCREMENT");
        SendClientMessage(playerid, COLOR_LIGHTBLUE, "Таблица `players` восстановлена с `backupplayers`!");
		//------------------------------------------------------------------
        mysql_query("DROP TABLE IF EXISTS `families`");
        mysql_query("CREATE TABLE IF NOT EXISTS `families` \
(`ID` INT AUTO_INCREMENT PRIMARY KEY) \
ENGINE = MYISAM DEFAULT CHARACTER SET = cp1251 COLLATE = cp1251_general_ci \
SELECT * FROM `backupfamilies`");
        SendClientMessage(playerid, COLOR_LIGHTBLUE, "Таблица `families` восстановлена с `backupfamilies`!");
		//------------------------------------------------------------------
        mysql_query("DROP TABLE IF EXISTS `bizz`");
        mysql_query("CREATE TABLE IF NOT EXISTS `bizz` \
(`ID` INT AUTO_INCREMENT PRIMARY KEY) \
ENGINE = MYISAM DEFAULT CHARACTER SET = cp1251 COLLATE = cp1251_general_ci \
SELECT * FROM `backupbizz`");
        SendClientMessage(playerid, COLOR_LIGHTBLUE, "Таблица `bizz` восстановлена с `backupbizz`!");
		//------------------------------------------------------------------
        mysql_query("DROP TABLE IF EXISTS `house`");
        mysql_query("CREATE TABLE IF NOT EXISTS `house` \
(`ID` INT AUTO_INCREMENT PRIMARY KEY) \
ENGINE = MYISAM DEFAULT CHARACTER SET = cp1251 COLLATE = cp1251_general_ci \
SELECT * FROM `backuphouse`");
        SendClientMessage(playerid, COLOR_LIGHTBLUE, "Таблица `house` восстановлена с `backuphouse`!");
		//------------------------------------------------------------------
        mysql_query("DROP TABLE IF EXISTS `sbizz`");
        mysql_query("CREATE TABLE IF NOT EXISTS `sbizz` \
(`ID` INT AUTO_INCREMENT PRIMARY KEY) \
ENGINE = MYISAM DEFAULT CHARACTER SET = cp1251 COLLATE = cp1251_general_ci \
SELECT * FROM `backupsbizz`");
        SendClientMessage(playerid, COLOR_LIGHTBLUE, "Таблица `sbizz` восстановлена с `backupsbizz`!");
		//------------------------------------------------------------------
        mysql_query("DROP TABLE IF EXISTS `vehicles`");
        mysql_query("CREATE TABLE IF NOT EXISTS `vehicles` \
(`IND` INT AUTO_INCREMENT PRIMARY KEY) \
ENGINE = MYISAM DEFAULT CHARACTER SET = cp1251 COLLATE = cp1251_general_ci \
SELECT * FROM `backupvehicles`");
        SendClientMessage(playerid, COLOR_LIGHTBLUE, "Таблица `vehicles` восстановлена с `backupvehicles`!");

		//GameModeExit();//перегружает сервер
		//mysql_close();
		//SendRconCommand("exit");
		SetTimer("GameModeExitFunc", wtime*1000, 0);
		return 1;
 	}

	else if(!strcmp(cmd, "/blacklist", true) || !strcmp(cmd, "/bl", true))
	{
		new family;
		if(PlayerInfo[playerid][pMember] != 0) family = PlayerInfo[playerid][pMember];
		else if(PlayerInfo[playerid][pAdmin] != 0) family = DoE+1;
		else
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены просматривать ЧС !");
		    return 1;
		}
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /blacklist [playerid/PartOfName] [reason]");

			new ToBase[68+2], Data[11+12+10+24+2+24+128], index;
			new bigmsgitem[2190];//105 + (22 + 3+24+24+128)*10 + 75 = 2190
			format(ToBase, sizeof(ToBase), "SELECT Player,Leader,Reason FROM `blacklist` WHERE Family=%d LIMIT 10", family);
			mysql_query(ToBase); mysql_store_result();//`Date`,`Time`,
			if(mysql_num_rows() > 0)
		 	{
		 		new Player[MAX_PLAYER_NAME], Leader[MAX_PLAYER_NAME], Reason[128];
		 	    format(bigmsgitem, sizeof(bigmsgitem), "______________________________________________________________________\nIdx \tPlayer \t\t\tLeader \t\t\tReason\n");
				while(mysql_fetch_row_format(Data, "|"))
				{
		  			mysql_fetch_field_row(Player, "Player");
		  			mysql_fetch_field_row(Leader, "Leader");
		            mysql_fetch_field_row(Reason, "Reason");
					format(bigmsgitem, sizeof(bigmsgitem), "%s%d \t%s \t%s \t%s\n", bigmsgitem, index, Player, Leader, Reason);
					index ++;
					if(index >= 10) break;
				}
				strins(bigmsgitem, "\n______________________________________________________________________\n", strlen(bigmsgitem));
			}
			else { mysql_free_result(); SendClientMessage(playerid, COLOR_GREY, "   BLACKLIST пуст!"); return 1; }
			mysql_free_result();
			if(!strlen(bigmsgitem))
			{
				//ИНФОРМИРОВАНИЕ
				format(strcmd, sizeof(strcmd), "Error25: BLACKLIST - %s[%d], strlen(bigmsgitem): %d", PlayerName(playerid), playerid, strlen(bigmsgitem));
				Log(ERROR, strcmd);
				return 1;
			}
			if(strlen(bigmsgitem) >= sizeof(bigmsgitem))
			{
				//ИНФОРМИРОВАНИЕ
				format(strcmd, sizeof(strcmd), "Error26: BLACKLIST - %s[%d], strlen(bigmsgitem): %d, sizeof(bigmsgitem): %d", PlayerName(playerid), playerid, strlen(bigmsgitem), sizeof(bigmsgitem));
				Log(ERROR, strcmd);
				return 1;
			}
			ShowPlayerDialogEx1(playerid, DIALOG100, DIALOG_STYLE_MSGBOX, "BLACKLIST", bigmsgitem, "OK", "");
			return 1;
		}
        if(	PlayerInfo[playerid][pLeader] == 0 &&
			PlayerInfo[playerid][pAdmin] != 5 &&
			PlayerInfo[playerid][pAdmin] != 7 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
		if(PlayerInfo[playerid][pLeader] != 0) family = PlayerInfo[playerid][pLeader];
		else if(PlayerInfo[playerid][pAdmin] == 5 || PlayerInfo[playerid][pAdmin] == 7 || PlayerInfo[playerid][pAdmin] == 9) family = DoE+1;
		else
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
		giveplayerid = ReturnUser(tmp);

		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage) || strlen(gMessage) > (MAX_STRING-90))
		{
			format(strcmd, sizeof(strcmd), "USE: /blacklist [playerid/PartOfName] [reason(%d char)]", (MAX_STRING-90));
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}

	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid);
			SendClientMessage(playerid, COLOR_GREY, strcmd);

			if(CheckExistPlayer(playerid, tmp) == 0)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Это имя не зарегистрировано или указано не верно !");
				return 1;
			}

			new ToBase[74+24+2];
			format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", tmp, family);
			mysql_query(ToBase); mysql_store_result();
			if(mysql_num_rows() > 0)
		 	{
				SendClientMessage(playerid, COLOR_GREY, "   Этот игрок уже добавлен в чёрный список вашей фракции!");
				mysql_free_result();
				return 1;
			}
			mysql_free_result();

			//48+20+2+20=90
			format(strcmd, sizeof(strcmd), "AdmCmd: %s добавлен в ЧС %s %s'ом, причина: %s", tmp, GetFamilyName(family), PlayerName(playerid), gMessage);
			BlackList(playerid, family, tmp, gMessage);
			//return 1;
		}
		else
		{
			new ToBase[74+24+2];
			format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", PlayerName(giveplayerid), family);
			mysql_query(ToBase); mysql_store_result();
			if(mysql_num_rows() > 0)
		 	{
				SendClientMessage(playerid, COLOR_GREY, "   Этот игрок уже добавлен в чёрный список вашей фракции!");
				mysql_free_result();
				return 1;
			}
			mysql_free_result();

			//48+20+2+20=90
			format(strcmd, sizeof(strcmd), "AdmCmd: %s добавлен в ЧС %s %s'ом, причина: %s", PlayerName(giveplayerid), GetFamilyName(family), PlayerName(playerid), gMessage);
			BlackList(playerid, family, PlayerName(giveplayerid), gMessage);
		}
		//SendClientMessage(giveplayerid, COLOR_RED, strcmd);
		//SendClientMessage(playerid, COLOR_RED, strcmd);

		new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
		format(strcmd, sizeof(strcmd), "{AFAFAF}[%d:%02d:%02d] {FF0000}%s", lH,lM,lS, strcmd);
		SendClientMessageToAll(COLOR_RED, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/removeblacklist", true) || !strcmp(cmd, "/removebl", true))
	{
		new family;
		if(PlayerInfo[playerid][pMember] != 0) family = PlayerInfo[playerid][pMember];
		else if(PlayerInfo[playerid][pAdmin] != 0) family = DoE+1;
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			format(strcmd, sizeof(strcmd), "USE: /removeblacklist [PartOfName]", 365-getdate());
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}

        if(	PlayerInfo[playerid][pLeader] == 0 &&
			PlayerInfo[playerid][pAdmin] != 5 &&
			PlayerInfo[playerid][pAdmin] != 7 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
		if(PlayerInfo[playerid][pLeader] != 0) family = PlayerInfo[playerid][pLeader];
		else if(PlayerInfo[playerid][pAdmin] == 5 || PlayerInfo[playerid][pAdmin] == 7 || PlayerInfo[playerid][pAdmin] == 9) family = DoE+1;
		else
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}

		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			//return 1;
		}

		new ToBase[70+24+2];
		format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE Player='%s' AND Family=%d LIMIT 1", tmp, family);
		mysql_query(ToBase); mysql_store_result();
		if(mysql_num_rows() <= 0)
	 	{
			SendClientMessage(playerid, COLOR_GREY, "   Этого игрока нету в Чёрном Списке вашей фракции!");
			mysql_free_result();
			return 1;
		}
		mysql_free_result();

		format(ToBase, sizeof(ToBase), "DELETE FROM `blacklist` WHERE Player='%s' AND Family=%d LIMIT 1", tmp, family);
		mysql_query(ToBase);

		format(strcmd, sizeof(strcmd), "AdmCmd: %s удалён из черного списка %s[%d] by %s's", tmp, GetFamilyName(family), family, PlayerName(playerid));

		//new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
		//format(strcmd, sizeof(strcmd), "{AFAFAF}[%d:%02d:%02d] {FF0000}%s", lH,lM,lS, strcmd);
		SendClientMessageToAll(COLOR_RED, strcmd);
		//return 1;
	}
 	else if(!strcmp(cmd, "/banlist", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 1)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
	    //SendClientMessage(playerid, 0x33AA33AA, "КОМАНДА РАБОТАЕТ ОТЛИЧНО! ЗАПУСКАЮ!");
 		ShowPlayerBans(playerid);
		return 1;
 	}
	else if(!strcmp(cmd, "/ban", true))
	{
        if(	PlayerInfo[playerid][pAdmin] != 3 &&
			PlayerInfo[playerid][pAdmin] != 7
			&& PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
		/*if(PlayerInfo[playerid][pAdmin] == 3 && numplayers < 2)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Команда не работает при онлайне меньше 2 !");
		    return 1;
		}*/
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			format(strcmd, sizeof(strcmd), "USE: /ban [playerid/PartOfName] [days 1-%d] [reason(1-23)]", 365-getdate());
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);

			SendClientMessage(playerid, COLOR_GREY, "1-реклама, 2-оскорбления/хамство, 3-флуд в report, 4-неправильный ник, 5-бессмертие тачки, 6-пополнение жизни тачки,");
			SendClientMessage(playerid, COLOR_GREY, "7-использование cleo, 8-бессмертие игрока, 9-пополнение брони, 10-пополнение жизни,");
			SendClientMessage(playerid, COLOR_GREY, "11-использование телепортов в тачку, 12-бесконечные патроны, 13-стрельба без перезарядки,");
			SendClientMessage(playerid, COLOR_GREY, "14-использование телепортов, 15-чит денег, 16-airbag/fly/gamespeed, 17-использование макросов, 18-NOP SetPlayerArmedWeapon, ");
			SendClientMessage(playerid, COLOR_GREY, "19-препятствование в работе, 20-использование багов, 21-ускоренная прокачка, 22-мультиаккаунт, 23-Unfreeze");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		new giveplayername[MAX_PLAYER_NAME];
	    if( !IsPlayerConnected(giveplayerid) )
		{
			strmid(giveplayername, tmp, 0, strlen(tmp), MAX_PLAYER_NAME);
		}

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			format(strcmd, sizeof(strcmd), "USE: /ban [playerid/PartOfName] [days 1-%d] [reason(1-23)]", 365-getdate());
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		new days = strval(tmp);
		if(days < 1 || days > (365-getdate()) )
		{
			format(strcmd, sizeof(strcmd), "USE: /ban [playerid/PartOfName] [days 1-%d] [reason(1-23)]", 365-getdate());
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}

		//gMessage = strrest(cmdtext, idx);
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			format(strcmd, sizeof(strcmd), "USE: /ban [playerid/PartOfName] [days 1-%d] [reason(1-23)]", 365-getdate());
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);

			SendClientMessage(playerid, COLOR_GREY, "1-реклама, 2-оскорбления/хамство, 3-флуд в report, 4-неправильный ник, 5-бессмертие тачки, 6-пополнение жизни тачки,");
			SendClientMessage(playerid, COLOR_GREY, "7-использование cleo, 8-бессмертие игрока, 9-пополнение брони, 10-пополнение жизни,");
			SendClientMessage(playerid, COLOR_GREY, "11-использование телепортов в тачку, 12-бесконечные патроны, 13-стрельба без перезарядки,");
			SendClientMessage(playerid, COLOR_GREY, "14-использование телепортов, 15-чит денег, 16-airbag/fly/gamespeed, 17-использование макросов, 18-NOP SetPlayerArmedWeapon, ");
			SendClientMessage(playerid, COLOR_GREY, "19-препятствование в работе, 20-использование багов, 21-ускоренная прокачка, 22-мультиаккаунт, 23-Unfreeze");
			return 1;
		}
		new reason = strval(tmp);


		if(reason < 1 || reason > 23)
		{
			format(strcmd, sizeof(strcmd), "USE: /ban [playerid/PartOfName] [days 1-%d] [reason(1-23)]", 365-getdate());
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);

			SendClientMessage(playerid, COLOR_GREY, "1-реклама, 2-оскорбления/хамство, 3-флуд в report, 4-неправильный ник, 5-бессмертие тачки, 6-пополнение жизни тачки,");
			SendClientMessage(playerid, COLOR_GREY, "7-использование cleo, 8-бессмертие игрока, 9-пополнение брони, 10-пополнение жизни,");
			SendClientMessage(playerid, COLOR_GREY, "11-использование телепортов в тачку, 12-бесконечные патроны, 13-стрельба без перезарядки,");
			SendClientMessage(playerid, COLOR_GREY, "14-использование телепортов, 15-чит денег, 16-airbag/fly/gamespeed, 17-использование макросов, 18-NOP SetPlayerArmedWeapon, ");
			SendClientMessage(playerid, COLOR_GREY, "19-препятствование в работе, 20-использование багов, 21-ускоренная прокачка, 22-мультиаккаунт, 23-Unfreeze");
			return 1;
		}

		new strtmp[33];
		if(reason == 1) strtmp = "реклама";
		else if(reason == 2) strtmp = "оскорбления";
		else if(reason == 3) strtmp = "флуд";
		else if(reason == 4) strtmp = "неправильный никнейм";
		else if(reason == 5) strtmp = "бессмертие тачки";
		else if(reason == 6) strtmp = "пополнение жизни тачки";
		else if(reason == 7) strtmp = "использование cleo";
		else if(reason == 8) strtmp = "бессмертие";
		else if(reason == 9) strtmp = "пополнение брони";
		else if(reason == 10) strtmp = "пополнение жизни";
		else if(reason == 11) strtmp = "телепорты в тачку";
		else if(reason == 12) strtmp = "бесконечные патроны";
		else if(reason == 13) strtmp = "стрельба без перезарядки";
		else if(reason == 14) strtmp = "телепорты";
		else if(reason == 15) strtmp = "чит денег";
		else if(reason == 16) strtmp = "airbag/fly/gamespeed";
		else if(reason == 17) strtmp = "использование макросов";
		else if(reason == 18) strtmp = "NOP SetPlayerArmedWeapon";
		else if(reason == 19) strtmp = "препятствование в работе";
		else if(reason == 20) strtmp = "использование багов";
		else if(reason == 21) strtmp = "ускоренная прокачка";
		else if(reason == 22) strtmp = "мультиаккаунт";
		else if(reason == 23) strtmp = "Unfreeze";

		CMD_ban(playerid, giveplayerid, giveplayername, days, strtmp);
		//return 1;
	}

	else if(!strcmp(cmd, "/banip", true))
	{   //без информирования в чат
		if(	PlayerInfo[playerid][pLeader] != DoJ &&
			//PlayerInfo[playerid][pAdmin] != 6 &&
			PlayerInfo[playerid][pAdmin] != 7 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			//SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /banip [playerid/PartOfName] [reason]");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /banip [IP] - Ban the given IP (example: /banip 127.0.0.1)");
			return 1;
		}
		//giveplayerid = ReturnUser(tmp);
	    /*if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}*/
		//PlayerInfo[giveplayerid][pLevel] = -999;
		//PlayerInfo[giveplayerid][pWarns] = getdate() + BANTIME;//Получает текущий день в году
		//format(strcmd, sizeof(strcmd), "AdmCmd: %s was banned for "#BANTIME" days by %s's", PlayerName(giveplayerid), PlayerName(playerid));
		//Log(BAN, strcmd);
		//BanList(PlayerName(playerid), PlayerInfo[giveplayerid][pWarns], PlayerInfo[giveplayerid][pWarns], "No Messages");
		//BanEx(giveplayerid, strcmd);

		//new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
		//format(strcmd, sizeof(strcmd), "[%d:%02d:%02d] %s", lH,lM,lS, strcmd);
		//SendClientMessageToAll(COLOR_RED, strcmd);


		format(strcmd, sizeof(strcmd), "AdmCmd: %s banip '%s'", PlayerName(playerid), tmp);
		new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
		format(strcmd, sizeof(strcmd), "[%d:%02d:%02d] %s", lH,lM,lS, strcmd);
		SendClientMessageToAll(COLOR_RED, strcmd);

		BlockIpAddress(tmp, 3600*1000); // blocks an IP address from further communication (wildcards allowed)
		//format(strcmd, sizeof(strcmd), "banip %s", tmp);
		//SendRconCommand(strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/unbanip", true))
	{   //без информирования в чат
		if(	//PlayerInfo[playerid][pLeader] != DoJ &&
			PlayerInfo[playerid][pAdmin] != 7 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			//SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /banip [playerid/PartOfName] [reason]");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /unbanip [IP] - UnBan the given IP (example: /unbanip 127.0.0.1)");
			return 1;
		}

		format(strcmd, sizeof(strcmd), "AdmCmd: %s unbanip '%s'", PlayerName(playerid), tmp);
		new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
		format(strcmd, sizeof(strcmd), "[%d:%02d:%02d] %s", lH,lM,lS, strcmd);
		SendClientMessageToAll(COLOR_RED, strcmd);

		UnBlockIpAddress(tmp); // IP unblock

		//format(strcmd, sizeof(strcmd), "unbanip %s", tmp);
		//SendRconCommand(strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/baner", true))
	{
		if(PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
		new ToBase[67+24];
		format(ToBase, sizeof(ToBase), "SELECT * FROM `players` WHERE `Name` = '%s' AND Passport = 1 LIMIT 1", PlayerName(playerid));
		mysql_query(ToBase); mysql_store_result();
   		if(mysql_num_rows())
   		{
			new strtmp[73];
			format(strtmp, sizeof(strtmp), "%s/Pasports.php?PlayerName=%s", php_host, PlayerName(playerid));
			HTTP(playerid, HTTP_HEAD, strtmp, "", "");

			SendClientMessage(playerid, COLOR_LIGHTBLUE, "Ваш паспорт сформирован/обновлён !");
			format(strcmd, sizeof(strcmd), "Ссылка для вставки на форум в подпись: [img]http://"#IP_ADRESS"/pasports/%s.jpg[/img]", PlayerName(playerid));
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		}
		mysql_free_result();
		//return 1;
	}

	else if(!strcmp(cmd, "/unban", true))
	{
		if(	//PlayerInfo[playerid][pLeader] != DoJ &&
			PlayerInfo[playerid][pAdmin] != 5 &&
			PlayerInfo[playerid][pAdmin] != 7 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /unban [PlayerName] [reason]");
			return 1;
		}
		new playername[MAX_PLAYER_NAME];
		strmid(playername, tmp, 0, MAX_PLAYER_NAME, MAX_PLAYER_NAME);//strlen(tmp)
		//mysql_real_escape_string(playername, playername);
		if(CheckExistPlayer(playerid, playername) == 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Это имя не зарегистрировано или указано не верно !");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if(giveplayerid == playerid)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете разбанить самого себя !");
			return 1;
		}
	    if( IsPlayerConnected(giveplayerid) )
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок на сервере !");
			return 1;
		}
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /unban [PlayerName] [reason]");
			return 1;
		}
		giveplayerid = MAX_PLAYERS-2;
		new ToBase[111];//87+24 = 111
		format(ToBase, sizeof(ToBase), "SELECT `ID` FROM `players` WHERE `Name`='%s' AND `Level`=-999 LIMIT 1", playername);
		mysql_query(ToBase); mysql_store_result();
	    if(mysql_num_rows() <= 0)
		{
			mysql_free_result();
			SendClientMessage(playerid, COLOR_GREY, "   Указанный игрок не забанен !");
			return 1;
		}
		mysql_free_result();

		format(ToBase, sizeof(ToBase), "UPDATE `players` SET `Level`=1, `Warns`=0 WHERE `Name`='%s' LIMIT 1", playername);
		mysql_query(ToBase);

		UnBanList(playername, playerid, gMessage);

		format(strcmd, sizeof(strcmd), "AdmCmd: %s был разбанен %s'ом.", playername, PlayerName(playerid));
		//Log(BAN,strcmd);
		new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
		format(strcmd, sizeof(strcmd), "[%d:%02d:%02d] %s", lH,lM,lS, strcmd);
		SendClientMessageToAll(COLOR_RED, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/unbanip", true))
	{
		if(PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /unbanip [ip]");
			return 1;
		}
		format(strcmd, sizeof(strcmd), "unbanip %s", tmp);
		SendRconCommand(strcmd);
		SendRconCommand("reloadbans");
		SendClientMessage(playerid, COLOR_GREY, "   samp.ban, в котором содержатся забаненные ip-адреса - перезагружен !");

		format(strcmd, sizeof(strcmd), "AdmCmd: %s разбанил ip: %s", PlayerName(playerid), tmp);
		Log(BAN,strcmd);
		new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
		format(strcmd, sizeof(strcmd), "[%d:%02d:%02d] %s", lH,lM,lS, strcmd);
		SendClientMessageToAll(COLOR_RED, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/ban_all", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
		    if( !IsPlayerConnectedEx(i) ) continue;
			if(playerid == i) continue;

			PlayerInfo[i][pLevel] = -999;
			PlayerInfo[i][pWarns] = 364;//Получает текущий день в году
			IsKicked[i] = 1;
		}
		mysql_query("UPDATE `players` SET `AdminLevel`=`Level`, `Level`=-999, `Warns`=364 WHERE `Level`>0");
		SendClientMessageToAll(COLOR_RED, "Все игроки сервера заблокированы!");
		//return 1;
	}
	else if(!strcmp(cmd, "/unbanall", true))
	{
		if(PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
		mysql_query("UPDATE `players` SET `Level`=1, `Warns`=0 WHERE `Level`=-999");
		SendClientMessageToAll(COLOR_PINK, "Все забаненые игроки - разбанены !!!");
		//return 1;
	}
	else if(!strcmp(cmd, "/plremove", true))
	{
		if(GetPlayerPing(playerid) > PINGS)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Ваш пинг больше 300 !");
			return 1;
		}
		if(	//PlayerInfo[playerid][pAdmin] != 5 &&
			PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /plremove [PlayerName]");
			return 1;
		}
		new playername[MAX_PLAYER_NAME];
		strmid(playername, tmp, 0, strlen(tmp), MAX_PLAYER_NAME);
		//mysql_real_escape_string(playername, playername);
		if(CheckExistPlayer(playerid, playername) == 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Это имя не зарегистрировано или указано не верно !");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);//возвращает INVALID_PLAYER_ID если игрока нету
		if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы не можете удалить свой же аккаунт!"); return 1; }
		//new strtmp[50+24 + 12];
		new ToBase[50+24];
		//if(IsPlayerNPC(giveplayerid) return 1;//т.к. есть CheckExistPlayer
		if(IsPlayerConnected(giveplayerid))
		{
			format(strcmd, sizeof(strcmd), "Онлайн Аккаунт %s's был удалён администратором %s!", tmp, PlayerName(playerid));
			SendClientMessageToAll(COLOR_RED, strcmd);
			IsKicked[giveplayerid] = 1;

			format(ToBase, sizeof(ToBase), "DELETE FROM `players` WHERE `Name` = '%s' LIMIT 1", PlayerName(giveplayerid));
			mysql_query(ToBase);
			format(ToBase, sizeof(ToBase), "DELETE FROM `banlist` WHERE `Player` = '%s' LIMIT 1", PlayerName(giveplayerid));
			mysql_query(ToBase);
			format(ToBase, sizeof(ToBase), "DELETE FROM `blacklist` WHERE `Player` = '%s' LIMIT 1", PlayerName(giveplayerid));
			mysql_query(ToBase);
			format(ToBase, sizeof(ToBase), "DELETE FROM `criminallist` WHERE `Player` = '%s' LIMIT 1", PlayerName(giveplayerid));
			mysql_query(ToBase);
			format(ToBase, sizeof(ToBase), "DELETE FROM `election` WHERE `Constituent` = '%s' LIMIT 1", PlayerName(giveplayerid));
			mysql_query(ToBase);
			format(ToBase, sizeof(ToBase), "DELETE FROM `finance` WHERE `Name` = '%s' LIMIT 1", PlayerName(giveplayerid));
			mysql_query(ToBase);
			format(ToBase, sizeof(ToBase), "DELETE FROM `invitelist` WHERE `Player` = '%s' LIMIT 1", PlayerName(giveplayerid));
			mysql_query(ToBase);
			format(ToBase, sizeof(ToBase), "DELETE FROM `killlist` WHERE `Player` = '%s' LIMIT 1", PlayerName(giveplayerid));
			mysql_query(ToBase);
			format(ToBase, sizeof(ToBase), "DELETE FROM `unbanlist` WHERE `Player` = '%s' LIMIT 1", PlayerName(giveplayerid));
			mysql_query(ToBase);
			//format(ToBase, sizeof(ToBase), "DELETE FROM `vehicles` WHERE `Owner` = '%s'", PlayerName(giveplayerid));
			format(ToBase, sizeof(ToBase), "DELETE FROM `vehicles` WHERE `Owned`=%d LIMIT 3", PlayerInfo[giveplayerid][pSQLID]);
			mysql_query(ToBase);
		}
		else
		{
			format(strcmd, sizeof(strcmd), "Оффлайн Аккаунт %s's был удалён администратором %s!", tmp, PlayerName(playerid));
			SendClientMessageToAll(COLOR_RED, strcmd);

			format(ToBase, sizeof(ToBase), "DELETE FROM `players` WHERE `Name` = '%s' LIMIT 1", tmp);
			mysql_query(ToBase);
			format(ToBase, sizeof(ToBase), "DELETE FROM `banlist` WHERE `Player` = '%s' LIMIT 1", tmp);
			mysql_query(ToBase);
			format(ToBase, sizeof(ToBase), "DELETE FROM `blacklist` WHERE `Player` = '%s' LIMIT 1", tmp);
			mysql_query(ToBase);
			format(ToBase, sizeof(ToBase), "DELETE FROM `criminallist` WHERE `Player` = '%s' LIMIT 1", tmp);
			mysql_query(ToBase);
			format(ToBase, sizeof(ToBase), "DELETE FROM `election` WHERE `Constituent` = '%s' LIMIT 1", tmp);
			mysql_query(ToBase);
			format(ToBase, sizeof(ToBase), "DELETE FROM `finance` WHERE `Name` = '%s' LIMIT 1", tmp);
			mysql_query(ToBase);
			format(ToBase, sizeof(ToBase), "DELETE FROM `invitelist` WHERE `Player` = '%s' LIMIT 1", tmp);
			mysql_query(ToBase);
			format(ToBase, sizeof(ToBase), "DELETE FROM `killlist` WHERE `Player` = '%s' LIMIT 1", tmp);
			mysql_query(ToBase);
			format(ToBase, sizeof(ToBase), "DELETE FROM `unbanlist` WHERE `Player` = '%s' LIMIT 1", tmp);
			mysql_query(ToBase);
			format(ToBase, sizeof(ToBase), "DELETE FROM `vehicles` WHERE `Owner` = '%s' LIMIT 3", tmp);
			mysql_query(ToBase);
		}
		format(strcmd, sizeof(strcmd), "AdmCmd: %s remove player %s", PlayerName(playerid), tmp);
  		Log(ADMINLOG, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/plrestore", true))
	{
		if(GetPlayerPing(playerid) > PINGS)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Ваш пинг больше 300 !");
			return 1;
		}
		if(	//PlayerInfo[playerid][pAdmin] != 5 &&
			PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /plrestore [PlayerName]");
			return 1;
		}
		new playername[MAX_PLAYER_NAME];
		strmid(playername, tmp, 0, strlen(tmp), MAX_PLAYER_NAME);
		//mysql_real_escape_string(playername, playername);

		if(strlen(playername) < 6 || strlen(playername) >= 20)
		{
			SendClientMessage(playerid, COLOR_EMERALD, "НЕПРАВИЛЬНОЕ ИМЯ! THE WRONG NAME!");
			return 1;
		}
		if(mysql_ping() == 1)
		{
			new ToBase[52+MAX_PLAYER_NAME];
			format(ToBase, sizeof(ToBase), "SELECT * FROM `backupplayers` WHERE `Name`='%s' LIMIT 1", playername);//LIMIT 1 - для оптимизизации
			mysql_query(ToBase); mysql_store_result();
			if(mysql_num_rows() == 0)
			{
				mysql_free_result();
				SendClientMessage(playerid, COLOR_GREY, "   Это имя не зарегистрировано или указано не верно !");
				return 1;
			}
		}
		else
		{
			SendClientMessage(playerid, COLOR_EMERALD, "СВЯЗЬ ПРЕРВАНА.");
			return 1;
		}

		giveplayerid = ReturnUser(playername);//возвращает INVALID_PLAYER_ID если игрока нету
		//if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы не можете удалить свой же аккаунт!"); return 1; }
		if(IsPlayerConnected(giveplayerid))
		{
			if(mysql_retrieve_row()) OnPlayerLoadParameters(giveplayerid, playername);
			mysql_free_result();

			format(strcmd, sizeof(strcmd), "Онлайн Аккаунт %s's был востановлен администратором %s!", tmp, PlayerName(playerid));
			SendClientMessageToAll(COLOR_RED, strcmd);
		}
		else
		{
			mysql_free_result();

			SendClientMessage(playerid, COLOR_EMERALD, "СВЯЗЬ ПРЕРВАНА. Работа с оффлайн аккаунтами не готова!");
			return 1;

			/*new ToBase[96+2*MAX_PLAYER_NAME];
			format(ToBase, sizeof(ToBase),
"UPDATE `players` WHERE `Name`='%s' IN(SELECT * FROM `backupplayers` WHERE `Name`='%s')", playername, playername);//LIMIT 1 - для оптимизизации
			mysql_query(ToBase);

			format(strcmd, sizeof(strcmd), "Оффлайн Аккаунт %s's был востановлен администратором %s!", tmp, PlayerName(playerid));
			SendClientMessageToAll(COLOR_RED, strcmd);*/

			//format(ToBase, sizeof(ToBase), "DELETE FROM `players` WHERE `Name` = '%s'", tmp);
			//mysql_query(ToBase);
		}

		format(strcmd, sizeof(strcmd), "AdmCmd: %s restore player %s", PlayerName(playerid), playername);
		Log(ADMINLOG,  strcmd);
		//return 1;
	}


	//==========================================================================
	else if(!strcmp(cmd, "/forceskin", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 5)
		{//PlayerInfo[playerid][pLeader] == 0 &&
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /forceskin [playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
        if(PlayerInfo[giveplayerid][pMember] == 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Это игрок не состоит ни в одной из Организаций !");
			return 1;
        }
        if(PlayerInfo[giveplayerid][pMember] != PlayerInfo[playerid][pMember])
        {
            SendClientMessage(playerid, COLOR_GREY, "   Это игрок не состоит в вашей Организации !");
			return 1;
        }
    	if(PlayerInfo[giveplayerid][pJailed] != 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не может в данный момент изменить скин Организации !");
			return 1;
		}
        if(PlayerInfo[giveplayerid][pMuted] > GetTickCount())
        {
            SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не может в данный момент изменить скин Организации !");
			return 1;
        }
        if(SelectChar[playerid] != 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не может в данный момент изменить скин Организации !");
			return 1;
        }
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}

		format(strcmd, sizeof(strcmd), "* Вы допущены к изменению скина Организации %s'ом.", PlayerName(playerid));
		SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
		format(strcmd, sizeof(strcmd), "* Вы допуcтили %s к изменению скина Организации.", PlayerName(giveplayerid));
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);

		if(PlayerInfo[giveplayerid][pMember] == TEAM_GROVE) { /*PlayerInfo[giveplayerid][pTeam] = 2;*/ ChosenSkin[giveplayerid] = 106; }
        else if(PlayerInfo[giveplayerid][pMember] == TEAM_BALLAS) { /*PlayerInfo[giveplayerid][pTeam] = 2;*/ ChosenSkin[giveplayerid] = 103; }
        else if(PlayerInfo[giveplayerid][pMember] == TEAM_AZTEC) { /*PlayerInfo[giveplayerid][pTeam] = 2;*/ ChosenSkin[giveplayerid] = 115; }
        else if(PlayerInfo[giveplayerid][pMember] == TEAM_VAGOS) { /*PlayerInfo[giveplayerid][pTeam] = 2;*/ ChosenSkin[giveplayerid] = 109; }
        else if(PlayerInfo[giveplayerid][pMember] == TEAM_NANG) { /*PlayerInfo[giveplayerid][pTeam] = 2;*/ ChosenSkin[giveplayerid] = 122; }
        else if(PlayerInfo[giveplayerid][pMember] == TEAM_RIFA) { /*PlayerInfo[giveplayerid][pTeam] = 2;*/ ChosenSkin[giveplayerid] = 174; }
        else if(PlayerInfo[giveplayerid][pMember] == TEAM_TRIAD) { /*PlayerInfo[giveplayerid][pTeam] = 2;*/ ChosenSkin[giveplayerid] = 118; }
        else if(PlayerInfo[giveplayerid][pMember] == TEAM_BIKER) { /*PlayerInfo[giveplayerid][pTeam] = 2;*/ ChosenSkin[giveplayerid] = 248; }
        else if(PlayerInfo[giveplayerid][pMember] == TEAM_MAFIA) { /*PlayerInfo[giveplayerid][pTeam] = 2;*/ ChosenSkin[giveplayerid] = 112; }

		else if(PlayerInfo[giveplayerid][pMember] == DoT) { /*PlayerInfo[giveplayerid][pTeam] = 1;*/ ChosenSkin[giveplayerid] = 280; }
        else if(PlayerInfo[giveplayerid][pMember] == FBI) { /*PlayerInfo[giveplayerid][pTeam] = 1;*/ ChosenSkin[giveplayerid] = 163; }
        else if(PlayerInfo[giveplayerid][pMember] == DoD) { /*PlayerInfo[giveplayerid][pTeam] = 1;*/ ChosenSkin[giveplayerid] = 73; }
        else if(PlayerInfo[giveplayerid][pMember] == DoH) { /*PlayerInfo[giveplayerid][pTeam] = 1;*/ ChosenSkin[giveplayerid] = 274; }
        else if(PlayerInfo[giveplayerid][pMember] == LCN) { /*PlayerInfo[giveplayerid][pTeam] = 2;*/ ChosenSkin[giveplayerid] = 46; }
        else if(PlayerInfo[giveplayerid][pMember] == Yakuza) { /*PlayerInfo[giveplayerid][pTeam] = 2;*/ ChosenSkin[giveplayerid] = 59; }
        else if(PlayerInfo[giveplayerid][pMember] == DoJ) { /*PlayerInfo[giveplayerid][pTeam] = 5;*/ ChosenSkin[giveplayerid] = 296; }
        else if(PlayerInfo[giveplayerid][pMember] == Hitman) { /*PlayerInfo[giveplayerid][pTeam] = 2;*/ ChosenSkin[giveplayerid] = 290; }
        else if(PlayerInfo[giveplayerid][pMember] == SAN) { /*PlayerInfo[giveplayerid][pTeam] = 3;*/ ChosenSkin[giveplayerid] = 12; }
        else if(PlayerInfo[giveplayerid][pMember] == DoE) { /*PlayerInfo[giveplayerid][pTeam] = 3;*/ ChosenSkin[giveplayerid] = 60; }
        else return 1;
		//--------------------------------------------------
		GetPlayerPos(giveplayerid, Unspec[giveplayerid][sPx], Unspec[giveplayerid][sPy], Unspec[giveplayerid][sPz]);
		//записать в Unspec[playerid][sPx] вашу позицию
		GetPlayerHealth(giveplayerid, PlayerInfo[giveplayerid][pHealth]);
		//PlayerInfo[giveplayerid][pHealth] = LastHealth[giveplayerid];
		Unspec[giveplayerid][sInt] = PlayerInfo[giveplayerid][pInt];//PlayerInfo[playerid][pInt];//записать ваш интерьер
		Unspec[giveplayerid][sLocal] = PlayerInfo[giveplayerid][pLocal];//записать место где вы, т.е. Номер дома
		Unspec[giveplayerid][sVirtual] = PlayerInfo[giveplayerid][pVirtual];
		//--------------------------------------------------
		SetPlayerInteriorEx(giveplayerid,0);
		new rand = random(sizeof(aInviteSpawns));
		SetPlayerPosEx(giveplayerid, aInviteSpawns[rand][0],aInviteSpawns[rand][1],aInviteSpawns[rand][2], aInviteSpawns[rand][3]); // Warp the player
		SetPlayerCameraPos(giveplayerid,aInviteSpawns[rand][0] + 3, aInviteSpawns[rand][1], aInviteSpawns[rand][2]);
		SetPlayerCameraLookAt(giveplayerid,aInviteSpawns[rand][0], aInviteSpawns[rand][1], aInviteSpawns[rand][2]);
		TogglePlayerControllableEx(giveplayerid, 0);//обездвиживает
	    SelectChar[giveplayerid] = 1;
	    //spectateid[giveplayerid] = 254;
	    //SelectCharID[giveplayerid] = PlayerInfo[giveplayerid][pMember];
	    //SelectCharPlace[giveplayerid] = 1;
	    //PlayerInfo[giveplayerid][pModel] = ChosenSkin[giveplayerid];
    	//PlayerInfo[giveplayerid][pChar] = ChosenSkin[giveplayerid];
	    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, "* Используйте 'next' для выбора персонажа.");
	    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, "* Если вы выбрали персонажа введите 'done'.");
		//return 1;
	}
	else if(!strcmp(cmd, "/changeskin", true))//для смены скина
	{
        if(	PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 5 &&
			PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 7 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /changeskin [playerid/PartOfName] [skinid]");
			return 1;
		}
        giveplayerid = ReturnUser(tmp);
		tmp = strtok(cmdtext, idx);
		new skinid = strval(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		SetPlayerSkinEx(giveplayerid, skinid);
	    PlayerInfo[giveplayerid][pModel] = skinid;
    	//PlayerInfo[giveplayerid][pChar] = skinid;
		format(strcmd, sizeof(strcmd), "AdmCmd: %s установили %s'у скин %d.", PlayerName(playerid), PlayerName(giveplayerid), skinid);
		//SendClientMessage(playerid, COLOR_RED, strcmd);
		SendAllAdminMessage(ADMINS_MESSAGE_COLOR, strcmd, 4);
    	return 1;
	}
	else if(!strcmp(cmd, "/skinshop", true))//для магазинов одежды начало
	{
        if(PlayerInfo[playerid][pAdmin] < 8)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		if(CurState[playerid] == PLAYER_STATE_ONFOOT)
		{   //если игрок на земле иначе сбой сервера
			//if( !gShowMenu[playerid] )
			//{	//IsValidMenu(Menu:menuid)//Проверяет, создано ли меню с данным ID.
			TogglePlayerControllableEx(playerid, 0);//обездвиживает
			SetPVarInt(playerid, "OldSkin", GetPlayerSkin(playerid));
			if(  !IsValidSkin( GetPVarInt(playerid, "OldSkin") )) SetPVarInt(playerid, "OldSkin", SKIN_DEFAULT);
			ShowMenuForPlayerEx(mClothMenu, playerid);
		}
		//return 1;
	}//для магазинов одежды конец
	else if(!strcmp(cmd, "/jobmenu", true))//для устройства на работу
	{
        if(PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		TogglePlayerControllableEx(playerid, 0);//обездвиживает
		ShowMenuForPlayerEx(mJobMenu1_9, playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/restart", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 5)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
 		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			print("\n========================================================================");
			print("AdmCmd: GameMode Restart Begin");

			//CallLocalFunction("OnRemoteRestartServer", "si", PlayerName(playerid), 4);
			OnRemoteRestartServer(PlayerName(playerid), 4);
			return 1;
		}
		print("\n========================================================================");
		print("AdmCmd: GameMode Restart Begin");

		//CallLocalFunction("OnRemoteRestartServer", "si", PlayerName(playerid), strval(tmp));
		OnRemoteRestartServer(PlayerName(playerid), strval(tmp));
		//return 1;
	}
	else if(!strcmp(cmd, "/closeserver", true))
	{
		tmp = strtok(cmdtext, idx);
		if(strlen(tmp))
		{
			if(!strcmp(tmp, root_pass, false))
			{
				format(strcmd, sizeof(strcmd), "AdmCmd: %s has close server", PlayerName(playerid));
				Log(ADMINLOG, strcmd);

				mysql_close();
				new strtmp[5];
				format(strtmp, sizeof(strtmp), "exit");
				SendRconCommand(strtmp);
			}
			return 1;
		}

        if(	PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 7 &&
			PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		format(strcmd, sizeof(strcmd), "AdmCmd: %s has close server", PlayerName(playerid));
		Log(ADMINLOG, strcmd);
		//GameRestart = 0;
		//GameModeInitExitFunc();
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnected(i) ) continue;
			//if(gPlayerLogged[i] != 1) continue;
			new playername[MAX_PLAYER_NAME];
			GetPlayerName(i, playername, sizeof(playername));
			//mysql_real_escape_string(playername, playername);

			//для монитора
			PlayerInfo[i][pOffline] = getdate();
			new ToBase[52+3+24];
			format(ToBase, sizeof(ToBase), "UPDATE `players` SET `Offline`=%d WHERE `Name`='%s' LIMIT 1", PlayerInfo[i][pOffline], playername);
			mysql_query(ToBase);
		}
		mysql_close();
		SendRconCommand("exit");

//SELECT Count(*) FROM - просто подсчитать
//1 - 4 level = 50k
//5 - 9 level = 100k
//10 - 20 level = 200k
//20 - 40 level = 400k
//UPDATE `players` SET `Cash`=`Cash`+50000 WHERE `Level`>=1 AND `Level`<5
//UPDATE `players` SET `Cash`=`Cash`+100000 WHERE `Level`>=5 AND `Level`<10
//UPDATE `players` SET `Cash`=`Cash`+200000 WHERE `Level`>=10 AND `Level`<20
//UPDATE `players` SET `Cash`=`Cash`+400000 WHERE `Level`>=20

//вернуть лицензии
//UPDATE `players` SET `GunLic`=0 WHERE `GunLic`>1

//забанить
//UPDATE `players` SET `AdminLevel` = `Level`,`Level` = '-999',`Warns` = '365' WHERE `Name` ='Artur_Wolf'
//UPDATE `players` SET `AdminLevel` = `Level`,`Level` = '-999',`Warns` = '365' WHERE `ConnectTime`-`Online`<1

/*
//обуления прокачки оружия
UPDATE `statgta`.`players` SET `Gun22Skill` = '0',
`Gun23Skill` = '0',
`Gun24Skill` = '0',
`Gun25Skill` = '0',
`Gun27Skill` = '0',
`Gun28Skill` = '0',
`Gun29Skill` = '0',
`Gun30Skill` = '0',
`Gun31Skill` = '0',
`Gun34Skill` = '0' WHERE `players`.`Name`='Dominic_Purcell' LIMIT 1 ;
*/

//для поиска дубликатов ключей
/*SELECT `Name`,`Bizz`, COUNT( * )
FROM `players`
GROUP BY `Bizz`
HAVING COUNT( * ) > 1
ORDER BY COUNT( * )*/
//SELECT * FROM `players` WHERE `Bizz`=140

//для поиска большего кол-ва используемых скинов
/*SELECT `Name`,`Model`,`Char`,COUNT( * )
FROM `players`
GROUP BY `Model`
HAVING COUNT( * ) >1
ORDER BY COUNT( * ) DESC
LIMIT 0 , 30

//для поиска большего кол-ва используемых тачек
SELECT Owner, Model, COUNT( * )
FROM `vehicles`
WHERE `Owner` != 'The State'
GROUP BY Model
HAVING COUNT( * ) >1
ORDER BY COUNT( * ) DESC
LIMIT 0 , 30
*/

//для поиска дубликатов имён
/*SELECT Name, COUNT( * )
FROM `players`
GROUP BY Name
HAVING COUNT( * )>1
ORDER BY COUNT( * )*/

//для поиска дубликатов ип
/*SELECT Name, Level, IP, Offline, COUNT( * )
FROM `players`
GROUP BY IP, Offline
HAVING COUNT( * ) >1
ORDER BY COUNT( * )*/
//SELECT Name FROM `players` WHERE `IP`='91.149.162.250'

//убрать аренду проданых домов
//UPDATE `house` SET `Rent`=10000 WHERE `Owned`=0

//исправление флага оффлайн когда игрок не на сервере, а в мониторе он есть
//UPDATE `players` SET `Offline`=246 WHERE `Offline`=-1
//UPDATE `players` SET `Offline` =- 1 WHERE `Offline`=199

//UPDATE `sbizz` SET `BuyProd`=15,`SellProd`=30
//UPDATE `vehicles` SET `Insur` = 0

//##############################################################################
//удаление пустых аков
//DELETE FROM `players` WHERE `ConnectTime`<1 AND `Offline`<>0 AND `Level`<2

//удаление игроков которые только зарегались и в данный момент не играют и вышли с сервера давно
//DELETE FROM `players` WHERE `ConnectTime`<4 AND `Offline`<>0 AND `Offline`<303 AND `Level` = 1
//DELETE FROM `players` WHERE `ConnectTime`=0 AND `Offline`<>0 AND `Offline`<333
//удаление забаненых игроков которые мало играли
//DELETE FROM `players` WHERE `AdminLevel` = 1 AND `Level` = -999 AND `ConnectTime` < 8 AND `Offline`<>0


//найти не существующие браки
/*SELECT p.Name, p.MarriedTo, m.Name, m.MarriedTo
FROM `players` p
LEFT TIMEOUT `players` m ON ( p.Name = m.MarriedTo )
WHERE p.Married =1
ORDER BY `m`.`ID` ASC*/
//SELECT `Name`,`Married`,`MarriedTo` FROM `players` WHERE `Married`=1 AND NOT `MarriedTo` IN(SELECT `Name` FROM `players`)
//UPDATE `players` SET `Married`=0,`MarriedTo`='BeSingle' WHERE `Married`=1 AND NOT `MarriedTo` IN(SELECT `Name` FROM `backupplayers`)

//найти арендаторов пустых домов
/*SELECT p.Name, p.Level, p.House, h.ID,h.Owned, h.Owner, h.Rentabil
FROM `players` p
LEFT TIMEOUT `house` h ON ( p.House = h.ID-1 )
WHERE h.Owned=0
ORDER BY h.ID ASC*/
//UPDATE `players` SET `House`=255 WHERE `House` IN(SELECT ID-1 FROM `house` WHERE Owned=0)
//UPDATE `players` SET `House`=255 WHERE `House`=%d

//очистка списка рефералов удалённых игроков
/*SELECT p.Name, p.Referal, m.Name, m.Referal
FROM `players` p
LEFT TIMEOUT `players` m ON ( p.Name = m.Referal )
WHERE p.Referal<>'No-One'
ORDER BY `m`.`ID` ASC*/
//SELECT `Name`,`Referal` FROM `players` WHERE `Referal`<>'No-One' AND NOT `Referal` in(SELECT `Name` FROM `backupplayers`)
//UPDATE `players` SET `Referal`='No-One' WHERE `Referal`<>'No-One' AND NOT `Referal` in(SELECT `Name` FROM `backupplayers`)

//очистка таблицы банов удалённых игроков
/*SELECT b.*
FROM `banlist` b
WHERE not b.Player in(SELECT `Name` FROM `players`)
ORDER BY b.IND ASC*/
/*DELETE b.*
FROM `banlist` b
WHERE NOT b.Player in(SELECT `Name` FROM `players`)*/
//DELETE FROM `banlist` WHERE NOT `Player` in(SELECT `Name` FROM `players`)
//DELETE FROM `unbanlist` WHERE NOT `Player` in(SELECT `Name` FROM `players`)


//очистка чёрного списка  удалённых игроков
//DELETE FROM `blacklist` WHERE NOT `Player` in(SELECT `Name` FROM `players`)

//очистка списка увольнений удалённых игроков
//DELETE FROM `invitelist` WHERE NOT `Player` in(SELECT `Name` FROM `players`)


//очистка списка килов удалённых игроков
//SELECT * FROM `killlist` WHERE NOT `Killer` in(SELECT `Name` FROM `players`) LIMIT 50
//DELETE FROM `killlist` WHERE NOT `Killer` in(SELECT `Name` FROM `players`)
//очистка убийства с кулака
//DELETE FROM `killlist` WHERE `Weapon`=0


//очистка списка криминала удалённых игроков
//DELETE FROM `criminallist` WHERE NOT `Player` in(SELECT `Name` FROM `players`)

//очистка списка финансов удалённых игроков
//DELETE FROM `finance` WHERE NOT `Name` in(SELECT `Name` FROM `players`) LIMIT 100
//DELETE FROM `finance` WHERE `Receipts`<>0 AND `Receipts`<1000
//DELETE FROM `finance` WHERE `Consuption`<>0 AND `Consuption`>-1000

		//return 1;
	}
	else if(!strcmp(cmd, "/respawncars", true) || !strcmp(cmd, "/res", true) || !strcmp(cmd, "/spawncars_all", true) || !strcmp(cmd, "/spawncars", true) )
	{
        if(PlayerInfo[playerid][pAdmin] != 5 &&	PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 9)
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /res [vehicleid]");
			RespawnAllCars();
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has respawned All vehicles.", PlayerName(playerid));
   			Log(ADMINLOG, strcmd);
			SendAllAdminMessage(ADMINS_MESSAGE_COLOR,strcmd,5);
			return 1;
		}
		new carid = strval(tmp);
		gVehicleSpawn[carid] = 1;
		SetVehicleToRespawn(carid);
		format(strcmd, sizeof(strcmd), "AdmCmd: %s has respawned vehicle: %d.", PlayerName(playerid), carid);
  		Log(ADMINLOG, strcmd);
		SendAllAdminMessage(ADMINS_MESSAGE_COLOR,strcmd,5);
		//return 1;
	}
	else if(!strcmp(cmd, "/fightstyle", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /fightstyle [style(4,5,6,7,15,26)]");
			SendClientMessage(playerid, COLOR_GRAD6, "4 - FIGHT_STYLE_NORMAL (Уличный стиль)");
			SendClientMessage(playerid, COLOR_GRAD5, "5 - FIGHT_STYLE_BOXING (Бокс)");
			SendClientMessage(playerid, COLOR_GRAD4, "6 - FIGHT_STYLE_KUNGFU (Кунг-фу)");
			SendClientMessage(playerid, COLOR_GRAD3, "7 - FIGHT_STYLE_KNEEHEAD (Колено)");
			SendClientMessage(playerid, COLOR_GRAD2, "15 - FIGHT_STYLE_GRABKICK (захват/бросок)");
			SendClientMessage(playerid, COLOR_GRAD1, "26 - FIGHT_STYLE_ELBOW (Удар локтём)");
			return 1;
		}
		new style = strval(tmp);
		SetPlayerFightingStyleEx(playerid, style);
		format(strcmd, sizeof(strcmd), "(%s) fighting style changed to %d", PlayerName(playerid), style);
		SendClientMessage(playerid, COLOR_GREY, strcmd);
		//SendClientMessageToAll(0x4499CCFF,tmp);
		//return 1;
	}
	else if(!strcmp(cmd, "/weapskill", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 7 &&  PlayerInfo[playerid][pAdmin] != 9 && PlayerInfo[playerid][pLevel] > 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /weapskill [playerid/PartOfName] [skill(22-34] [level(0-999)]");
			SendClientMessage(playerid, COLOR_GRAD6, "22 - PISTOL | 23 - PISTOL_SILENCED | 24 - DESERT_EAGLE");
			SendClientMessage(playerid, COLOR_GRAD5, "25 - SHOTGUN | 26 - SAWNOFF_SHOTGUN | 27 - SPAS12_SHOTGUN");
			SendClientMessage(playerid, COLOR_GRAD4, "28 - MICRO_UZI(TEC-9) | 29 - MP5");
			SendClientMessage(playerid, COLOR_GRAD3, "30 - AK47 | 31 - M4");
			SendClientMessage(playerid, COLOR_GRAD2, "34 - SNIPERRIFLE");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /weapskill [playerid/PartOfName] [getgun(22-34] [skill(0-999)]");
			return 1;
		}
		new Gun = strval(tmp);
		if(Gun < 22 || Gun > 34)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /weapskill [playerid/PartOfName] [getgun(22-34] [skill(0-999)]");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /weapskill [playerid/PartOfName] [getgun(22-34] [skill(0-999)]");
			return 1;
		}
		new Skill = strval(tmp);
		if(Skill < 0 || Skill > 999)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /weapskill [playerid/PartOfName] [getgun(22-34] [skill(0-999)]");
			return 1;
		}
		if(Skill != 0 && PlayerInfo[playerid][pAdmin] == 7)
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы можете только сбросить скилл оружия!");
			return 1;
		}
		if( IsPlayerConnectedEx(giveplayerid) )
		{
			SetPlayerGunSkill(giveplayerid, Gun, Skill);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s change %s's Weapon %s on SkillLevel %d", PlayerName(playerid), PlayerName(giveplayerid), WeaponName(Gun), Skill);
   			Log(ADMINLOG, strcmd);
			ABroadCast(ADMINS_MESSAGE_COLOR,strcmd,9);
			return 1;
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/pvarlist", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 8)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		SendPVarListToPlayer(playerid);
	    //return 1;
	}
	else if(!strcmp(cmd, "/PCRFP", true) || !strcmp(cmd, "/PlayCrimeReportForPlayer", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 8)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/PCRFP)PlayCrimeReportForPlayer [playerid/PartOfName] [crimeid]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/PCRFP)PlayCrimeReportForPlayer [playerid/PartOfName] [crimeid]");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "3 - Сообщение об огне");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "4 - Аварийный ремонт дороги");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "5 - Breathalyzer");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "6 - Назначение завершено");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "7 - Телефоный Вызов");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "10 - Meet complainant");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "11 - Breathalyzer");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "12 - Перевод заключенного");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "13 - Сообщение Регистрационной информация по ТС");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "17 - Бунт");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "18 - Исследуйте! Подозрительная машина");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "21 - Конец связи");
			return 1;
		}
		new crimeid = strval(tmp);
		if(IsPlayerConnected(giveplayerid))
		{
			PlayCrimeReportForPlayer(playerid, giveplayerid, crimeid);
			format(strcmd, sizeof(strcmd), "PlayCrimeReportForPlayer(playerid: %d, giveplayerid: %d, crimeid: %d)", playerid, giveplayerid, crimeid);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/ClearWanted", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 9 && PlayerInfo[playerid][pMember] != DoJ)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(PlayerInfo[playerid][pMember] == DoJ	&& PlayerInfo[playerid][pRank] != 8)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 8 Ранга !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /ClearWanted [playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		if( IsPlayerConnectedEx(giveplayerid) )
		{
	    	if(PlayerInfo[giveplayerid][pJailed] > 0) { SendClientMessage(playerid, COLOR_GREY, "   Вы не можете снять Розыск с заключенного!"); return 1; }
			format(strcmd, sizeof(strcmd), "* Вы сняли Розыск с %s.", PlayerName(giveplayerid));
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			format(strcmd, sizeof(strcmd), "* %s снял Вам Розыск.", PlayerName(playerid));
			SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);

			PlayerInfo[giveplayerid][pArticle] = 0;//убрали статью
			PlayerInfo[giveplayerid][pPart] = 0;//убрали часть
			gGotOrder[playerid] = MAX_PLAYERS-1;
			ClearCrime(giveplayerid, playerid, 2);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/CreateExplosion", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		new Float:X, Float:Y, Float:Z;
		new array2[5][MAX_STRING];
		array2[0] = strtoko(cmdtext, idx, ',');
		X = floatstr(array2[0]);//Конвертирует строку в соответствующее вещественное число.
		if(!strlen(array2[0]))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /CreateExplosion [X],[Y],[Z],[type(0-13)],[radius]");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "0-Large,1-Normal,2-Large,3-Large,4-Normal,5-Normal,6-Very Large,7-Huge,8-Normal,9-Normal,10-Large,11-Small,12-Very Small,13-Large");
			return 1;
		}
		array2[1] = strtoko(cmdtext, idx, ',');
		Y = floatstr(array2[1]);
		array2[2] = strtoko(cmdtext, idx, ',');
		Z = floatstr(array2[2]);
		array2[3] = strtoko(cmdtext, idx, ',');
		new type = strval(array2[3]);
		array2[4] = strtoko(cmdtext, idx, ',');
		new Float: radius = floatstr(array2[4]);
		//new Float:x, Float:y, Float:z;
		// узнаем позицию игрока
		//GetVehiclePos(vehicleid, x, y, z );
		// Создадим взрыв рядом с транспортом игрока
		CreateExplosion(X, Y, Z, type, radius);
/*
Type	Виден	Огонь	Взрыв	Range		Special
0 		Yes 	No 		Yes 	9.0(Large) 	Normal
1 		Yes 	Yes 	No 		6.2(Normal) Normal
2 		Yes 	Yes 	Yes 	9.8(Large)	Normal
3 		Yes 	Иногда	Yes 	9.9(Large)	Normal
//4 		Yes 	No 		Yes 	Normal		Unusual explosion, produces just special blast burn FX effects and blasts things away, NO SOUND EFFECTS.
//5 		Yes 	No 		Yes 	Normal		Unusual explosion, produces just special blast burn FX effects and blasts things away, NO SOUND EFFECTS.
6 		Yes 	No 		Yes 	25.0(Very Large)	после свечение взрыва дополнительного красноватый
7 		Yes 	No 		Yes 	25.0(Huge)		после свечение взрыва дополнительного красноватый
//8 		No 		No 		Yes 	Normal		Invisible
//9 		No 		Yes 	Yes 	Normal		Создает пожары на земле уровня, в противном случае взрыв услышан но невидимый.
10 		Yes 	No 		Yes 	10.0(Large)	Normal
//11 		Yes 	No 		Yes 	Small		Normal
//12 		Yes 	No 		Yes 	Very Small	Really Small
//13 		No 		No 		No 		Large		Не Производит никакие специальные эффекты кроме черных эффектов ожога на земле, не делает никаким ущербом также.
*/
		//return 1;
	}
	else if(!strcmp(cmd, "/GangZoneCreate", true) || !strcmp(cmd, "/GZC", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 9)//PlayerInfo[playerid][pAdmin] != 2 &&
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		new Float:minX, Float:minY, Float:maxX, Float:maxY;
		//new ZoneArray[6][MAX_STRING];
		tmp = strtoko(cmdtext, idx, ',');
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /GangZoneCreate minx, miny, minz, maxx, maxy, maxz");
			return 1;
		}
		minX = floatstr(tmp);

		tmp = strtoko(cmdtext, idx, ',');
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /GangZoneCreate minx, miny, minz, maxx, maxy, maxz");
			return 1;
		}
		minY = floatstr(tmp);

		tmp = strtoko(cmdtext, idx, ',');
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /GangZoneCreate minx, miny, minz, maxx, maxy, maxz");
			return 1;
		}

		tmp = strtoko(cmdtext, idx, ',');
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /GangZoneCreate minx, miny, minz, maxx, maxy, maxz");
			return 1;
		}
		maxX = floatstr(tmp);

		tmp = strtoko(cmdtext, idx, ',');
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /GangZoneCreate minx, miny, minz, maxx, maxy, maxz");
			return 1;
		}
		maxY = floatstr(tmp);

		tmp = strtoko(cmdtext, idx, ',');

		//GangZoneHideForPlayer(playerid, GangZone);
		//GangZoneDestroy(GangZone);
		new GangZone;
		GangZone = GangZoneCreate(minX, minY, maxX, maxY);
		GangZoneShowForPlayer(playerid, GangZone, PlayerColors[MAX_TURFS-GangZone]);//319
		//GangZoneFlashForPlayer(playerid, GangZone, COLOR_ALIVE);

		format(strcmd, sizeof(strcmd), "GangZoneCreate(%.4f, %.4f, %.4f, %.4f): %d", minX, minY, maxX, maxY, GangZone);
		SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
		//return 1;
	}
    else if(!strcmp(cmd, "/santa", true))
    {
        if(IsPlayerAttachedObjectSlotUsed(playerid, OBJECT_SLOT))
        {
            RemovePlayerAttachedObject(playerid, OBJECT_SLOT);
            SendClientMessage(playerid, 0x00FF00FF, "Equipped objects removed.");
        }
        else
        {
	        SetPlayerAttachedObjectEx(playerid, OBJECT_SLOT, 19065, Head, 0.120000,0.040000,-0.003500, 0.0,100.0,100.0, 1.4,1.4,1.4);
			SendClientMessage(playerid, 0x00FF00FF, "Santa hat equipped!");
        }
        //return
    }
	else if(!strcmp(cmd, "/slogan", true))
	{
	    if(PlayerInfo[playerid][pTeam] <= 0 || PlayerInfo[playerid][pTeam] > MAX_CLANS)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не являетесь членом ни одного из кланов !");
            return 1;
        }
		new guild = -1;
		for(new g=0; g<MAX_CLANS; g++)
		{
			//if(GuildInfo[g][gID] == 0) continue;
			if(GuildInfo[g][gID] == PlayerInfo[playerid][pTeam])
		    {
	            guild = g;
		    }
		}
   	 	if(guild == -1)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вашего клана не обнаружено !");
            return 1;
        }
	    if( strcmp(GuildInfo[guild][gOwner], PlayerName(playerid), true) )
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не являетесь основателем данного клана !");
            return 1;
        }
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /slogan [motdtext]");
			return 1;
		}
		strmid(GuildInfo[idx][gMOTD], gMessage, 0, strlen(gMessage), 255);
		SendClientMessage(playerid, COLOR_YELLOW, "Вы изменили Лозунг вашей партии.");
		SaveGuildSQL(PlayerName(playerid));
		return 1;
	}
	else if(!strcmp(cmd, "/opencompany", true))
	{
        /*if(PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }*/
	    if(PlayerInfo[playerid][pTeam] != 0)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы уже являетесь членом одного из кланов !");
            return 1;
        }
	    if(PlayerInfo[playerid][pLevel] < 10)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть не ниже 10 уровня !");
            return 1;
        }
		/*if(	strcmp(PlayerName(playerid), Question[qInfo1], true) &&
			strcmp(PlayerName(playerid), Question[qInfo2], true) &&
			strcmp(PlayerName(playerid), Question[qInfo3], true) &&
			strcmp(PlayerName(playerid), Question[qInfo4], true) &&
			strcmp(PlayerName(playerid), Question[qInfo5], true)
			)
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть в пятёрке лучших, чтобы создать свой клан !");
            return 1;
		}*/

		if(guildcounter >= MAX_CLANS)
	    {
			SendClientMessage(playerid, COLOR_GREY, "   Достигнуто максимальное кол-во кланов на сервере. ");
			return 1;
	    }
		MenuOperation[playerid] = 112;
		ShowPlayerDialogEx1(playerid, CLANS_DIALOG, DIALOG_STYLE_INPUT, "Create of Company", "Введите адрес URL логотипа вашей компании.\n\
\n\nОтнеситесь серъёзно к созданию клана.\
\nВводите настоящие данные,\
\nт.к. при ненадлежащем использовании вы будете внесены в ЧС\
\nи вам будет запрещена данная команда\
\n\n\t{8CAA63}По окончанию ввода нажмите OK.", "OK", "Cancel");
		//return 1;
	}

	else if(!strcmp(cmd, "/enterclan", true))
	{
	    if(PlayerInfo[playerid][pTeam] <= 0 || PlayerInfo[playerid][pTeam] > MAX_CLANS)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не являетесь членом ни одного из кланов !");
            return 1;
        }
        new guild = PlayerInfo[playerid][pTeam];
		for(new g=0; g<MAX_CLANS; g++)
		{
			//if(GuildInfo[g][gID] == 0) continue;
			if(GuildInfo[g][gID] == PlayerInfo[playerid][pTeam])
		    {
	            guild = g;
		    }
		}
   	 	if(guild == -1)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вашего клана не обнаружено !");
            return 1;
        }
	    if( strcmp(GuildInfo[guild][gOwner], PlayerName(playerid), true) )
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не являетесь основателем данного клана !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);//Возвращает аргумент после пробела
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /enterclan [playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
  		if(giveplayerid == playerid)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете пригласить самого себя !");
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}

 		//new family = PlayerInfo[playerid][pTeam];
		Offer[giveplayerid] = playerid;
		format(strcmd, sizeof(strcmd), "   Bы отправили %s'у предложение о присоединении к вашему клану.", PlayerName(giveplayerid));
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);

		new msgitem[89+MAX_PLAYER_NAME+36];
		format(msgitem, sizeof(msgitem), "Bы имеете приглашение от Лидера %s\
\nприсоединиться к клану %s[%d]. \nНажмите OK, если согласны.", PlayerName(playerid), GuildInfo[guild][gDiscription], GuildInfo[guild][gID]);
		//SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
		MenuOperation[giveplayerid] = 1;
		ShowPlayerDialogEx(giveplayerid, CLANS_DIALOG, DIALOG_STYLE_MSGBOX, "Invite", msgitem, "OK", "Cancel");
		//return 1;
	}
	/*else if(!strcmp(cmd, "/enterclan", true))
	{
	    if(PlayerInfo[playerid][pTeam] != 0)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы уже являетесь членом одного из кланов !");
            return 1;
        }
		MenuOperation[playerid] = 115;
		ShowPlayerDialogEx1(playerid, CLANS_DIALOG, DIALOG_STYLE_INPUT, "Enter of Company", "Введите название клана. \n\n\t{8CAA63}По окончанию ввода нажмите OK.", "OK", "Cancel");
	}*/
	else if(!strcmp(cmd, "/exitclan", true))
	{
	    if(PlayerInfo[playerid][pTeam] <= 0 || PlayerInfo[playerid][pTeam] > MAX_CLANS)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не являетесь членом ни одного из кланов !");
            return 1;
        }
		new guild = -1;
		for(new g=0; g<MAX_CLANS; g++)
		{
			//if(GuildInfo[g][gID] == 0) continue;
			if(GuildInfo[g][gID] == PlayerInfo[playerid][pTeam])
		    {
	            guild = g;
		    }
		}
   	 	if(guild == -1)
	    {
	   		PlayerInfo[playerid][pTeam] = 0;
            SendClientMessage(playerid, COLOR_GREY, "   Вашего клана не обнаружено ! Вы больше не в клане !");
            return 1;
        }
	    if( !strcmp(GuildInfo[guild][gOwner], PlayerName(playerid), true) )
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы являетесь основателем данного клана и не можете покинуть его (USE: /closecompany) !");
            return 1;
        }
		PlayerInfo[playerid][pTeam] = 0;
		OnPlayerStatsUpdate(playerid, 255);
		GuildInfo[guild][gMembers] --;
		//OOCNews(COLOR_HERBAL, "|_____________________________________ Правительственное сообщение _____________________________________|");
		format(strings, sizeof(strings), "{FFFFFF}%s[%d]: {FFFF00}покинул клан: '%s[%d]'.",
			PlayerName(playerid), playerid, GuildInfo[guild][gDiscription], GuildInfo[guild][gID]);
		OOCNews(COLOR_LIGHTBLUE, strings);

		SaveGuildSQL(PlayerName(playerid));
		//MenuOperation[playerid] = 116);
		//ShowPlayerDialogEx1(playerid, CLANS_DIALOG, DIALOG_STYLE_INPUT, "Exit of Company", "Введите название клана. \n\n\t{8CAA63}По окончанию ввода нажмите OK.", "OK", "Cancel");
	}
 	else if(!strcmp(cmd, "/clanmoney", true) || !strcmp(cmd, "/cm", true))
	{
	    if(PlayerInfo[playerid][pTeam] <= 0 || PlayerInfo[playerid][pTeam] > MAX_CLANS)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не являетесь членом ни одного из кланов !");
            return 1;
        }
        new guild = PlayerInfo[playerid][pTeam];
		for(new g=0; g<MAX_CLANS; g++)
		{
			//if(GuildInfo[g][gID] == 0) continue;
			if(GuildInfo[g][gID] == PlayerInfo[playerid][pTeam])
		    {
	            guild = g;
		    }
		}
   	 	if(guild == -1)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вашего клана не обнаружено !");
            return 1;
        }
	    if( strcmp(GuildInfo[guild][gOwner], PlayerName(playerid), true) )
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не являетесь основателем данного клана !");
            return 1;
        }

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /clanmoney [сумма]");
		    format(strcmd, sizeof(strcmd), "* В кассе вашего клана $%d.", GuildInfo[guild][gTill]);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			SendClientMessage(playerid, COLOR_GREY, "   Для пополнения кассы клана введите значение со знаком минус !");
			return 1;
		}
		new money = strval(tmp);

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /clanmoney [сумма]");
		    format(strcmd, sizeof(strcmd), "* В кассе вашего клана $%d.", GuildInfo[guild][gTill]);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			SendClientMessage(playerid, COLOR_GREY, "   Для пополнения кассы клана введите значение со знаком минус !");
			return 1;
		}
		if(money >= 0)
        {
        	if(money < 1000)
	        {
				SendClientMessage(playerid, COLOR_GREY, "   Сумма не должна быть меньше $1000 !");
				return 1;
	      	}
            if(GuildInfo[guild][gTill] < money)
            { //|| FamilyInfo[family][fBank] < 0
			    format(strcmd, sizeof(strcmd), "* В кассе вашего клана $%d.", GuildInfo[guild][gTill]);
				SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				return 1;
            }
			GuildInfo[guild][gTill] -= money;
			GivePlayerMoneyB(fclan+PlayerInfo[playerid][pTeam], playerid, money);
		}
		else
		{
            if(GetPlayerMoneyB(playerid) < (-1*money) && GetPlayerMoneyH(playerid) < (-1*money))
            {
			    format(strcmd, sizeof(strcmd), "* У Вас нет этой суммы денег $%d.", money);
				SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				return 1;
            }
			GuildInfo[guild][gTill] += (-1*money);//new family = PlayerInfo[playerid][pMember];
			if(GetPlayerMoneyB(playerid) >= (-1*money) ) GivePlayerMoneyB(ffamily+guild, playerid, -(-1*money));
			else GivePlayerMoneyH(fclan+guild, playerid, -(-1*money));
		}
		SaveGuildSQL(PlayerName(playerid));

		format(strcmd, sizeof(strcmd), "%s[%d] снял с кассы клана $%d.", PlayerName(playerid), playerid, money);
		SendTeamBeepMessage(playerid, FamilyInfo[PlayerInfo[playerid][pTeam]][fColor], strcmd);
		PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);

		//format(strcmd, sizeof(strcmd), "AdmCmd: %s has withdrawed Clan: %d Bank: $%d", PlayerName(playerid), family, money);
		//Log(FAMILY,strcmd);
		//SendAllAdminMessage(COLOR_RED, strcmd, 5);
		//return 1;
	}
	else if(!strcmp(cmd, "/closecompany", true))
	{
        /*if(PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }*/
	    if(PlayerInfo[playerid][pTeam] <= 0 || PlayerInfo[playerid][pTeam] > MAX_CLANS)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не являетесь членом ни одного из кланов !");
            return 1;
        }
		new guild = -1;
		for(new g=0; g<MAX_CLANS; g++)
		{
			//if(GuildInfo[g][gID] == 0) continue;
			if(GuildInfo[g][gID] == PlayerInfo[playerid][pTeam])
		    {
	            guild = g;
		    }
		}
   	 	if(guild == -1)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вашего клана не обнаружено !");
            return 1;
        }
	    if( strcmp(GuildInfo[guild][gOwner], PlayerName(playerid), true) )
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не являетесь основателем данного клана !");
            return 1;
        }
		PlayerInfo[playerid][pTeam] = 0;

//увольняем всех из клана
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
		    if( !IsPlayerConnected(i) ) continue;
			if(PlayerInfo[i][pTeam] == GuildInfo[guild][gID])
			{
				PlayerInfo[i][pTeam] = 0;
				//OnPlayerStatsUpdate(i, 255);
			}
		}
		new ToBase[48+24];
		format(ToBase, sizeof(ToBase), "UPDATE `players` SET `Team`=0 WHERE `Team`=%d", GuildInfo[guild][gID]);
		mysql_query(ToBase);
		format(ToBase, sizeof(ToBase), "DELETE FROM `clans` WHERE `Owner`='%s' LIMIT 1", PlayerName(playerid));
		mysql_query(ToBase);

		format(strings, sizeof(strings), "{FFFFFF}%s[%d]: {FFFF00}закрыл свою компанию под названием: '%s[%d]'.",
			PlayerName(playerid), playerid, GuildInfo[guild][gDiscription], GuildInfo[guild][gID]);
		OOCNews(COLOR_HERBAL, "|_____________________________________ Правительственное сообщение _____________________________________|");
		OOCNews(COLOR_LIGHTBLUE, strings);

		ClearGuild(guild);
		//MenuOperation[playerid] = 115);
		//ShowPlayerDialogEx1(playerid, CLANS_DIALOG, DIALOG_STYLE_INPUT, "Close of Company", "Введите название вашей компании. \n\n\t{8CAA63}По окончанию ввода нажмите OK.", "OK", "Cancel");
		//SendClientMessage(playerid, COLOR_GREY, "   Вы ввели команду!");
		//AddSettingsSQL();
		//return 1;
	}
	else if(!strcmp(cmd, "/removeclan", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /removeclan [number]");
			return 1;
		}
		if(strval(tmp) < 1 || strval(tmp) > MAX_CLANS)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /removeclan [number]");
			return 1;
		}
		new guild = -1;
		for(new g=0; g<MAX_CLANS; g++)
		{
			if(GuildInfo[g][gID] == strval(tmp))
		    {
	            guild = g;
		    }
		}
   	 	if(guild == -1)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Клана не обнаружено !");
            return 1;
        }

//увольняем всех из клана
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
		    if( !IsPlayerConnected(i) ) continue;
			if(PlayerInfo[i][pTeam] == GuildInfo[guild][gID])
			{
				PlayerInfo[i][pTeam] = 0;
				//OnPlayerStatsUpdate(i, 255);
			}
		}
		new ToBase[48+24];
		format(ToBase, sizeof(ToBase), "UPDATE `players` SET `Team`=0 WHERE `Team`=%d", GuildInfo[guild][gID]);
		mysql_query(ToBase);
		format(ToBase, sizeof(ToBase), "DELETE FROM `clans` WHERE `ID`=%d", GuildInfo[guild][gID]);
		mysql_query(ToBase);

		format(strings, sizeof(strings), "{FFFFFF}%s[%d]: {FFFF00}удалил компанию под названием: '%s[%d]'.",
			PlayerName(playerid), playerid, GuildInfo[guild][gDiscription], GuildInfo[guild][gID]);
		OOCNews(COLOR_HERBAL, "|_____________________________________ Правительственное сообщение _____________________________________|");
		OOCNews(COLOR_LIGHTBLUE, strings);

		ClearGuild(guild);
		//SaveGuildSQL(PlayerName(playerid));

		//MenuOperation[playerid] = 115);
		//ShowPlayerDialogEx1(playerid, CLANS_DIALOG, DIALOG_STYLE_INPUT, "Close of Company", "Введите название вашей компании. \n\n\t{8CAA63}По окончанию ввода нажмите OK.", "OK", "Cancel");
		//SendClientMessage(playerid, COLOR_GREY, "   Вы ввели команду!");
		//AddSettingsSQL();
		//return 1;
	}


	else if(!strcmp(cmd, "/checkneed", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "/checkneed [№ parameter1] [value(1-99)]");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "/checkneed [№ parameter2] [value(1-49)]");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "/checkneed [№ parameter3] [value(1-29)]");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "/checkneed [№ parameter4] [value(1-19)]");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "/checkneed [№ parameter5] [value(1-14)]");
			return 1;
		}
		new parameter = strval(tmp);

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "/checkneed [parameter] [value]");
			return 1;
		}
		new value = strval(tmp);

		if(parameter == 1)
		{
			if(value < 1 || value > 99)
			{
				SendClientMessage(playerid, COLOR_GRAYWHITE, "/checkneed [parameter1] [value(1-99)]");
				return 1;
			}
			PlayerInfo[playerid][pParam1] = value;
			SetPlayerShowScale(playerid, parameter, value, 100);
		}
		else if(parameter == 2)
		{
			if(value < 1 || value > 49)
			{
				SendClientMessage(playerid, COLOR_GRAYWHITE, "/checkneed [parameter2] [value(1-49)]");
				return 1;
			}
			PlayerInfo[playerid][pParam2] = value;
			SetPlayerShowScale(playerid, parameter, value, 50);
		}
		else if(parameter == 3)
		{
			if(value < 1 || value > 29)
			{
				SendClientMessage(playerid, COLOR_GRAYWHITE, "/checkneed [parameter3] [value(1-29)]");
				return 1;
			}
			PlayerInfo[playerid][pParam3] = value;
			SetPlayerShowScale(playerid, parameter, value, 30);
		}
		else if(parameter == 4)
		{
			if(value < 1 || value > 19)
			{
				SendClientMessage(playerid, COLOR_GRAYWHITE, "/checkneed [parameter4] [value(1-19)]");
				return 1;
			}
			PlayerInfo[playerid][pParam4] = value;
			SetPlayerShowScale(playerid, parameter, value, 20);
		}
		else if(parameter == 5)
		{
			if(value < 1 || value > 14)
			{
				SendClientMessage(playerid, COLOR_GRAYWHITE, "/checkneed [parameter5] [value(1-14)]");
				return 1;
			}
			PlayerInfo[playerid][pParam5] = value;
			SetPlayerShowScale(playerid, parameter, value, 15);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/test3", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		GameTextForPlayerEx(playerid, "~g~Tutorial", 2500, 3);
		PlayerInfo[playerid][pTut] = 8;
	}
	else if(!strcmp(cmd, "/NYcorrection", true))
	{
        if(PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
 		mysql_query("UPDATE `players` SET `Offline`=2 WHERE `Offline`>30");

		mysql_query("UPDATE `players` SET `Level`=1, `Warns`=0 WHERE `Level`=-999 AND `Warns` > 30");
		ABroadCast(COLOR_MAROON, "AdmCmd: All players was unbanned & lose warn.", 9);

		new date = getdate()+7;

		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) ) continue;
			if( PlayerInfo[i][pDepositDay] > date )
			{
				PlayerInfo[i][pDepositDay] = 1;
			}
			//PlayerInfo[i][pRespectDay] = 1;
			if( PlayerInfo[i][pMember] == 0)
			{
				PlayerInfo[i][pProfSkill] = 1;
			}

			OnPlayerStatsUpdate(i, 255);
		}
		mysql_query("UPDATE `players` SET ProfSkill=1 WHERE Member=0");
		new ToBase[54+3];
		format(ToBase, sizeof(ToBase), "UPDATE `players` SET DepositDay=1 WHERE DepositDay>%d", date);
		mysql_query(ToBase);
		//------------------------------------------------------------------
		for(new h = 0; h < MAX_HOUSE; h++)
		{
			if(HouseInfo[h][hDate] > date)
			{
				HouseInfo[h][hDate] = 1;
	 		}
		}
		SaveHousesSQL();
		//------------------------------------------------------------------
		for(new b=0; b<MAX_BIZ; b++)
		{
			if(BizInfo[b][bDate] > date)
			{
				BizInfo[b][bDate] = 1;
	 		}
		}
		SaveBizSQL();
		//------------------------------------------------------------------
		for(new sb=0; sb<MAX_SBIZ; sb++)
		{
			if(SBizInfo[sb][sbDate] > date)
			{
				SBizInfo[sb][sbDate] = 1;
	 		}
		}//для экономики
		SaveSBizSQL();
		//------------------------------------------------------------------
		for(new vid = 1; vid < (MAX_VEHICLES-1); vid++)
		{   //освобождаем массив
	 		if(VehInfo[vid][cDate] > date)
	 		{
				VehInfo[vid][cDate] = 1;
				SaveCarParameters(vid);
	 		}
		}
		//SaveCarSQL();
		SendClientMessage(playerid, COLOR_GREY, "   Новогодняя корекция сделана !");
		//return 1;
	}
    else if(!strcmp(cmd, "/GetMyVelocity", true) || !strcmp(cmd, "/GMV", true))
    {
		if(PlayerInfo[playerid][pAdmin] < 6)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
        new Float:Velocity[3];
		GetPlayerVelocity(playerid, Velocity[0], Velocity[1], Velocity[2]);
        format(strcmd, sizeof(strcmd), "You are going at a velocity of X%f, Y%f, Z%f", Velocity[0], Velocity[1], Velocity[2]);
        SendClientMessage(playerid, COLOR_WHITE, strcmd);
		//return 1;
	}
    else if(!strcmp(cmd, "/GetCarVelocity", true) || !strcmp(cmd, "/GCV", true))
    {
		if(PlayerInfo[playerid][pAdmin] < 5)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
		/*if(!IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не В АВТО !");
			return 1;
		}*/
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			format(strcmd, sizeof(strcmd), "USE: /GetCarVelocity [carid < %d]", GetMaxVehicles);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		new carid = strval(tmp);
        new Float:Velocity[3];
		GetVehicleVelocity(carid, Velocity[0], Velocity[1], Velocity[2]);
        format(strcmd, sizeof(strcmd), "velocity: X%.4f, Y%.4f, Z%.4f = %d", Velocity[0]*100, Velocity[1]*100, Velocity[2]*100, GetVehicleSpeed(carid));
        SendClientMessage(playerid, COLOR_WHITE, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/spin", true))
    {
		if(PlayerInfo[playerid][pAdmin] < 8)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
		if(IsPlayerInAnyVehicle(playerid)) SetVehicleAngularVelocity(nCarID[playerid], 0.0, 0.0, 2.0);
		//return 1;
	}
	else if(!strcmp(cmd, "/shopname", true))// && IsPlayerAdmin(playerid)
	{
		if(PlayerInfo[playerid][pAdmin] < 8)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		SetPlayerShopName(playerid, "FDPIZA");
		SetPlayerShopName(playerid, "FDBURG");
		SetPlayerShopName(playerid, "FDCHICK");
		SetPlayerShopName(playerid, "AMMUN1");
		SetPlayerShopName(playerid, "AMMUN2");
		SetPlayerShopName(playerid, "AMMUN3");
		SetPlayerShopName(playerid, "AMMUN4");
		//return 1;
	}
//if(TEST[12] != 0) { return 1; }//если раскоментировать то будет выдавать неизвестная команда, т.к. зайдёт в else
	//==========================================================================
	//CHAT COMMANDS
	//==========================================================================
	else if(!strcmp(cmd, "/ooc", true) || !strcmp(cmd, "/o", true))
	{
		if(gOffGeneralChat == 0)// && PlayerInfo[playerid][pAdmin] < 1
		{
			SendClientMessage(playerid, COLOR_GREY, "CEPBEP: {800000}Общий чат отключён админом !");
			return 1;
		}
		if(GetPVarInt(playerid, "gOoc") == 1)// && PlayerInfo[playerid][pAdmin] < 1
		{
			SendClientMessage(playerid, COLOR_GREY, "CEPBEP: {800000}У Вас отключен Общий чат (USE: /togooc), чтобы включить.");
			return 1;
		}
		if(PlayerInfo[playerid][pMuted] > GetTickCount())
		{
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы не можете говорить, Вы заглушены !");
			return 1;
		}
		if(gParameter3[playerid] == 1)
		{
			SendClientMessage(playerid, COLOR_GREY, "    В депрессии Вы не можете говорить !");
			//SendClientMessage(playerid, COLOR_GREY, "    Вы социальное создание, если Вы не будите общаться, Вы можете впасть в депрессию!");
			return 1;
		}
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/o)oc [ooc chat]");
			return 1;
		}
		SendOOCMessage(playerid, AntiSweer(playerid, gMessage));
		PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		//return 1;
	}//"/ooc" - конец
//----------------------------------[Wisper]-----------------------------------------------
	else if(!strcmp(cmd, "/whisper", true) || !strcmp(cmd, "/w", true))
	{
		if(PlayerInfo[playerid][pMuted] > GetTickCount()) return SendClientMessage(playerid, COLOR_GREY, "   Вы не можете говорить, Вы заглушены!");
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) return SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/w)isper [playerid/PartOfName] [whisper text]");
		giveplayerid = ReturnUser(tmp);
		if(!IsPlayerConnected(giveplayerid)) return SendClientMessage(playerid, COLOR_GREY, "Invalid ID");
        if(GetPVarInt(giveplayerid, "gHidePM") >  0) return SendClientMessage(playerid, COLOR_GREY, "   Этот игрок заблокировал Шепот !");
		if((IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid) ||
			PlayerInfo[playerid][pAdmin] >= 1) && spectateid[giveplayerid] == MAX_PLAYERS-1)
		{
			/*if(giveplayerid == playerid)
			{
				format(strcmd, sizeof(strcmd), "* %s бормочет что-то себе под нос.", PlayerName(playerid));
				ProxDetector(playerid, 5.0, strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
				return 1;
			}*/
   			gMessage = strrest(cmdtext, idx);
			if(!strlen(gMessage)) return SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/w)isper [playerid/PartOfName] [whisper text]");
			format(strcmd, sizeof(strcmd), "{FFFF99}whisper %s", gMessage);
			//SendClientMessage(giveplayerid, COLOR_LIGHTYELLOW, strcmd);
			SendPlayerMessageToPlayer(giveplayerid, playerid, strcmd);
			PlaySoundForPlayer(giveplayerid, SOUND_ROULETTE_NO_CASH);//1085

			format(strcmd, sizeof(strcmd), "Whisper sent to %s[%d]", PlayerName(giveplayerid), giveplayerid);
			SendClientMessage(playerid,  COLOR_LIGHTYELLOW, strcmd);
		}
		else SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
		//return 1;
	}//"/wisper" - конец

	else if(!strcmp(cmd, "/s", true) || !strcmp(cmd, "/shout", true))//крикнуть
	{   //strcmp(cmd, "/shout", true) ||
		if(PlayerInfo[playerid][pMuted] > GetTickCount())
		{
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы не можете говорить, Вы заглушены !");
			return 1;
		}
		if(gParameter3[playerid] == 1)
		{
			SendClientMessage(playerid, COLOR_GREY, "    В депрессии Вы не можете говорить !");
			//SendClientMessage(playerid, COLOR_GREY, "    Вы социальное создание, если Вы не будите общаться, Вы можете впасть в депрессию!");
			return 1;
		}
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/s)hout [local chat]");
			return 1;
		}
		SendShoutMessage(playerid, AntiSweer(playerid, gMessage));
		PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		//printf("%s", strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/b", true) || !strcmp(cmd, "/b", true))// || !strcmp(cmd, "/say", true)
	{
		if(PlayerInfo[playerid][pMuted] > GetTickCount())
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете говорить, Вы заглушены!");
			return 1;
		}
		if(gParameter3[playerid] == 1)
		{
			SendClientMessage(playerid, COLOR_GREY, "    В депрессии Вы не можете говорить !");
			//SendClientMessage(playerid, COLOR_GREY, "    Вы социальное создание, если Вы не будите общаться, Вы можете впасть в депрессию!");
			return 1;
		}
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			return SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/b)ocal [local chat]");
		}
		SendRPMessage(playerid, AntiSweer(playerid, gMessage));
		PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		//return 1;
	}
	else if(!strcmp(cmd, "/walkietalkie", true) || !strcmp(cmd, "/wt", true))//для дальнобойщиков начало
	//где cmd и "/radiotransmitter" - строковые массивы, сравниваемые между собой;
	//true - булевая команда игнорирования регистра букв (большие или маленькие)
	//принимает параметр true, если регистр игнорируется и false если требуется четкое сопоставление регистров;
	{
		if(PlayerInfo[playerid][pMuted] > GetTickCount())
		{
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы не можете говорить, Вы заглушены !");
			return 1;
		}
		if(PlayerInfo[playerid][pJob] != TRUCKER)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не Дальнобойщик!");
		    return 1;
		}
	    if(	//!IsInHardTruck(nCarID[playerid]) && !IsInTruck(nCarID[playerid]))
			VehicleArray[nCarModel[playerid]-400][Category] != Station_Wagons &&
			VehicleArray[nCarModel[playerid]-400][Category] != Industrial &&
			VehicleArray[nCarModel[playerid]-400][Category] != Lorries)
		{	//gJobDuty[playerid] == 0 &&
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не за рулём грузовика (USE: /0), чтобы выключить рацию!");
		    return 1;
		}
		if(gParameter3[playerid] == 1)
		{
			SendClientMessage(playerid, COLOR_GREY, "    В депрессии Вы не можете говорить !");
			//SendClientMessage(playerid, COLOR_GREY, "    Вы социальное создание, если Вы не будите общаться, Вы можете впасть в депрессию!");
			return 1;
		}
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/wt)/walkietalkie [TruckDriver chat]");
			return 1;
		}
		SendWalkietalkieChatMessage(playerid, AntiSweer(playerid, gMessage));
		PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		//return 1;
	}//для дальнобойщиков конец
	else if(!strcmp(cmd, "/local", true) || !strcmp(cmd, "/l", true))// || !strcmp(cmd, "/say", true)
	{
		if(PlayerInfo[playerid][pMuted] > GetTickCount())
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете говорить, Вы заглушены!");
			return 1;
		}
		if(gParameter3[playerid] == 1)
		{
			SendClientMessage(playerid, COLOR_GREY, "    В депрессии Вы не можете говорить !");
			//SendClientMessage(playerid, COLOR_GREY, "    Вы социальное создание, если Вы не будите общаться, Вы можете впасть в депрессию!");
			return 1;
		}
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			return SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/l)ocal [local chat]");
		}
		SendLocalMessage(playerid, AntiSweer(playerid, gMessage));
		PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		//return 1;
	}
	else if(!strcmp(cmd, "/me", true))
	{
		/*if(PlayerInfo[playerid][pMuted] > GetTickCount())
		{
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы не можете говорить, Вы заглушены !");
			return 1;
		}*/
		if(gParameter3[playerid] == 1)
		{
			SendClientMessage(playerid, COLOR_GREY, "    В депрессии Вы не можете говорить !");
			//SendClientMessage(playerid, COLOR_GREY, "    Вы социальное создание, если Вы не будите общаться, Вы можете впасть в депрессию!");
			return 1;
		}
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /me [action]");
			return 1;
		}
		SendMEMessage(playerid, gMessage);
		PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		//return 1;
	}
	else if(!strcmp(cmd, "/referal", true) || !strcmp(cmd, "/re", true))//для рефералов
	{
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) return SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/re)feral [playerid/PartOfName] [text]");
		giveplayerid = ReturnUser(tmp);
		//giveplayerid = ReturnUser(PlayerInfo[playerid][pReferal]);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
        if( !strcmp(PlayerInfo[giveplayerid][pReferal], PlayerName(playerid), true) ||
			!strcmp(PlayerInfo[playerid][pReferal], PlayerName(giveplayerid), true)
		  )
		{
			gMessage = strrest(cmdtext, idx);
			if(!strlen(gMessage)) return SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/re)feral [playerid/PartOfName] [text]");
			format(strcmd, sizeof(strcmd), "{FFFF99}pupil %s", gMessage);
			SendPlayerMessageToPlayer(giveplayerid, playerid, strcmd);
			PlaySoundForPlayer(giveplayerid, SOUND_ROULETTE_NO_CASH);//1085

			format(strcmd, sizeof(strcmd), "Referal sent to %s[%d]", PlayerName(giveplayerid), giveplayerid);
			SendClientMessage(playerid,  COLOR_LIGHTYELLOW, strcmd);
		}
		else
		{
   			SendClientMessage(playerid, COLOR_GREY, "   Извините, у Вас нет учителя (USE: /accept referal).");
            SendClientMessage(playerid, COLOR_GREY, "   Или Этот игрок не является вашим учеником !");
        }
		//return 1;
	}//"/refuse" - конец
	//--------------------------------------------------------------------------
	//для IRC
 	else if(!strcmp(cmd, "/i", true))
	{
		if(PlayerInfo[playerid][pAdmin] < 1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
        if(PlayersChannel[playerid] == MAX_PLAYERS-1)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не находитесь в Канале IRC !");
            return 1;
        }
        if(PlayerInfo[playerid][pMuted] > GetTickCount())
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете говорить, у Вас закрыт рот");
			return 1;
		}
		if(gParameter3[playerid] == 1)
		{
			SendClientMessage(playerid, COLOR_GREY, "    В депрессии Вы не можете говорить !");
			//SendClientMessage(playerid, COLOR_GREY, "    Вы социальное создание, если Вы не будите общаться, Вы можете впасть в депрессию!");
			return 1;
		}
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /i [irc chat]");
			return 1;
		}
		format(strcmd, sizeof(strcmd), "IRC %s: %s", PlayerName(playerid), gMessage);
		SendIRCMessage(PlayersChannel[playerid], COLOR_YELLOW, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/irc", true))
	{
		if(PlayerInfo[playerid][pAdmin] < 1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/irc join [channelnr] or /irc join [channelnr] [password])");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/irc Leave) (/irc Admins)");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /irc [name] [channelnr]");
			SendClientMessage(playerid, COLOR_WHITE, "Available names: MOTD, Password, NeedPass, Lock, Kick, Status");
			return 1;
		}
	    if(!strcmp(tmp, "join", true))
		{   //	/irc join
		    tmp = strtok(cmdtext, idx);
		    if(!strlen(tmp))
			{
			    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /irc join [channelnr] or /irc join [channelnr] [password]");
			    return 1;
			}
			new channel = strval(tmp);
			if(channel < 1 || channel > 10) { SendClientMessage(playerid, COLOR_GREY, "   Номер Канала может быть от 1 до 10 !"); return 1; }
			channel -= 1;
		    if(IRCInfo[channel][iLock] == 0)
		    {
		        if(IRCInfo[channel][iNeedPass] == 0)
		        {
		            JoinChannelNr(playerid, channel);
			    }
			    else
			    {
			        tmp = strtok(cmdtext, idx);
			        if(!strlen(tmp))
					{
					    SendClientMessage(playerid, COLOR_WHITE, "There's a password required to join this Channel.");
						SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /irc join [channelnr] [password]");
						return 1;
					}
					JoinChannel(playerid, channel,tmp);
			    }
		    }
	    	else
	    	{
	        	SendClientMessage(playerid, COLOR_GREY, "   Этот Канал Закрыт, пожалуйста выберите другой !");
		    }
		    return 1;
		}
		else if(!strcmp(tmp, "status", true))
		{   //	/irc status
		    for(new irc=0; irc<MAX_IRC; irc++)
		    {
		        format(strcmd, sizeof(strcmd), "Channel %d: %d Players Connected.",irc+1, IRCInfo[irc][iPlayers]);
			    SendClientMessage(playerid, COLOR_PINK, strcmd);
		    }
		    return 1;
		}
		else if(!strcmp(tmp, "password", true))
		{	//	/irc password
		    tmp = strtok(cmdtext, idx);
		    if(!strlen(tmp))
			{
			    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /irc password [channelnr] [password]");
			    return 1;
			}
			new channel = strval(tmp);
			if(channel < 1 || channel > 10) { SendClientMessage(playerid, COLOR_GREY, "   Номер Канала может быть от 1 до 10 !"); return 1; }
			channel -= 1;
			//new wstring[128];
			//strmid(wstring, PlayerName(playerid), 0, MAX_PLAYER_NAME, MAX_PLAYER_NAME);
			if( strcmp(IRCInfo[PlayersChannel[playerid]][iAdmin], PlayerName(playerid), true ) )
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду этого Канала !");
			    return 1;
			}
		    tmp = strtok(cmdtext, idx);
		    if(!strlen(tmp))
			{
			    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /irc password [channelnr] [password]");
			    return 1;
			}
			strmid(IRCInfo[channel][iPassword], tmp, 0, strlen(tmp), 255);
			format(strcmd, sizeof(strcmd), "   Bы изменили Пароль Канала IRC на: %s.",IRCInfo[channel][iPassword]);
			SendClientMessage(playerid, COLOR_PINK, strcmd);
			SaveIRC();
			return 1;
		}
		else if(!strcmp(tmp, "needpass", true))
		{   //	/irc needpass
		    tmp = strtok(cmdtext, idx);
		    if(!strlen(tmp))
			{
			    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /irc needpass [channelnr]");
			    return 1;
			}
			new channel = strval(tmp);
			if(channel < 1 || channel > 10) { SendClientMessage(playerid, COLOR_GREY, "   Номер Канала может быть от 1 до 10 !"); return 1; }
			channel -= 1;
			//new wstring[128];
			//format(strcmd, sizeof(strcmd), "%s", PlayerName(playerid));
			//strmid(wstring, strcmd, 0, strlen(strcmd), 255);
			if( strcmp(IRCInfo[PlayersChannel[playerid]][iAdmin], PlayerName(playerid), true ) )
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду этого Канала !");
			    return 1;
			}
		    if(IRCInfo[channel][iNeedPass] != 0)
		    {
		        IRCInfo[channel][iNeedPass] = 0;
		        SendClientMessage(playerid, COLOR_GREY, "   Игроки не должны вводить пароль, чтобы присоединяться к Каналу IRC теперь.");
		    }
			else
			{
			    IRCInfo[channel][iNeedPass] = 1;
				SendClientMessage(playerid, COLOR_GREY, "   Игроки должны вводить пароль, чтобы присоединяться к Каналу IRC теперь.");
			}
			SaveIRC();
			return 1;
		}
		else if(!strcmp(tmp, "lock", true))
		{   //	/irc lock
		    tmp = strtok(cmdtext, idx);
		    if(!strlen(tmp))
			{
			    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /irc lock [channelnr]");
			    return 1;
			}
			new channel = strval(tmp);
			if(channel < 1 || channel > 10) { SendClientMessage(playerid, COLOR_GREY, "   Номер Канала может быть от 1 до 10 !"); return 1; }
			channel -= 1;
			//new wstring[128];
			//format(strcmd, sizeof(strcmd), "%s", PlayerName(playerid));
			//strmid(wstring, strcmd, 0, strlen(strcmd), 255);
			if( strcmp(IRCInfo[PlayersChannel[playerid]][iAdmin], PlayerName(playerid), true ) )
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду этого Канала !");
			    return 1;
			}
		    if(IRCInfo[channel][iLock] != 0)
		    {
		        IRCInfo[channel][iLock] = 0;
		        SendClientMessage(playerid, COLOR_GREY, "   Вы открыли Канал IRC.");
		    }
			else
			{
			    IRCInfo[channel][iLock] = 1;
				SendClientMessage(playerid, COLOR_GREY, "   Вы закрыли Канал IRC.");
			}
			SaveIRC();
			return 1;
		}
		else if(!strcmp(tmp, "motd", true))
		{   //	/irc motd
		    tmp = strtok(cmdtext, idx);
		    if(!strlen(tmp))
			{
			    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /irc motd [channelnr] [motdtext]");
			    return 1;
			}
			new channel = strval(tmp);
			if(channel < 1 || channel > 10) { SendClientMessage(playerid, COLOR_GREY, "   Номер Канала может быть от 1 до 10 !"); return 1; }
			channel -= 1;
			//new wstring[128];
			//format(strcmd, sizeof(strcmd), "%s", PlayerName(playerid));
			//strmid(wstring, strcmd, 0, strlen(strcmd), 255);
			if( strcmp(IRCInfo[PlayersChannel[playerid]][iAdmin], PlayerName(playerid), true ) )
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду этого Канала !");
			    return 1;
			}
			gMessage = strrest(cmdtext, idx);
			if(!strlen(gMessage))
			{
				SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /irc motd [motdtext]");
				return 1;
			}
			strmid(IRCInfo[channel][iMOTD], gMessage, 0, strlen(gMessage), 255);
			SendClientMessage(playerid, COLOR_YELLOW, "Вы изменили Текст Приветствия, Канала IRC.");
			SaveIRC();
			return 1;
		}
		else if(!strcmp(tmp, "leave", true))
		{   //	/irc leave
		    if(PlayersChannel[playerid] < MAX_PLAYERS-1)
		    {
				format(strcmd, sizeof(strcmd), "* %s покинул Канал.", PlayerName(playerid));
		        SendIRCMessage(PlayersChannel[playerid], COLOR_GREEN, strcmd);
		        IRCInfo[PlayersChannel[playerid]][iPlayers] -= 1;
		        PlayersChannel[playerid] = MAX_PLAYERS-1;
		    }
		    else
		    {
		        SendClientMessage(playerid, COLOR_GREY, "   Вы не находитесь в Канале IRC !");
		    }
		    return 1;
		}
		else if(!strcmp(tmp, "admins", true))
		{   //	/irc admins
			for(new irc=0; irc<MAX_IRC; irc++)
		    {
			    format(strcmd, sizeof(strcmd), "Channel %d: %s.", irc+1, IRCInfo[irc][iAdmin]);
			    SendClientMessage(playerid, COLOR_PINK, strcmd);
		    }
		    return 1;
		}
		else if(!strcmp(tmp, "kick", true))
		{    //	/irc kick
		    if(PlayersChannel[playerid] == MAX_PLAYERS-1)
		    {
		        SendClientMessage(playerid, COLOR_GREY, "   Вы не находитесь в Канале IRC !");
		        return 1;
		    }
		    //new wstring[MAX_PLAYER_NAME];
			//strmid(wstring, PlayerName(playerid), 0, MAX_PLAYER_NAME, MAX_PLAYER_NAME);
			if( strcmp(IRCInfo[PlayersChannel[playerid]][iAdmin], PlayerName(playerid), true ) )
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду этого Канала !");
			    return 1;
			}
		    tmp = strtok(cmdtext, idx);
		    if(!strlen(tmp))
			{
			    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /irc kick [playerid/PartOfName]");
			    return 1;
			}
			giveplayerid = ReturnUser(tmp);
		    if( !IsPlayerConnected(giveplayerid) )
			{
				format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
			}
	        if(PlayersChannel[giveplayerid] == PlayersChannel[playerid])
	        {
	            format(strcmd, sizeof(strcmd), "* Вас выгнали %s из вашего Канала IRC.", PlayerName(giveplayerid));
	            SendClientMessage(playerid, COLOR_PINK, strcmd);
	            format(strcmd, sizeof(strcmd), "* Вы были выкинуты из Канала IRC, Админом Канала: %s.", PlayerName(playerid));
	            SendClientMessage(giveplayerid, COLOR_PINK, strcmd);
	            format(strcmd, sizeof(strcmd), "* %s покинул Канал (Kicked).", PlayerName(playerid));
		        SendIRCMessage(PlayersChannel[playerid], COLOR_GREEN, strcmd);
	            IRCInfo[PlayersChannel[giveplayerid]][iPlayers] -= 1;
	            PlayersChannel[giveplayerid] = MAX_PLAYERS-1;
        	}
	        else
	        {
	            SendClientMessage(playerid, COLOR_GREY, "   Этого игрока нету в вашем Канале IRC !");
	        }
	        return 1;
		}
		else
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Неправильный Номер IRC Канала! ");
		}
		return 1;
 	}
	//для IRC
    else if(!strcmp(cmd, "/makeircadmin", true))
	{
		if(PlayerInfo[playerid][pAdmin] != 5 && PlayerInfo[playerid][pAdmin] != 7 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /makeircadmin [playerid/PartOfName] [ChannelNr]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /makeircadmin [playerid/PartOfName] [ChannelNr]");
			return 1;
		}
		new channel = strval(tmp);
		if(channel > 10 || channel < 0) { SendClientMessage(playerid, COLOR_GREY, "   Не допустимо значение менее 0, или больше 10!"); return 1; }
	    if( IsPlayerConnectedEx(giveplayerid) )
	    {
			format(strcmd, sizeof(strcmd), "* Вы назначили %s админом IRC канала %d.", PlayerName(giveplayerid), channel);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			format(strcmd, sizeof(strcmd), "* %s назначил вас админом IRC канала %d.", PlayerName(playerid), channel);
			SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has made %s's an IRC Admin over Channel %d.", PlayerName(playerid), PlayerName(giveplayerid), channel);
			//Log(ADMINLOG, strcmd);
			format(strcmd, sizeof(strcmd), "%s", PlayerName(giveplayerid));
			switch(channel)
			{
			    case 1:
			    {
			        strmid(IRCInfo[0][iAdmin], strcmd, 0, strlen(strcmd), 24);
			        IRCInfo[0][iNeedPass] = 0; IRCInfo[0][iLock] = 0;
			    }
			    case 2:
			    {
			        strmid(IRCInfo[1][iAdmin], strcmd, 0, strlen(strcmd), 24);
			        IRCInfo[1][iNeedPass] = 0; IRCInfo[1][iLock] = 0;
			    }
			    case 3:
			    {
			        strmid(IRCInfo[2][iAdmin], strcmd, 0, strlen(strcmd), 24);
			        IRCInfo[2][iNeedPass] = 0; IRCInfo[2][iLock] = 0;
			    }
			    case 4:
			    {
			        strmid(IRCInfo[3][iAdmin], strcmd, 0, strlen(strcmd), 24);
			        IRCInfo[3][iNeedPass] = 0; IRCInfo[3][iLock] = 0;
			    }
			    case 5:
			    {
			        strmid(IRCInfo[4][iAdmin], strcmd, 0, strlen(strcmd), 24);
			        IRCInfo[4][iNeedPass] = 0; IRCInfo[4][iLock] = 0;
			    }
			    case 6:
			    {
			        strmid(IRCInfo[5][iAdmin], strcmd, 0, strlen(strcmd), 24);
			        IRCInfo[5][iNeedPass] = 0; IRCInfo[5][iLock] = 0;
			    }
			    case 7:
			    {
			        strmid(IRCInfo[6][iAdmin], strcmd, 0, strlen(strcmd), 24);
			        IRCInfo[6][iNeedPass] = 0; IRCInfo[6][iLock] = 0;
			    }
			    case 8:
			    {
			        strmid(IRCInfo[7][iAdmin], strcmd, 0, strlen(strcmd), 24);
			        IRCInfo[7][iNeedPass] = 0; IRCInfo[7][iLock] = 0;
			    }
			    case 9:
			    {
			        strmid(IRCInfo[8][iAdmin], strcmd, 0, strlen(strcmd), 24);
			        IRCInfo[8][iNeedPass] = 0; IRCInfo[8][iLock] = 0;
			    }
			    case 10:
			    {
			        strmid(IRCInfo[9][iAdmin], strcmd, 0, strlen(strcmd), 24);
			        IRCInfo[9][iNeedPass] = 0; IRCInfo[9][iLock] = 0;
			    }
			}
			SaveIRC();
		}
		else SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не в игре !");
		//return 1;
	}
//----------------------------------[Emote]-----------------------------------------------
	//для телефонов
	else if(!strcmp(cmd, "/pickup", true) || !strcmp(cmd, "/p", true))
	{
		if(playeridMobileCall[playerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы - уже на вызове...");
			return 1;
		}
		//--------------------------------------------------------------
		format(strings, sizeof(strings), "$%08d", PlayerInfo[playerid][pBank]);
		PlayerTextDrawSetStringEx(playerid, txdBankDisp[playerid], strings);
		SetPVarInt(playerid, "gChatSwitcher", Off);
		GameTextForPlayerEx(playerid, "~w~                Real Chat~n~~r~                On", 5000, 6);
		//PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		//--------------------------------------------------------------

		//PlaySoundForPlayer(playerid, 3402);
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) ) continue;
			if(playeridMobileCall[i] == playerid)
			{   //сканируем всех которые мне позвонили
				playeridMobileCall[playerid] = i; //записали ID того кто вам звонит, т.е. своего собеседника
				gCellTimeCounter[i] = 1;//начало стоимости разговора у того кто позвонил
				CallCost[i] = SBizInfo[2][sbEntranceCost];//callcost;//прибавляем по 100$
				//подняли трубку вышли на связь записали ID сделавшего звонок
				format(strcmd, sizeof(strcmd), "* %s поднял трубку.", PlayerName(playerid));
				SendClientMessage(playeridMobileCall[playerid],  COLOR_LILAC, strcmd);

				SendClientMessage(playeridMobileCall[playerid], COLOR_GREY, "HAMEK: Вы теперь можите использовать F6 без '/', чтобы говорить по вашему телефону.");
				if( !IsPlayerInAnyVehicle(playerid) )
				{
					SetPlayerSpecialAction(playerid, SPECIAL_ACTION_USECELLPHONE);
					SetPlayerAttachedObjectEx(playerid, MOBILE_SLOT, 330, 6); // 4 = слот, 330 = модель телефона, 6 = правая рука
				}
				else ApplyAnimation(playerid, "CAR_CHAT", "carfone_in", 4.0,0,1,1,1,0);
				//RingTone[playerid] = 0;
				return 1;//чтобы после первого найденного телефона небыло срабатываний
			}
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/hangup", true) || !strcmp(cmd, "/h", true))
	{
		new caller = playeridMobileCall[playerid];//playeridMobileCall[133]=3
		//ID того с кем вы говорите
		if(IsPlayerConnected(caller) && caller != INVALID_PLAYER_ID)
		{   //если собеседник в игре //ЕСЛИ у игрока есть какой то собеседник
			//PlaySoundForPlayer(caller, 3402);
			if(playeridMobileCall[caller] == playerid)//если Собеседник ещё на вызове с вами
			{   //playeridMobileCall[3] = 133 == 133
				format(strcmd, sizeof(strcmd), "* %s повесил трубку.", PlayerName(playerid));
				//ProxDetector(caller, 10.0, strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
			    for(new t=0; t<sizeof(Telephone); t++)
			    {   //если собеседник стоит у таксофона
					if(IsPlayerInRangeOfPoint(playerid, 1.35, Telephone[t][0], Telephone[t][1], Telephone[t][2]))
					{
						//TogglePlayerControllableEx(caller, true);//освобождает
						strmid(strcmd, "* Собеседник повесил трубку", 0, strlen("* Собеседник повесил трубку"), 255);
						break;
					}
					if(IsPlayerInRangeOfPoint(caller, 1.35, Telephone[t][0], Telephone[t][1], Telephone[t][2]))
					{
						TogglePlayerControllableEx(caller, true);//освобождает
						break;
					}
				}
				SendClientMessage(caller,  COLOR_LILAC, strcmd);
				gCellTimeCounter[caller] = 0;
				playeridMobileCall[caller] = MAX_PLAYERS-1;

				if(!IsPlayerInAnyVehicle(caller))
				{
					SetPlayerSpecialAction(caller, SPECIAL_ACTION_STOPUSECELLPHONE);
					RemovePlayerAttachedObject(caller, MOBILE_SLOT);
					//ClearAnimations(caller, 1);
				}
			}
		}
	    for(new t=0; t< sizeof(Telephone); t++)
	    {
			if(IsPlayerInRangeOfPoint(playerid, 1.35, Telephone[t][0], Telephone[t][1], Telephone[t][2]))
			{
				TogglePlayerControllableEx(playerid, 1);//освобождает
				break;
			}
		}

		playeridMobileCall[playerid] = MAX_PLAYERS-1;
		gCellTimeCounter[playerid] = 0;
		SendClientMessage(playerid,  COLOR_GREY, "   Ваш телефон находится в кармане.");
		if(!IsPlayerInAnyVehicle(playerid))
		{
			SetPlayerSpecialAction(playerid, SPECIAL_ACTION_STOPUSECELLPHONE);
			RemovePlayerAttachedObject(playerid, MOBILE_SLOT);
			//ClearAnimations(playerid, 1);
		}
		//return 1;
	}


//----------------------------------[ВЫКЛЮЧАТЕЛИ ЧАТОВ]-----------------------------------------------
	else if(!strcmp(cmd, "/togsys", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 1)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		if(TextDrawShowMessage[playerid] == false)
		{
			TextDrawShowForPlayer(playerid, txdSystemMessage);
			TextDrawShowMessage[playerid] = true;
			SendClientMessage(playerid, COLOR_GREY, "   Системная панель включена !");
		}
		else
		{
			TextDrawHideForPlayer(playerid, txdSystemMessage);
			TextDrawShowMessage[playerid] = false;
			SendClientMessage(playerid, COLOR_GREY, "   Системная панель убрана !");
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/tog", true))
	{
		TogHelp(playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/togooc", true))
	{
		if(GetPVarInt(playerid, "gOoc") == 0)
		{
			SetPVarInt(playerid, "gOoc", 1);
			SendClientMessage(playerid, COLOR_GREY, "   Общий чат отключен !");
		}
		else
		{
			SetPVarInt(playerid, "gOoc", 0);
			SendClientMessage(playerid, COLOR_GREY, "   Общий чат включен !");
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/togphone", true))
	{
        if(PlayerInfo[playerid][pAdmin] < 1 && PlayerInfo[playerid][pAccount] == 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		if(gPhoneOnline[playerid] == 0)
		{
			gPhoneOnline[playerid] = 1;
			SendClientMessage(playerid, COLOR_GREY, "   Ваш Телефон Выключен !");
		}
		else
		{
			gPhoneOnline[playerid] = 0;
			SendClientMessage(playerid, COLOR_GREY, "   Ваш Телефон Включен !");
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/tognews", true))
	{
		if(GetPVarInt(playerid, "gNews") == 0)
		{
			SetPVarInt(playerid, "gNews", 1);
			SendClientMessage(playerid, COLOR_GREY, "   Канал Новостей отключен !");
		}
		else
		{
			SetPVarInt(playerid, "gNews", 0);
			SendClientMessage(playerid, COLOR_GREY, "   Канал Новостей включен !");
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/togfam", true))
	{
		if(GetPVarInt(playerid, "gFam") == 0)
		{
			SetPVarInt(playerid, "gFam", 1);
			SendClientMessage(playerid, COLOR_GREY, "   Семейный чат отключен !");
		}
		else
		{
			SetPVarInt(playerid, "gFam", 0);
			SendClientMessage(playerid, COLOR_GREY, "   Семейный чат включен !");
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/togpm", true))
	{
		if(GetPVarInt(playerid, "gHidePM") == 0)
		{
			SetPVarInt(playerid, "gHidePM", 1);
			SendClientMessage(playerid, COLOR_GREY, "   Whisper chat channel Disabled !");
		}
		else
		{
			SetPVarInt(playerid, "gHidePM", 0);
			SendClientMessage(playerid, COLOR_GREY, "   Whisper chat channel Enabled !");
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/togsport", true))
	{
		if(GetPVarInt(playerid, "gSport") == 0)
		{
			SetPVarInt(playerid, "gSport", 1);
			SendClientMessage(playerid, COLOR_GREY, "   Сообщения о Гонках отключены !");
		}
		else
		{
			SetPVarInt(playerid, "gSport", 0);
			SendClientMessage(playerid, COLOR_GREY, "   Сообщения о Гонках включены !");
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/togjob", true))
	{
		if(GetPVarInt(playerid, "gJob") == 0)
		{
			SetPVarInt(playerid, "gJob", 1);
			SendClientMessage(playerid, COLOR_GREY, "   Рабочие Сообщения отключены !");
		}
		else
		{
			SetPVarInt(playerid, "gJob", 0);
			SendClientMessage(playerid, COLOR_GREY, "   Рабочие Сообщения включены !");
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/togswitcher", true))
	{
		if(GetPVarInt(playerid, "gSwitcher") == 0)
		{
			SetPVarInt(playerid, "gSwitcher", 1);
			SendClientMessage(playerid, COLOR_GREY, "   Упрощенный режим Сообщений отключен !");
		}
		else
		{
			SetPVarInt(playerid, "gSwitcher", 0);
			SendClientMessage(playerid, COLOR_GREY, "   Упрощенный режим Сообщений включен !");
		}
		//return 1;
	}
	//--------------------------------------------------------------------------
	else if(!strcmp(cmd, "/megaphone", true) || !strcmp(cmd, "/m", true))
	{
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/m)egaphone [megaphone chat]");
			return 1;
		}
		if(	PlayerInfo[playerid][pMember] < DoT &&
			PlayerInfo[playerid][pMember] > DoH &&
			PlayerInfo[playerid][pMember] != DoJ &&
			PlayerInfo[playerid][pMember] != SAN &&
			PlayerInfo[playerid][pLeader] < DoT)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		if(	PlayerInfo[playerid][pLeader] < DoT && PlayerInfo[playerid][pMember] != DoJ &&
			!IsInCopCar(nCarID[playerid]) &&
			!IsInNGCar(nCarID[playerid]) &&
			!IsInAmbulanceCar(nCarID[playerid]) &&
			!IsInNewsCar(nCarID[playerid]))
		{
			SendClientMessage(playerid, COLOR_GREY, "   Машина не оборудована Мегафоном !");
			return 1;
		}
		/*if(PlayerInfo[playerid][pMember] == DoT)
		{
			format(strcmd, sizeof(strcmd), "Инспектор %s:o< %s", PlayerName(playerid), gMessage);
			ProxDetector(playerid, 100.0, strcmd,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW);
		}
		else if(PlayerInfo[playerid][pMember] == FBI)
		{
			format(strcmd, sizeof(strcmd), "Aгент %s:o< %s", PlayerName(playerid), gMessage);
			ProxDetector(playerid, 100.0, strcmd,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW);
		}
		else if(PlayerInfo[playerid][pMember] == DoD)
		{
		    format(strcmd, sizeof(strcmd), "Oфицер %s:o< %s", PlayerName(playerid), gMessage);
		    ProxDetector(playerid, 100.0, strcmd,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW);
		}
		else if(PlayerInfo[playerid][pMember] == DoH)
		{
		    format(strcmd, sizeof(strcmd), "Медик %s:o< %s", PlayerName(playerid), gMessage);
		    ProxDetector(playerid, 100.0, strcmd,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW);
		}
		else if(PlayerInfo[playerid][pMember] == SAN)
		{
			if(PlayerInfo[playerid][pRank] < 6)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 6 Ранга !");
			    return 1;
			}
		}*/
		/*if(!sscanf(params, "s[250]", params))
		{
			format(Message, sizeof(Message), "*MEGAPHONE* %s", params);
			ProxDetector(15.0, playerid, Message, COLOR_RED);
			return 1;
		}*/
		new str1[2500], c1 = 0;
	    for(new w1 = 0; w1 < sizeof(MegaphoneSounds); w1++)
	    {
	        new tmp1[2][128];
	        split(MegaphoneSounds[w1], tmp1, ',');
	        if(c1 == 0) format(str1, sizeof(str1), "{FFFFFF}%s\n", tmp1[1]);
	        if(c1 > 0) format(str1, sizeof(str1), "%s{FFFFFF}%s\n", str1, tmp1[1]);
	        c1++;
	    }
		ShowPlayerDialogEx1(playerid, MEGAPHONE_DIALOG, DIALOG_STYLE_LIST, "Megaphone Menu", str1, "Play", "Cancel");

		SendMegaphoneMessage(playerid, gMessage);
		PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		//return 1;
	}
	else if(!strcmp(cmd, "/government", true) || !strcmp(cmd, "/gov", true))
	{
		if(	!IsACop(playerid) &&
			PlayerInfo[playerid][pMember] != DoD &&
			PlayerInfo[playerid][pMember] != DoH &&
			PlayerInfo[playerid][pMember] != DoJ &&
			PlayerInfo[playerid][pMember] != DoE)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		if(PlayerInfo[playerid][pMuted] > GetTickCount())
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете говорить, Вы заглушены!");
			return 1;
		}
		if(gParameter3[playerid] == 1)
		{
			SendClientMessage(playerid, COLOR_GREY, "    В депрессии Вы не можете говорить !");
			//SendClientMessage(playerid, COLOR_GREY, "    Вы социальное создание, если Вы не будите общаться, Вы можете впасть в депрессию!");
			return 1;
		}
		if(PlayerInfo[playerid][pMember] == DoT)
		{
			if(PlayerInfo[playerid][pRank] < 10)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 10 Ранга, чтобы использовать это!");
			    return 1;
			}
		}
		else if(PlayerInfo[playerid][pMember] == FBI)
		{
			if(PlayerInfo[playerid][pRank] < 9)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 9 Ранга, чтобы использовать это!");
			    return 1;
			}
		}
		else if(PlayerInfo[playerid][pMember] == DoD)
		{
			if(PlayerInfo[playerid][pRank] < 6)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 6 Ранга, чтобы использовать это!");
			    return 1;
			}
		}
		else if(PlayerInfo[playerid][pMember] == DoH)
		{
			if(PlayerInfo[playerid][pRank] < 8)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 8 Ранга, чтобы использовать это!");
			    return 1;
			}
		}
		else if(PlayerInfo[playerid][pMember] == DoJ)
		{
			if(PlayerInfo[playerid][pRank] < 4)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 4 Ранга, чтобы использовать это!");
			    return 1;
			}
		}
		else if(PlayerInfo[playerid][pMember] == DoE)
		{
			if(PlayerInfo[playerid][pRank] < 10)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 10 Ранга, чтобы использовать это!");
			    return 1;
			}
		}
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/gov)ernment [text]");
			return 1;
		}
		/*if(strlen(gMessage) > (MAX_STRING - 30-strlen(GetPlayerRanks(playerid))-strlen(PlayerName(playerid))-3) )
		{//strlen(gMessage) > 128
			format(strcmd, sizeof(strcmd), "   Ваше сообщение не может быть отправлено, т.к. кол-во символов больше %d!", (MAX_STRING-30-strlen(GetPlayerRanks(playerid))-strlen(PlayerName(playerid))-3) );
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}*/
		SendGovMessage(playerid, gMessage);
		//PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		//return 1;
	}
	else if(!strcmp(cmd, "/departments", true) || !strcmp(cmd, "/d", true))
	{
		//new gMessage[MAX_STRING];
		if(gOnDuty[playerid] != 1 && PlayerInfo[playerid][pMember] != DoJ)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 1;
		}
		if(PlayerInfo[playerid][pMuted] > GetTickCount())
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете говорить, Вы заглушены!");
			return 1;
		}
	//°*”??”*°•†‡N!K@L@$‡†•°*”??”*°
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/d)epartments [department chat]");
			return 1;
		}
		SendDepartmentMessage(playerid, gMessage);
		PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		//return 1;
	}
	else if(!strcmp(cmd, "/radio", true) || !strcmp(cmd, "/r", true))
	{
        if(gOnDuty[playerid] != 1)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 1;
		}
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/r)adio [radio chat]");
			return 1;
		}
		SendRadioMessage(playerid, gMessage);
		PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		//return 1;
	}
	else if(!strcmp(cmd, "/family", true) || !strcmp(cmd, "/f", true))
	{
		if( (PlayerInfo[playerid][pMember] < LCN || PlayerInfo[playerid][pMember] > SAN) &&
 			!IsAGangs(playerid) )
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/f)amily [family chat]");
			return 1;
		}
		SendFactionMessage(playerid, gMessage);
		PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		//return 1;
	}
	else if(!strcmp(cmd, "/clan", true) || !strcmp(cmd, "/c", true))
	{
		if(PlayerInfo[playerid][pTeam] == 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/c)lan [clan chat]");
			return 1;
		}
		SendTeamBeepMessage(playerid, FamilyInfo[PlayerInfo[playerid][pTeam]][fColor], gMessage);
		PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		//return 1;
	}
	else if(!strcmp(cmd, "/news", true))
	{
		if(PlayerInfo[playerid][pMember] != SAN && PlayerInfo[playerid][pJob] != BOOKMAKER) //PlayerInfo[playerid][pJob] != 12)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не репортёр новостей/букмекер !");
			return 1;
		}
		if(PlayerInfo[playerid][pRank] < 4)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 4 Ранга !");
		    return 1;
		}
        if(PlayerInfo[playerid][pMuted] > GetTickCount())
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы заглушены");
			return 1;
		}
		if(	!IsInNewsCar(nCarID[playerid]) &&
			//PlayerInfo[playerid][pLocal] != 249 &&
			PlayerInfo[playerid][pInt] != 0)//CNNStudio
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не в служебной машине или не в интерьере!");//CNN Studio
		    return 1;
		}
		gMessage = strrest(cmdtext, idx);
		if(!strlen(gMessage))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /news [newstext]");
			return 1;
		}
		SendNewsMessage(playerid, gMessage);
		PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		//return 1;
	}
	//для викторины
	else if(!strcmp(cmd, "/victorina", true))
	{
		if(	PlayerInfo[playerid][pLeader] != DoJ &&
			PlayerInfo[playerid][pMember] != SAN &&
			PlayerInfo[playerid][pAdmin] != 5 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не репортёр новостей! !");
			return 1;
		}
		/*if(PlayerInfo[playerid][pMember] == SAN && PlayerInfo[playerid][pRank] < 6)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 6 Ранга !");
		    return 1;
		}*/
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE,  "USE: /victorina [time: 30-300 (0-Off)]");
			return 1;
		}
		if(strval(tmp) < 30 && strval(tmp) > 300 && strval(tmp) != 0)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE,  "USE: /victorina [time: 30-300 (0-Off)]");
			return 1;
		}
		if(strval(tmp) == 0)
		{
			gQuestStarted = -1;
			SendClientMessage(playerid, COLOR_GREY, "   Викторина Остановлена !");
			return 1;
		}
		if(gQuestStarted != -1)
		{
			format(strcmd, sizeof(strcmd), "   Викторина уже используется. Кол-во вопросов: %d (USE: /victorina 0)",
				MaxQuestions);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		ThinkTime = strval(tmp);
		gQuestStarted = 0;
		QuestCounter = ThinkTime;

		if(gQuestStarted == 0) NowQuestion = random(MaxQuestions);//random(MAX_QUESTION);
		else NowQuestion = random(100);

		LoadQuests();

		SendClientMessage(playerid, COLOR_PURPLE, "[Викторина]: {FFFF00}Ответ вводите в простой чат. Он должен начинаться с большой буквы.");
		SendClientMessage(playerid, COLOR_PURPLE, "[Викторина]: {FFFF00}За правильный ответ вы получите деньги.");

		format(strcmd, sizeof(strcmd), "[Викторина]: {FFFF00}Вопрос №%d: {00CCFF}%s?",NowQuestion, QuestInfo[NowQuestion][qQuestion]);
		//SendClientMessageToAll(COLOR_PURPLE, strcmd);
		OOCNews(COLOR_PURPLE, strcmd);
		//return 1;
	}
	//==========================================================================
	//ACCOUNT COMMANDS
	//==========================================================================
	else if( !strcmp(cmd, "/getpass", true) )
	{
		if(PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
		if(gPlayerLogged[playerid] == 0)
		{   //если игрок не залогинился и не зарегистрировался
	    	SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Извините, но этот сервер требует залогиниться!");
			return 1;
	 	}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /getpass [playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		new playername[MAX_PLAYER_NAME];
		strmid(playername, tmp, 0, strlen(tmp), MAX_PLAYER_NAME);
	    if( IsPlayerConnectedEx(giveplayerid) )
		{
       		format(strcmd, sizeof(strcmd), "CEPBEP: {FF0000}%s[%s]", PlayerName(giveplayerid), PlayerInfo[giveplayerid][pKey]);
			SendClientMessage(playerid, COLOR_RED, strcmd);
		}
		else
		{
			if(!CheckExistPlayer(playerid, playername))
			{
				SendClientMessage(playerid, COLOR_GREY, "   Это имя НЕ зарегистрировано !");
				return 1;
			}
			giveplayerid = MAX_PLAYERS-2;
			new ToBase[57+20+24];//используется для нижнего запроса
			format(ToBase, sizeof(ToBase), "SELECT `Password` FROM `players` WHERE `Name`='%s' LIMIT 1", playername);//playername);//`Name` = '%s'
			mysql_query(ToBase); mysql_store_result();

			if(mysql_num_rows() > 0 && mysql_retrieve_row()) mysql_fetch_field_row(PlayerInfo[giveplayerid][pKey], "Password");
			else { mysql_free_result(); return SendClientMessage(playerid, COLOR_GRAYWHITE, "Ошибка с работой базы данных. Возможно аккаунт был удалён!"); }
			mysql_free_result();

       		format(strcmd, sizeof(strcmd), "CEPBEP: {FF0000}%s[%s]", playername, PlayerInfo[giveplayerid][pKey]);
			SendClientMessage(playerid, COLOR_RED, strcmd);
		}
		//return 1;
	}
	else if( !strcmp(cmd, "/changename", true) )
	{
		if(PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
		if(gPlayerLogged[playerid] == 0)
		{   //если игрок не залогинился и не зарегистрировался
	    	SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Извините, но этот сервер требует залогиниться!");
			return 1;
	 	}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /changename [oldname] [newname]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		new oldname[MAX_PLAYER_NAME];
		strmid(oldname, tmp, 0, strlen(tmp), MAX_PLAYER_NAME);

        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /changename [oldname] [newname]");
			return 1;
		}
		new newname[MAX_PLAYER_NAME];
		strmid(newname, tmp, 0, strlen(tmp), MAX_PLAYER_NAME);

		if(!CheckPlayerName(playerid, newname))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /changename [oldname] [newname]");
			return 1;
		}
		if(CheckExistPlayer(playerid, newname) == 1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Это имя уже зарегистрировано !");
			return 1;
		}
	    if( IsPlayerConnectedEx(giveplayerid) )
		{
			//format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			//return 1;
		    switch(SetPlayerName(giveplayerid, newname))
		    {//изменяет ник в игре, сохранение данных в базу не пойдёт, т.к. в базе нету нового ника
		        case -1:
		        {
		       		format(strcmd, sizeof(strcmd), "CEPBEP: {FF0000}Не в состоянии изменить имя, кто-то уже известен как «%s».", newname);
					SendClientMessage(playerid, COLOR_RED, strcmd);
					return 1;
				}
		        case 0:
		        {
		       		format(strcmd, sizeof(strcmd), "CEPBEP: {00FF00}'%s' уже известен как '%s'", oldname, newname);
					SendClientMessage(playerid, COLOR_RED, strcmd);
					return 1;
				}
		        case 1:
		        {
		       		format(strcmd, sizeof(strcmd), "CEPBEP: '%s' теперь известен как '%s'", oldname, newname);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				}
			}
		}

		new ToBase[55+24+24];
		format(ToBase, sizeof(ToBase), "UPDATE `banlist` SET `Player`='%s' WHERE `Player`='%s'", newname, oldname);
		mysql_query(ToBase);
		format(ToBase, sizeof(ToBase), "UPDATE `banlist` SET `Admin`='%s' WHERE `Admin`='%s'", newname, oldname);
		mysql_query(ToBase);

		format(ToBase, sizeof(ToBase), "UPDATE `bizz` SET `Owner`='%s' WHERE `Owner`='%s' LIMIT 10", newname, oldname);
		mysql_query(ToBase);
		for(new b=0; b<MAX_BIZ; b++)
		{   //кроме банка
			if(BizInfo[b][bOwned] == 0) continue;
			if( strcmp(oldname, BizInfo[b][bOwner], true) ) continue;
			strmid(BizInfo[b][bOwner], newname, 0, strlen(newname), MAX_PLAYER_NAME);
		}

		format(ToBase, sizeof(ToBase), "UPDATE `blacklist` SET `Player`='%s' WHERE `Player`='%s'", newname, oldname);
		mysql_query(ToBase);
		format(ToBase, sizeof(ToBase), "UPDATE `blacklist` SET `Leader`='%s' WHERE `Leader`='%s'", newname, oldname);
		mysql_query(ToBase);

		format(ToBase, sizeof(ToBase), "UPDATE `clans` SET `Owner`='%s' WHERE `Owner`='%s' LIMIT 10", newname, oldname);
		mysql_query(ToBase);

		format(ToBase, sizeof(ToBase), "UPDATE `criminallist` SET `Player`='%s' WHERE `Player`='%s'", newname, oldname);
		mysql_query(ToBase);
		format(ToBase, sizeof(ToBase), "UPDATE `criminallist` SET `Turner`='%s' WHERE `Turner`='%s'", newname, oldname);
		mysql_query(ToBase);

		format(ToBase, sizeof(ToBase), "UPDATE `election` SET `Constituent`='%s' WHERE `Constituent`='%s'", newname, oldname);
		mysql_query(ToBase);
		format(ToBase, sizeof(ToBase), "UPDATE `election` SET `Candidate`='%s' WHERE `Candidate`='%s'", newname, oldname);
		mysql_query(ToBase);

		format(ToBase, sizeof(ToBase), "UPDATE `families` SET `Leader`='%s' WHERE `Leader`='%s' LIMIT 1", newname, oldname);
		mysql_query(ToBase);

		format(ToBase, sizeof(ToBase), "UPDATE `finance` SET `Name`='%s' WHERE `Name`='%s'", newname, oldname);
		mysql_query(ToBase);

		format(ToBase, sizeof(ToBase), "UPDATE `house` SET `Owner`='%s' WHERE `Owner`='%s' LIMIT 5", newname, oldname);
		mysql_query(ToBase);
		for(new h = 0; h < MAX_HOUSE; h++)
		{   //кроме банка
			if(HouseInfo[h][hOwned] == 0) continue;
			if( strcmp(oldname, HouseInfo[h][hOwner], true) ) continue;
			strmid(HouseInfo[h][hOwner], newname, 0, strlen(newname), MAX_PLAYER_NAME);
		}

		format(ToBase, sizeof(ToBase), "UPDATE `invitelist` SET `Player`='%s' WHERE `Player`='%s'", newname, oldname);
		mysql_query(ToBase);
		format(ToBase, sizeof(ToBase), "UPDATE `invitelist` SET `Leader`='%s' WHERE `Leader`='%s'", newname, oldname);
		mysql_query(ToBase);

		format(ToBase, sizeof(ToBase), "UPDATE `killlist` SET `Player`='%s' WHERE `Player`='%s'", newname, oldname);
		mysql_query(ToBase);
		format(ToBase, sizeof(ToBase), "UPDATE `killlist` SET `Killer`='%s' WHERE `Killer`='%s'", newname, oldname);
		mysql_query(ToBase);

		format(ToBase, sizeof(ToBase), "UPDATE `lastrounds` SET `BoxOffer`='%s' WHERE `BoxOffer`='%s'", newname, oldname);
		mysql_query(ToBase);
		format(ToBase, sizeof(ToBase), "UPDATE `lastrounds` SET `BluePlayer`='%s' WHERE `BluePlayer`='%s'", newname, oldname);
		mysql_query(ToBase);
		format(ToBase, sizeof(ToBase), "UPDATE `lastrounds` SET `RedPlayer`='%s' WHERE `RedPlayer`='%s'", newname, oldname);
		mysql_query(ToBase);

		format(ToBase, sizeof(ToBase), "UPDATE `players` SET `Name`='%s' WHERE `Name`='%s' LIMIT 1", newname, oldname);
		mysql_query(ToBase);
		format(ToBase, sizeof(ToBase), "UPDATE `players` SET `MarriedTo`='%s' WHERE `MarriedTo`='%s' LIMIT 1", newname, oldname);
		mysql_query(ToBase);
		format(ToBase, sizeof(ToBase), "UPDATE `players` SET `Referal`='%s' WHERE `Referal`='%s' LIMIT 1", newname, oldname);
		mysql_query(ToBase);

		format(ToBase, sizeof(ToBase), "UPDATE `sbizz` SET `Owner`='%s' WHERE `Owner`='%s' LIMIT 20", newname, oldname);
		mysql_query(ToBase);
		for(new sb=0; sb<MAX_SBIZ; sb++)
		{   //кроме банка
			if(SBizInfo[sb][sbOwned] == 0) continue;
			if( strcmp(oldname, SBizInfo[sb][sbOwner], true) ) continue;
			strmid(SBizInfo[sb][sbOwner], newname, 0, strlen(newname), MAX_PLAYER_NAME);
		}

		format(ToBase, sizeof(ToBase), "UPDATE `unbanlist` SET `Player`='%s' WHERE `Player`='%s'", newname, oldname);
		mysql_query(ToBase);
		format(ToBase, sizeof(ToBase), "UPDATE `unbanlist` SET `Admin`='%s' WHERE `Admin`='%s'", newname, oldname);
		mysql_query(ToBase);

		format(ToBase, sizeof(ToBase), "UPDATE `vehicles` SET `Owner`='%s' WHERE `Owner`='%s' LIMIT 3", newname, oldname);
		mysql_query(ToBase);
		for(new vid = 1; vid<=GetMaxVehicles; vid++)
		{   //сканируем все тачки на сервере
			if(	VehInfo[vid][cModel] < 400) continue;
			if(	VehInfo[vid][cOwned] > 0 &&
				//VehInfo[vid][cOwned] == PlayerInfo[playerid][pSQLID]
				!strcmp(VehInfo[vid][cOwner], oldname, true)
			  )
			{   //находим ваши
				strmid(VehInfo[vid][cOwner], newname, 0, MAX_PLAYER_NAME, MAX_PLAYER_NAME);
				new numberplate[MAX_PLAYER_NAME+10];
				format(numberplate, sizeof(numberplate), "%s [ %d ]", newname, vid);
				Update3DTextLabelText(number3D[vid], 0x009DFFFF, numberplate);
			}
		}

		format(ToBase, sizeof(ToBase), "UPDATE `vote` SET `maker`='%s' WHERE `maker`='%s' LIMIT 1", newname, oldname);
		mysql_query(ToBase);
		format(ToBase, sizeof(ToBase), "UPDATE `vote` SET `Info1`='%s' WHERE `Info1`='%s' LIMIT 1", newname, oldname);
		mysql_query(ToBase);
		format(ToBase, sizeof(ToBase), "UPDATE `vote` SET `Info2`='%s' WHERE `Info2`='%s' LIMIT 1", newname, oldname);
		mysql_query(ToBase);
		format(ToBase, sizeof(ToBase), "UPDATE `vote` SET `Info3`='%s' WHERE `Info3`='%s' LIMIT 1", newname, oldname);
		mysql_query(ToBase);
		format(ToBase, sizeof(ToBase), "UPDATE `vote` SET `Info4`='%s' WHERE `Info4`='%s' LIMIT 1", newname, oldname);
		mysql_query(ToBase);
		format(ToBase, sizeof(ToBase), "UPDATE `vote` SET `Info5`='%s' WHERE `Info5`='%s' LIMIT 1", newname, oldname);
		mysql_query(ToBase);

		format(ToBase, sizeof(ToBase), "UPDATE `warnlist` SET `Player`='%s' WHERE `Player`='%s'", newname, oldname);
		mysql_query(ToBase);
		format(ToBase, sizeof(ToBase), "UPDATE `warnlist` SET `Admin`='%s' WHERE `Admin`='%s'", newname, oldname);
		mysql_query(ToBase);

		//OnPlayerRename(playerid, strcmd, tmp);
		//format(strcmd, sizeof(strcmd), "You may now reconnect with the name %s", tmp);
		//SendClientMessage(playerid, COLOR_YELLOW, strcmd);
		//format(strcmd, sizeof(strcmd), "%s.ini", PlayerName(playerid));
		//printf("%s has changed there name to %s.", playername,tmp);
		//gPlayerLogged[playerid] = 0;
		//fremove(strcmd);

   		format(strcmd, sizeof(strcmd), "CEPBEP: '%s' теперь известен как '%s'. Установил: %s", oldname, newname, PlayerName(playerid));
		Log(ADMINLOG, strcmd);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		//return 1;
	}
	/*else if(!strcmp(cmd, "/changeorigin", true))//
	{
		if(PlayerInfo[playerid][pAdmin] != 9)
		{// && PlayerInfo[playerid][pAccount] == 0
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}

	    format(strcmd, sizeof(strcmd), "CEPBEP: {800000}Какой Ваш Областной Центр (Страна) %s? Please enter your Origin:", PlayerName(playerid));
		SendClientMessage(playerid, COLOR_YELLOW, strcmd);
    	new listitems[160+142+127+85] = "{FFFFFF}1\t{00FF00}Минск\n{FFFFFF}2\t{00FF00}Гродно\n{FFFFFF}3\t{00FF00}Гомель\n{FFFFFF}4\t{00FF00}Могилёв\n{FFFFFF}5\t{00FF00}Витебск\n{FFFFFF}6\t{00FF00}Брест";
		strcat(listitems, "\n{FFFFFF}7\t{00FF00}Россия\n{FFFFFF}8\t{00FF00}Украина\n{FFFFFF}9\t{00FF00}Литва\n{FFFFFF}10\t{00FF00}Латвия\n{FFFFFF}11\t{00FF00}Эстония");
		strcat(listitems, "\n{FFFFFF}12\t{00FF00}Молдова\n{FFFFFF}13\t{00FF00}Болгария\n{FFFFFF}14\t{00FF00}Казахстан\n{FFFFFF}15\t{00FF00}Башкирия");
		strcat(listitems, "\n{FFFFFF}16\t{00FF00}Израиль\n{FFFFFF}17\t{00FF00}Италия\n{FFFFFF}18\t{00FF00}Германия");
		ShowPlayerDialogEx1(playerid, CHANGEREGION_DIALOG, DIALOG_STYLE_LIST, "3/4. Регистрация", listitems, "OK", "Cancel");
		//return 1;
	}*/
	else if(!strcmp(cmd, "/changepass", true))//
	{
		if(GetPVarInt(playerid, "PasswordHasEdited") == getdate() && PlayerInfo[playerid][pAdmin] < 5)
		{
			format(strcmd, sizeof(strcmd), "CEPBEP: {33AA33}playerid:%d уже сегодня производил отправку пароля. Нельзя так часто менять пароль!", playerid);
			SendClientMessage(playerid, COLOR_RED, strcmd);
			return 1;
		}
		new dlgitem[93+24];
	    format(dlgitem, sizeof(dlgitem), "{FFFFFF}%s{A9C4E4}\nПожалуйста, придумайте \nлегко запоминаемый пароль \nи введите его ниже:", PlayerName(playerid));
		ShowPlayerDialogEx1(playerid, CHANGEPASS_DIALOG, DIALOG_STYLE_INPUT, "Смена пароля", dlgitem, "Change", "");//RegistrationSTEP16
		//return 1;
	}
	else if(!strcmp(cmd, "/enter", true))
	{
		/*if(	IsPlayerInRangeOfPoint(playerid, 10.0, -14.5400,-270.5720,5.4297) &&
			GetPlayerInterior(playerid) == 0 && GetPlayerVirtualWorld(playerid) == 0)
		{
			if(CurState[playerid] == PLAYER_STATE_DRIVER)
			{
				//new carid = GetPlayerVehicleID(playerid);//nCarID[playerid]
				//new modelveh = GetVehicleModel(carid);//nCarModel[playerid]
				if(nCarModel[playerid] == 403 || nCarModel[playerid] == 514 || nCarModel[playerid] == 515)
				{
					LinkVehicleToInteriorEx(nCarID[playerid], 1);
					SetPlayerInteriorEx(playerid, 1);

					SetVehicleVirtualWorldEx(nCarID[playerid], 80);
					SetPlayerVirtualWorldEx(playerid, 80);

					SetVehiclePosEx(nCarID[playerid], 1405.7390,-35.5065,1001.4917);
					SetVehicleZAngleEx(nCarID[playerid], 90.4622);

					//if(IsTrailerAttachedToVehicle(carid))
					//{
						//new trailer = GetVehicleTrailer(carid);//nTrailerID[playerid]
						format(strings, sizeof(strings), "Транспорт под номером %d имеет прицеп под номером %d.", nCarID[playerid], nTrailerID[playerid]);
						SendClientMessage(playerid, 0xC0C0C000, strings);
						//DetachTrailerFromVehicleEx(carid);

						LinkVehicleToInteriorEx(nTrailerID[playerid], 1);
						SetVehicleVirtualWorldEx(nTrailerID[playerid], 80);
						SetVehiclePosEx(nTrailerID[playerid], 1415.941,-35.423,1001.495);
						SetVehicleZAngleEx(nTrailerID[playerid], 90.4622);
					//}

					//DetachTrailerFromVehicleEx(nTrailerID[playerid]);
					AttachTrailerToVehicleEx(nTrailerID[playerid], nCarID[playerid]);
				}
			}
		}*/
		for(new sb=0; sb<MAX_SBIZ; sb++)
		{   //находим у какого биза без интерьера стоит сейчас игрок
			if(!IsPlayerInRangeOfPoint(playerid, 3.0,
					SBizInfo[sb][sbEntranceX],
					SBizInfo[sb][sbEntranceY],
					SBizInfo[sb][sbEntranceZ])) continue;
			//if(strcmp(PlayerName(playerid), SBizInfo[sb][sbOwner], true))//для владения несколькими бизами
			if(PlayerInfo[playerid][pSQLID] != SBizInfo[sb][sbOwned])
			{ 	//если ты не владелец
				if(GetPlayerMoneyH(playerid) < SBizInfo[sb][sbEntranceCost])
				{
					SendClientMessage(playerid, COLOR_GREY, "   Недостаточно денежных средств.");
					return 1;
				}
				/*if(SBizInfo[sb][sbLock] == 1)
				{//Закрытие бизнеса должно влияет только на ввоз дальнобойщиками сырья и вывоз денег инкассаторами
					GameTextForPlayerEx(playerid, "~r~Closed", 5000, 1);
					return 1;
				}*/
				if(SBizInfo[sb][sbProducts] <= 0 && !gRealWar)
				{
					GameTextForPlayerEx(playerid, "~r~Out Of Stock", 5000, 1);
					PlaySoundForPlayer(playerid, SOUND_BASEBALL_BAT_HIT_PED);
					return 1;
				}
				//--------------------------------------------------------------
				if(sb == 11)//для картингов
				{   //если биз картингов
					if(gRaceStarted == 1)
					{
						format(strings, sizeof(strings), "Гонка {FF0000}%s{FF6600} окончена.", TrackName);
			   			SendClientMessageToAll(COLOR_GREEN, strings);

						KillTimer(endracetimer); endracetimer = -1;
						RacingMenu = 0;
						for(new j=0, i; j<MaxPlayers; j++)	{
							i = PLIDs[j];
							if(	IsPlayerConnectedEx(i)
								&& gInRacing[i])
							{
								if(HireCarID[i] >= RentCar[6] && HireCarID[i] <= RentCar[11])
								{
									UnLockCar(HireCarID[i]);
									HireCarID[i] = MAX_VEHICLES-1;//освободить переменную
									GameTextForPlayerEx(i, "~w~You no longer rent a car", 5000, 3);
								}
								gInRacing[i] = 0;//опускаем флаг - игрок не в гонке
								PlaySoundForPlayer(i, SOUND_DRIVING_AWARD_TRACK_STOP);//1184//Выключить Музыкальный трек - конец гонки
								PlaySoundForPlayer(i, SOUND_BIKE_AWARD_TRACK_STOP);//1186//Выключить Музыкальный трек - победа в гонке
								DisablePlayerRaceCheckpoint(i);
								gTextDrawHideRace[i] = true; OnPlayerTextDrawStateChange(playerid);
							}
						}
						gRaceStarted = 0;//опускаем флаг - гонка закончилась
						TotalRacers = 0;//обнулить общее кол-во гонщиков 0
						gVehicleSpawn[RentCar[6]] = 1;
						SetVehicleToRespawn(RentCar[6]);
						gVehicleSpawn[RentCar[7]] = 1;
						SetVehicleToRespawn(RentCar[7]);
						gVehicleSpawn[RentCar[8]] = 1;
						SetVehicleToRespawn(RentCar[8]);
						gVehicleSpawn[RentCar[9]] = 1;
						SetVehicleToRespawn(RentCar[9]);
						gVehicleSpawn[RentCar[10]] = 1;
						SetVehicleToRespawn(RentCar[10]);
						gVehicleSpawn[RentCar[11]] = 1;
						SetVehicleToRespawn(RentCar[11]);
					    SendClientMessage(playerid, TEAM_GROVE_COLOR, "   Вы можете теперь участвовать в Гонке Karting. Возьмите Kart.");
					}
				}
			}
			//--------------------------------------------------------------
			if(sb == 10)//для контры начало STEP1
			{
				if(TotalTerrorist+TotalCTerrorist >= 16)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Кол-во участников больше 16.");
					return 1;
				}
				if(WantedLevel[playerid] > 0)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть Не в Розыске !");
					return 1;
				}
				cs_OnPlayerCommandText(playerid);
			}
			else
			{
				return 1;
			}
			//--------------------------------------------------------------

			GivePlayerMoneyH(fsbiz+sb, playerid, -SBizInfo[sb][sbEntranceCost]);
			SBizInfo[sb][sbProducts] --;
			OnGangsExtortionSBiz(sb, SBizInfo[sb][sbEntranceCost]);
			//format(strcmd, sizeof(strcmd), "%s заплатил $%d за вход в бизнес %d", PlayerName(sb), SBizInfo[sb][sbEntranceCost], sb);
			//PayLog(strcmd);
			//Log(PAY,strcmd);
			//else GameTextForPlayerEx(playerid, "~r~You dont have the cash", 5000, 1);
			return 1;
		}
		//return 1;
	}//"/enter" - конец
	else if(!strcmp(cmd, "/exit", true))
	{
		if(IsPlayerInRangeOfPoint(playerid, 3.0, 390.1595,173.7057,1008.3828) && PlayerInfo[playerid][pVirtual] == 3)
		{   //выход из Мэрии на всякий случай если пропал пикап
			SetPlayerPosEx(playerid, -2424.3542,337.0577,37.0021, 0);
		    SetPlayerInteriorEx(playerid, 0);
			SetPlayerVirtualWorldEx(playerid, 0);
			PlayerInfo[playerid][pLocal] = FREEROAM;
		}
		if(IsPlayerInRangeOfPoint(playerid, 3.0, 390.1595,173.7057,1008.3828) && PlayerInfo[playerid][pVirtual] == 33)
		{   //выход из Мэрии на всякий случай если пропал пикап
			SetPlayerVirtualWorldEx(playerid, 0);
		    SetPlayerInteriorEx(playerid, 0);
			PlayerInfo[playerid][pLocal] = FREEROAM;
			SetPlayerPosEx(playerid, 1481.2120,-1765.7186,18.7957, 0.0);
		}
		else if( IsInRentCar(nCarID[playerid]) )//SLadd
		{   //выход из rent тачек
		    if(PlayerCuffed[playerid] < MAX_PLAYERS-1)
		    {
	            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете воспользоваться этой командой когда у Вас надеты наручники !");
		        return 1;
		    }
	        if(PlayerTied[playerid] > 0)
	        {
	            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете воспользоваться этой командой когда Вы связаны !");
		        return 1;
	        }
			TogglePlayerControllableEx(playerid, 1);
			RemovePlayerFromVehicleEx(playerid);
		}
		/*else if(gNoFuel[playerid] == 1)
		{   //выход из тачек без бенза
		    TogglePlayerControllableEx(playerid, 1);
			RemovePlayerFromVehicleEx(playerid);
			gNoFuel[playerid] = 0;
		}*/
		else if(gInTerrorsCount[playerid] || gInCTerrorsCount[playerid])
		{ //выход из Paint Ball
			if(IsPlayerInRangeOfPoint(playerid, 3.0, 2501.3853,2773.2546,10.8203))
			{
				assault_OnPlayerDisconnect(playerid, 3);
			}
		}
		//return 1;
	}// "/exit" - конец

	else if(!strcmp(cmd, "/time", true))
	{
	    new mtext[20];
		new year, month, day;
		getdate(year, month, day);
		if(month == 1) { mtext = "January"; }
		else if(month == 2) { mtext = "February"; }
		else if(month == 3) { mtext = "March"; }
		else if(month == 4) { mtext = "April"; }
		else if(month == 5) { mtext = "May"; }
		else if(month == 6) { mtext = "June"; }
		else if(month == 7) { mtext = "Juli"; }
		else if(month == 8) { mtext = "August"; }
		else if(month == 9) { mtext = "September"; }
		else if(month == 10) { mtext = "October"; }
		else if(month == 11) { mtext = "November"; }
		else if(month == 12) { mtext = "December"; }
		new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
		//hour = shifthour;
		//для автоугонщиков начало

		if(PlayerInfo[playerid][pJailTime] > 0 && PlayerInfo[playerid][pJailed] > 0)// && PlayerInfo[playerid][pCarTime] == 0
		{
			format(strcmd, sizeof(strcmd), "~y~%02d %s~n~~g~|~w~%02d:%02d~g~|~n~~w~Jail Time Left: %d min", day, mtext, lH,lM, PlayerInfo[playerid][pJailTime]);//-10
		}
		else if(PlayerInfo[playerid][pJob] == CARJACKER)//для автоугонщиков начало
		{// && PlayerInfo[playerid][pJailTime] == 0
			format(strcmd, sizeof(strcmd), "~y~%d %s~n~~g~|~w~%02d:%02d~g~|~n~~r~Time Remaining: %s sec", day, mtext, lH,lM, TimeConverter(PlayerInfo[playerid][pCarTime]) );
			GameTextForPlayerEx(playerid, strcmd, 1000, 1);
			return 1;
		}//для автоугонщиков конец
		//для дальнобойщиков начало
		else if(PlayerInfo[playerid][pJob] == TRUCKER)//для дальнобойщиков начало
		{// && PlayerInfo[playerid][pJailTime] == 0
			format(strcmd, sizeof(strcmd), "~y~%02d %s~n~~g~|~w~%02d:%02d~g~|~n~~r~Time Remaining: %s sec", day, mtext, lH,lM, TimeConverter(PlayerInfo[playerid][pCarTime]) );
			GameTextForPlayerEx(playerid, strcmd, 1000, 1);
			return 1;
		}//для дальнобойщиков конец
		//для автомехаников начало
		else if(PlayerInfo[playerid][pJob] == CARMECHANIC)
		{// && PlayerInfo[playerid][pJailTime] == 0
			format(strcmd, sizeof(strcmd), "~y~%02d %s~n~~g~|~w~%02d:%02d~g~|~n~~r~Time Remaining: %s sec", day, mtext, lH,lM, TimeConverter(PlayerInfo[playerid][pCarTime]) );
			GameTextForPlayerEx(playerid, strcmd, 1000, 1);
			return 1;
		}//для автомехаников конец
		else
		{
			format(strcmd, sizeof(strcmd), "~y~%02d %s~n~~g~|~w~%02d:%02d~g~|", day, mtext, lH,lM);
		}
		GameTextForPlayerEx(playerid, strcmd, 1000, 1);
		OnePlayAnim(playerid, "COP_AMBIENT", "Coplook_nod",4.1,0,1,1,0,0);
		//return 1;
	}
	//==========================================================================
	else if(!strcmp(cmd, "/menu", true) || !strcmp(cmd, "/mn", true) || !strcmp(cmd, "/mm", true))
	{
	    //SetPVarInt(playerid, "gDocuments", 0);
		//OnPlayerShowStats(playerid, playerid);
		PlayerMenu(playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/stats", true))
	{
	    SetPVarInt(playerid, "gDocuments", 0);
		OnPlayerShowStats(playerid, playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/documents", true) || !strcmp(cmd, "/doc", true))
	{
        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /documents [playerid/PartOfName]");
			SetPVarInt(playerid, "gDocuments", 1);
			OnPlayerShowStats(playerid, playerid);
			return 1;
		}
		if(PlayerInfo[playerid][pJailed] > 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Ваши документы отобраны пока вы под арестом !");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
		if(IsPlayerInAnyVehicle(giveplayerid) && GetPlayerState(giveplayerid) == PLAYER_STATE_DRIVER)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Игрок находится за рулём транспортного средства !");
			return 1;
		}
		if(gPlayerBoxing[giveplayerid] == 1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Игрок находится на ринге !");
			return 1;
		}
    	SetPVarInt(giveplayerid, "gDocuments", 1);
    	//SetPVarInt(playerid, "DocumentsTime", GetTickCount());
		OnPlayerShowStats(giveplayerid, playerid);
		//format(strcmd, sizeof(strcmd), "* %s показал %s'у свои Документы.", PlayerName(playerid), PlayerName(giveplayerid));
		//ProxDetector(playerid, 30.0, strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
		if(!IsPlayerInAnyVehicle(playerid)) OnePlayAnim(playerid, "TEC", "TEC_reload", 4.0, 0, 1, 1, 0, 0); //OnePlayAnim(playerid, "PED", "ATM",4.1,0,1,1,0,0);
		//return 1;
	}
	else if(!strcmp(cmd, "/test", true) )
	{
        if(PlayerInfo[playerid][pAdmin] < 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        fireman_OnGameModeInit();//для пожарников
		fireman_FiveMinutsTimer();//AddRandFire5Timer();
	}
	else if(!strcmp(cmd, "/tutorial", true) || !strcmp(cmd, "/tut", true))
	{
		//TutTimeCounter[playerid] = 1;
		//Tutorial(playerid);

		if(PlayerInfo[playerid][pTut] > MAX_MISS_TRANSITION && //MAX_MISS_TRANSITION = 43
			PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 9)
		{
			///DisablePlayerCheckpointEx(playerid);//просто чтобы этой командой не могли маркер вырубать нечаянно
			SendClientMessage(playerid, COLOR_GREY, "   Вы прошли обучение с чем мы вас и поздравляем.");
			return 1;
		}
		if(PlayerInfo[playerid][pLevel] > 10 && PlayerInfo[playerid][pAdmin] <= 5) //MAX_MISS_TRANSITION = 43
		{   //если коп и не на дежурстве и не в розыске
			SendClientMessage(playerid, COLOR_GREY, "   Игрок выше 10-го уровня не нуждается в обучении.");
			return 1;
		}
		if(gOnDuty[playerid])
		{   //если коп и не на дежурстве и не в розыске
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете запускать обучение, когда вышли на дежурство.");
			return 1;
		}
		if(gJobDuty[playerid])
		{   //если коп и не на дежурстве и не в розыске
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете запускать обучение, когда вышли на дежурство.");
			return 1;
		}
        if(PlayerInfo[playerid][pJob] == LOADER)// PlayerInfo[playerid][pJob] != 0)//PlayerInfo[playerid][pJob] == LOADER
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Закончите начатую работу, перед тем как запускать обучение!");
			return 1;
		}
        /*if(GetPVarInt(playerid, "IsPlayerCheckpoint"))
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы уже получили какое то задание, закончите его!");
			return 1;
		}*/
//для обучения начало STEP0
        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
	        if(PlayerInfo[playerid][pAdmin] == 6 || PlayerInfo[playerid][pAdmin] == 9)
			{
				SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /tutorial [mission]");
			}
			new loc = -1;
			new bigmsgitem[10*128];//1163//10*128
			for(new i=0; i<MAX_LOCATION; i++)
			{
				if(PlayerInfo[playerid][pTut] != MISSION[i][locused]) continue;
				strins(bigmsgitem, MISSION[i][locmessage], strlen(bigmsgitem));
				loc = i;
				if(strlen(MISSION[i][loccaption])) break;//обрываем если дошли до заголовка
			}
			if(strlen(bigmsgitem) >= sizeof(bigmsgitem) || strlen(bigmsgitem) <= 0)
			{
				//ИНФОРМИРОВАНИЕ
				////new strcmd[MAX_STRING];
				format(strcmd, sizeof(strcmd), "Error27: Location%d[%d] %s[%d], strlen(bigmsgitem): %d, sizeof(bigmsgitem): %d",
					PlayerInfo[playerid][pTut], loc, PlayerName(playerid), playerid, strlen(bigmsgitem), sizeof(bigmsgitem));
				Log(ERROR, strcmd);

				new Float:slx, Float:sly, Float:slz;
				GetPlayerHealth(playerid, LastHealth[playerid]);
				GetPlayerPos(playerid, slx, sly, slz);
				SetPlayerPos(playerid, slx, sly, slz+5.0);
				PlayerPlaySound(playerid, SOUND_PUNCH_PED, slx, sly, slz+5.0);
				return 1;
			}
			if(strlen(bigmsgitem) <= 0)
			{
				return 1;
			}
			if(loc != -1)
			{
				gTutorial[playerid] = 1;
				gCheckInMission[playerid] = loc;
				new caption[65];
				format(caption, sizeof(caption), "%d[%d]. %s",
					MISSION[loc][locused], loc,
					MISSION[loc][loccaption]);
				ShowPlayerDialogEx1(playerid, MISSION_DIALOG, MISSION[loc][locstyle], caption, bigmsgitem, "OK", "");
			}
			return 1;
		}
        if(PlayerInfo[playerid][pAdmin] == 6 || PlayerInfo[playerid][pAdmin] == 9)
        {
			PlayerInfo[playerid][pTut] = strval(tmp);
	  		format(strcmd, sizeof(strcmd), "AdmCmd: %s, pTut=%d.", PlayerName(playerid), PlayerInfo[playerid][pTut]);
			SendClientMessage(playerid, COLOR_RED, strcmd);
        }
//для обучения конец
		//return 1;
	}
    else if(!strcmp(cmd, "/tutreset", true))
    {
        if(PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		mysql_query("UPDATE `players` SET `Tutorial`=0");
       	for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) ) continue;// || !gPlayerSpawned[i]
        	PlayerInfo[i][pTut] = 0;
        	//OnPlayerStatsUpdate(i);
        }
  		format(strcmd, sizeof(strcmd), "AdmCmd: %s перезапустил Обучение.", PlayerName(playerid));
		SendClientMessageToAll(COLOR_RED, strcmd);
  		Log(ADMINLOG, strcmd);
 		//return 1;
	}
	else if(!strcmp(cmd, "/registration", true) || !strcmp(cmd, "/reg", true))//RegistrationSTEP0
	{
        if(PlayerInfo[playerid][pAdmin] < 5)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(gTesting == 0)
        {
			gTesting = 1;
			SendAllAdminMessage(COLOR_RED, "Тестирование включено !!!", 7);
			SaveSettingsSQL();
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has running Tutorial", PlayerName(playerid));
   			Log(ADMINLOG, strcmd);
		}
		else
        {
			gTesting = 0;
			SendAllAdminMessage(COLOR_RED, "Тестирование выключено !!!", 7);
			SaveSettingsSQL();
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped Tutorial", PlayerName(playerid));
			Log(ADMINLOG, strcmd);
		}
	    /*if( gStatusRegistration[playerid] == 0 )
	    {   //если правила ни кто в данный момент не запустил, т.е. одновременно тока 1 поток
			TutTimeCounter[playerid] = 1;//поднимаем флаг чтобы начать
			gStatusRegistration[playerid] = 1;//чтобы нельзя было запусить несколько таймеров

			TogglePlayerControllableEx(playerid, 0);//обездвиживает
			GetPlayerPos(playerid, Unspec[playerid][Coords][0],Unspec[playerid][Coords][1],Unspec[playerid][Coords][2]);

			//tutorialtimer = SetTimer("tTutorial", 1000, 1);//запускается каждую секунду
		}*/
		//return 1;
	}
	else if(!strcmp(cmd, "/rules", true))
	{
		Rules(playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/charity", true))
	{
		if(PlayerInfo[playerid][pJailed] > 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вам пока запрещена данная команда !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /charity [amount]");
			return 1;
		}
        if(PlayerInfo[playerid][pLocal] == 100)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Команда запрещена в БАНКе !");
			return 1;
		}
		new moneys = strval(tmp);
		if(moneys < 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Не правильно введена сумма.");
			return 1;
		}
		if(GetPlayerMoneyH(playerid) < moneys)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   У вас нет столько наличных для этого !");
			return 1;
		}
		GivePlayerMoneyH(fadmin, playerid, -moneys);
		format(strcmd, sizeof(strcmd), "%s charity $%d.", PlayerName(playerid), moneys);
		SendAllAdminMessage(COLOR_RED, strcmd, 1);
		//return 1;
	}

	//==========================================================================
	//GENERAL COMMANDS
	//==========================================================================
	else if(!strcmp(cmd, "/pay", true))
	{
		if(PlayerInfo[playerid][pLevel] < 2)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны иметь уровень 2, чтобы передавать деньги.");
			return 1;
		}
		if(GetPlayerMoneyH(playerid) < 0 || PlayerInfo[playerid][pBank] < 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   У Вас зафиксирован минусовой баланс! Вы не можете пока передовать деньги");
			return 1;
		}
		/*if((PlayerInfo[playerid][pJailed] >= 1 && PlayerInfo[playerid][pJailed] <= 3) || PlayerInfo[playerid][pJailed] == 10)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вам пока запрещена данная команда !");
			return 1;
		}*/
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /pay [playerid/PartOfName] [amount]");
			return 1;
		}
		//giveplayerid = strval(tmp);//конвертирует текст ввиде цифр в цифровое значение
        giveplayerid = ReturnUser(tmp);//возвращает userid = INVALID_PLAYER_ID
		if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы не можете передовать деньги самому себе!"); return 1; }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /pay [playerid/PartOfName] [amount]");
			return 1;
		}
		new moneys = strval(tmp);
		if(moneys > 100000 && PlayerInfo[playerid][pLevel] < 3)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны иметь уровень 3, чтобы передавать свыше 100000$");
			return 1;
		}
		if(moneys < 1000 || moneys > 1000000)//80000
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Сумма должна быть не ниже 1000, и не выше 1000000 за раз.");
		    return 1;
		}
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		/*if(PlayerInfo[giveplayerid][pLocal] == 100)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Команда запрещена в БАНКе !");
			return 1;
		}*/
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
		new playermoney = GetPlayerMoneyH(playerid);
		if(moneys > 0 && playermoney >= moneys)
		{
			GivePlayerMoneyH(fpay+PlayerInfo[giveplayerid][pSQLID], playerid, -moneys);//(0 - moneys)
//OnPlayerStatsUpdate(giveplayerid, 255);
			GivePlayerMoneyH(fpay+PlayerInfo[playerid][pSQLID], giveplayerid, moneys);
//OnPlayerStatsUpdate(playerid, 255);
			format(strcmd, sizeof(strcmd), "   Bы передали %s'у(id: %d), $%d.", PlayerName(giveplayerid),giveplayerid, moneys);
			SendClientMessage(playerid, COLOR_LILAC, strcmd);
			format(strcmd, sizeof(strcmd), "   Bы получили $%d от %s(id: %d).", moneys, PlayerName(playerid), playerid);
			SendClientMessage(giveplayerid, COLOR_LILAC, strcmd);
			format(strcmd, sizeof(strcmd), "Sender %s has paid $%d to %s", PlayerName(playerid), moneys, PlayerName(giveplayerid));
			Log(PAY,strcmd);
			if(moneys > 100000)	SendAllAdminMessage(COLOR_MAROON, strcmd, 1);
			PlaySoundForPlayer(giveplayerid, SOUND_AMMUNATION_BUY_WEAPON);//1052
			format(strcmd, sizeof(strcmd), "* %s перевёл немного наличных для %s.", PlayerName(playerid), PlayerName(giveplayerid));
			ProxDetector(playerid, 30.0, strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
		}
		else SendClientMessage(playerid, COLOR_GREY, "   У вас нет столько наличных для этого !");
		//return 1;
	}
	else if(!strcmp(cmd, "/givegun", true))
	{
        if(PlayerInfo[playerid][pGunLic] != 1 && !gRealWar)
        {
	        SendClientMessage(playerid, COLOR_GREY, "   У Вас отсутствует лицензия на оружие!");
		    return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /givegun [playerid/PartOfName]");
			if(IsAFamilyMember(playerid) || IsAGangs(playerid))
			{
				if(PlayerInfo[playerid][pLocal] == 243 || PlayerInfo[playerid][pLocal] == 244)
				{
					if(!GetPVarInt(playerid, "gGetHomeWeapon"))
			        {
						OnPlayerSetDutyWeapons(playerid);//запускаем ф-ию установки оружия
					}
					else SendClientMessage(playerid, COLOR_GREY, "   Вы уже взяли оружие !"); //return 1; }
					return 1;
				}
			}
			if(PlayerInfo[playerid][pHouse] != NOT_KEY)
			{
				new hkey = PlayerInfo[playerid][pHouse];
				if(IsPlayerInRangeOfPoint(playerid, 12.0, HouseInfo[hkey][hExitX], HouseInfo[hkey][hExitY], HouseInfo[hkey][hExitZ]))
				{
					if(!GetPVarInt(playerid, "gGetHomeWeapon"))
			        {
						OnPlayerSetHomeWeapons(playerid);//запускаем ф-ию установки оружия
					}
					else SendClientMessage(playerid, COLOR_GREY, "   Вы уже взяли оружие !"); //return 1; }
					return 1;
				}
			}
			SendClientMessage(playerid, COLOR_GREY, "   Взять оружие из шкафчика можно только в доме !"); //return 1; }
			return 1;
		}
		//giveplayerid = strval(tmp);
		giveplayerid = ReturnUser(tmp);

		CMD_givegun(playerid, giveplayerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/service", true))
	{
		ServiceHelp(playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/fix", true))
    {
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_HERBAL, "|__________________ FIX __________________|");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /fix [name]");
			SendClientMessage(playerid, COLOR_GRAD2, "Available names: radio, color, prod, ferm, crim, vote, member, online");
			SendClientMessage(playerid, COLOR_HERBAL, "|_________________________________________|");
			return 1;
		}
	    if(!strcmp(tmp, "radio", true))
	    {
			PlayerFixRadio(playerid);
		}
	    else if(!strcmp(tmp, "color", true))
	    {
	        if(PlayerInfo[playerid][pAdmin] < 2 || PlayerInfo[playerid][pAdmin] == 4)
	        {
	            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
	            return 1;
	        }
			SetPlayerToTeamColor(10);
	  		format(strcmd, sizeof(strcmd), "AdmCmd: %s обновил Цветовое отображение ников.", PlayerName(playerid));
			//SendAllAdminMessage(COLOR_LIGHTBLUE, strcmd, 2);
			SendClientMessageToAll(COLOR_RED, strcmd);
		}
	    else if(!strcmp(tmp, "prod", true))
	    {
	        if(PlayerInfo[playerid][pAdmin] != 9)
	        {
	            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
	            return 1;
	        }
			for(new b=0; b<MAX_BIZ; b++)
			{
				BizInfo[b][bLevel] = 1;
				BizInfo[b][bImport] = 0;
				BizInfo[b][bExport] = 0;

				BizInfo[b][bBuyProd] = 40;
				BizInfo[b][bSellProd] = 50;

				BizInfo[b][bWorker] = 0;
				BizInfo[b][bSalary] = 100;
			    if(BizInfo[b][bProducts] < 0 || BizInfo[b][bProducts] >= 1000000000)
			    {
					BizInfo[b][bProducts] = 500;
				}
			    if(BizInfo[b][bTill] < 0 || BizInfo[b][bTill] >= 1000000000)
			    {
					BizInfo[b][bTill] = 100;
				}

				BizInfo[b][bTill] = 500000;
				BizInfo[b][bInkas] = 500000;

				BizInfo[b][bMetal] = 100;
				BizInfo[b][bTextiles] = 100;
				BizInfo[b][bProvisions] = 100;
				BizInfo[b][bTree] = 100;
				BizInfo[b][bFuel] = 100;
				BizInfo[b][bProducts] = 100;

			}
			BizInfo[80][bBuyProd] = 20;//СКЛАД
			BizInfo[80][bSellProd] = 30;
			BizInfo[80][bTill] = 5000000;
			BizInfo[80][bInkas] = 5000000;

			BizInfo[81][bBuyProd] = 80;//цена покупки товаров ПОРТом
			BizInfo[81][bSellProd] = 10;//цена продажи сырья
			BizInfo[81][bTill] = 5000000;
			BizInfo[81][bInkas] = 5000000;

			UpdateStoreHouse();
			UpdateOceanDock();
			SaveBizSQL();
			for(new sb=0; sb<MAX_SBIZ; sb++)
			{
				SBizInfo[sb][sbLevel] = 1;
				SBizInfo[sb][sbImport] = 0;
				SBizInfo[sb][sbExport] = 0;

				SBizInfo[sb][sbWorker] = 0;
				SBizInfo[sb][sbSalary] = 100;
			    if(SBizInfo[sb][sbProducts] < 0 || SBizInfo[sb][sbProducts] >= 1000000000)
			    {
					SBizInfo[sb][sbProducts] = 500;
				}
			    if(SBizInfo[sb][sbTill] < 0 || SBizInfo[sb][sbTill] >= 1000000000)
			    {
					SBizInfo[sb][sbTill] = 100;
				}

				if(sb >= PARKING && sb < PARKING+sizeof(Parking)) continue;

				SBizInfo[sb][sbBuyProd] = 1;
				SBizInfo[sb][sbSellProd] = 10;
				if(sb >= GAS_STATION && sb < PARKING)
				{
					SBizInfo[sb][sbBuyProd] = 40;
					SBizInfo[sb][sbSellProd] = 50;
				}

				SBizInfo[sb][sbTill] = 500000;
				SBizInfo[sb][sbTill] = 500000;
				if(sb >= PARKING && sb < PARKING+sizeof(Parking)) SBizInfo[sb][sbProducts] = 0;
				else SBizInfo[sb][sbProducts] = 100;

			}
			/*SBizInfo[17][sbBuyProd] = 1;//Oil Company
			SBizInfo[17][sbSellProd] = 10;

			SBizInfo[3][sbBuyProd] = 1;//	Gas Company
			SBizInfo[3][sbSellProd] = 10;*/
			SaveSBizSQL();

			format(strcmd, sizeof(strcmd), "AdmCmd: %s fixprod.", PlayerName(playerid));
			//SendAllAdminMessage(COLOR_LIGHTBLUE, strcmd, 2);
			//SendClientMessageToAll(COLOR_RED, strcmd);
			Log(ADMINLOG, strcmd);
	 		//return 1;
		}
	    else if(!strcmp(tmp, "ferm", true))
	    {
	        if(PlayerInfo[playerid][pAdmin] < 5)
	        {
	            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
	            return 1;
	        }
			for(new o; o<MAX_POLE; o++)
			{
				if( !IsValidObjectEx(SeedObject[o]) ) continue;
				if( !IsSeedObject(SeedObject[o]) ) continue;
				//if( !IsPointInArea(Pickups[p][p_x], Pickups[p][p_y], Pickups[p][p_z], specialzone[9]) ) continue;
				DestroyObjectEx(SeedObject[o], 12);
			}
			//for(new p; p<MAX_POLE; p++)
			for(new p; p<MAX_PICKUPS; p++)
			{   //сканируем все пикапы и удаляем те, что находятся в области 9
				//if( !IsSeedPickup(SeedPickup[p]) ) continue;
				//DestroyPickupEx(SeedPickup[p]);
				if( !IsPointInArea(Pickups[p][p_x], Pickups[p][p_y], Pickups[p][p_z], specialzone[9]) ) continue;
				DestroyPickupEx(p);
			}
			FermaStatus = 0;		// Статус фермы  0- ничего, 1- посадка, 2 - созревание, 3- косьба, 3- сбор урожая.
			SBizInfo[52][sbWorker] = 0;//FarmerCounter = 0;		//кол-во людей работающих на ферме
			TakenSeedCounter = 0;		// Счетчик взятых семян
			PlantedSeedCounter = 0;		// Счетчик посаженных семян
			StartMoveBushCounter = 0;	// Счетчик кустов запущенных
			StopMoveBushCounter = 0;	// Счетчик кустов выросших
			MowingBushCounter = 0;		// Счетчик кустов скошенных
			TakenBushCounter = 0;		// Счетчик собраных снопов
			DeliveredBushCounter = 0;	// Счетчик доставленных снопов
			for(new o=0; o<MAX_POLE; o++)
	       	{
	   			gOccupiedSeedPlace[o] = 0;
	   		}
			for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				if( !IsPlayerConnected(i) ) continue;
				//if(i == playerid) continue;
				//if(spectateid[i] != MAX_PLAYERS-1) continue;
			    if(PlayerInfo[i][pJob] != FARMER) continue;
			    if(!gJobDuty[i]) continue;
			    PlayerInfo[i][pJob] = 0; gJobDuty[i] = 0;

	       		PlaceSeed[i] = 0;
				FermerStatus[i] = 0;
				LastObjectX[i] = 0.0;
				LastObjectY[i] = 0.0;

			    SetPlayerSkinEx(i, PlayerInfo[i][pModel]);
			    DisablePlayerCheckpointEx(i);
				if(IsPlayerAttachedObjectSlotUsed(i, DUTY_SLOT)) RemovePlayerAttachedObject(i, DUTY_SLOT);
				//ClearAnimations(i, 1);
				ApplyAnimation(i, "CARRY","CRRY_PRTIAL",4.1,0,0,0,0,1);
				//SetPlayerSpecialAction(i, SPECIAL_ACTION_NONE);
				SendClientMessage(i, COLOR_GREEN, "Работодатель: {0080FF}Ты завершил работу на ферме.");
				SendClientMessage(i, COLOR_GREEN, "Работодатель: {0080FF}Сбор закончен");
	        }
			format(strcmd, sizeof(strcmd), "AdmCmd: %s перезапустил Ферму.", PlayerName(playerid));
			//SendAllAdminMessage(COLOR_LIGHTBLUE, strcmd, 2);
			SendClientMessageToAll(COLOR_RED, strcmd);
			Log(ADMINLOG, strcmd);
			UpdateFarm();
	 		//return 1;
		}
	    else if(!strcmp(tmp, "crim", true) || !strcmp(tmp, "criminal", true))
	    {
	        if(PlayerInfo[playerid][pAdmin] < 5)
	        {
	            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
	            return 1;
	        }
	        new index = LevelToCriminality;
			new counter;
		    for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				if( !IsPlayerConnectedEx(i) ) continue;
				if(WantedLevel[i] > 0)
				{
					counter ++;
					//Update3DTextLabelText(LabelOnHead[i], 0x800000FF, "Преступник");
				}
				else
				{
					//ClearCrime(i, playerid);
					//if(LabelOnHead[i]) { Delete3DTextLabel(LabelOnHead[i]); Counter3DText --; }
					//else Update3DTextLabelText(LabelOnHead[i], 0xEEEEEE50, " ");
				}
			}
			LevelToCriminality = counter;
			format(strcmd, sizeof(strcmd), "Tекущий Уровень Преступности в Штате Сан-Андреас: %d[%d].", LevelToCriminality, index);
			SendClientMessage(playerid, COLOR_BROWNGREEN, strcmd);

			format(strcmd, sizeof(strcmd), "AdmCmd: %s скорректировал Уровень Преступности.", PlayerName(playerid));
			SendClientMessageToAll(COLOR_RED, strcmd);
	 		//return 1;
		}
	    else if(!strcmp(tmp, "vote", true))
	    {
	        if(PlayerInfo[playerid][pAdmin] < 5)
	        {
	            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
	            return 1;
	        }
			Question[qDays] = Question[qStart] - Question[qEnd];
			//Question[qStart] = getdate();
			//Question[qEnd] = getdate()+Question[qDays];
		   	//очистка данных
	       	for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				if( !IsPlayerConnectedEx(i) ) continue;// || !gPlayerSpawned[i]
	        	PlayerInfo[i][pVote] = 0;
	        }
	 		SaveVoteSQL();

			mysql_query("UPDATE `players` SET `Vote`=0");
			mysql_query("TRUNCATE `election`");//очистка таблицы

			format(strcmd, sizeof(strcmd), "AdmCmd: %s перезапустил Голосование.", PlayerName(playerid));
			SendClientMessageToAll(COLOR_RED, strcmd);
			Log(ADMINLOG, strcmd);
	 		//return 1;
		}
	    else if(!strcmp(tmp, "member", true))
	    {
	        if(	PlayerInfo[playerid][pAdmin] != 2 && PlayerInfo[playerid][pAdmin] < 5 )
	        {
	            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
	            return 1;
	        }
			new ToBase[93+2+2];
			for(new family = TEAM_GROVE; family <= DoE; family++)
			{
				//определяем есть ли лидер
				format(ToBase, sizeof(ToBase), "SELECT `Name` FROM `players` WHERE `Leader`=`Member` AND `Member`=%d LIMIT 1", family);
				mysql_query(ToBase); mysql_store_result();
				if(mysql_num_rows() > 0)
				{
					if(mysql_retrieve_row())
					{
						mysql_fetch_field_row(FamilyInfo[family][fLeader], "Name");
					}
				}
				else strmid(FamilyInfo[family][fLeader], "No-One", 0, 8, MAX_PLAYER_NAME);
				mysql_free_result();
				//----------------------------------------------------------------------
				format(ToBase, sizeof(ToBase), "SELECT `ID` FROM `players` WHERE `Member` = %d", family);
				mysql_query(ToBase); mysql_store_result();
			    FamilyInfo[family][fMembers] = mysql_num_rows();
				mysql_free_result();
			}
			SaveFamiliesSQL(PlayerName(playerid));
			SendClientMessage(playerid, COLOR_GREY, "   Коррекция фракций успешна выполнена. Кол-во членов теперь совпадает с действительным.");
//------------------------------------------------------------------------------
			for(new family = 0; family < MAX_CLANS; family++)
			{
				if(GuildInfo[family][gID] != 0)
				{//если клан существует, то обновить численность игроков
					format(ToBase, sizeof(ToBase), "SELECT `Team` FROM `players` WHERE `Team`=%d", GuildInfo[family][gID]);
					mysql_query(ToBase); mysql_store_result();
				    GuildInfo[family][gMembers] = mysql_num_rows();
					mysql_free_result();
				}
				//--------------------------------------------------------------
				format(ToBase, sizeof(ToBase), "SELECT `ID` FROM `clans` WHERE `ID`=%d LIMIT 1", family+1);
				mysql_query(ToBase); mysql_store_result();
			    if(mysql_num_rows() <= 0)
			    {//если в базе нету такого клана
					mysql_free_result();
					//увольняем всех из этого клана
					for(new j=0, i; j<MaxPlayers; j++)	{
						i = PLIDs[j];
					    if( !IsPlayerConnected(i) ) continue;
						if(PlayerInfo[i][pTeam] == family+1)
						{
							PlayerInfo[i][pTeam] = 0;
						}
					}
					format(ToBase, sizeof(ToBase), "UPDATE `players` SET `Team`=0 WHERE `Team`=%d", family+1);
					mysql_query(ToBase);
					//format(ToBase, sizeof(ToBase), "DELETE FROM `clans` WHERE `Owner`='%s'", PlayerName(playerid));
					//mysql_query(ToBase);
				}
				else mysql_free_result();
			}
			SaveGuildSQL(PlayerName(playerid));
			SendClientMessage(playerid, COLOR_GREY, "   Коррекция кланов успешна выполнена. Кол-во членов теперь совпадает с действительным.");

	  		format(strcmd, sizeof(strcmd), "AdmCmd: %s скорректировал численность во фракциях.", PlayerName(playerid));
			SendClientMessageToAll(COLOR_RED, strcmd);
			//return 1;
		}
	    else if(!strcmp(tmp, "online", true))
	    {
	        if(	PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 9 )
	        {
	            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
	            return 1;
	        }
			ClearOnline(playerid);
			//return 1;
		}
		//return 1;
	}
	//==========================================================================
	//ACCEPT COMMANDS
	//==========================================================================
	else if(!strcmp(cmd, "/accept", true))
    {
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_HERBAL, "|_________________ Accept _________________|");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /accept [name]");
			SendClientMessage(playerid, COLOR_GRAD2, "Available names: advertise, referal");//paydesk, secundans, Bus , guard
			SendClientMessage(playerid, COLOR_HERBAL, "|_________________________________________|");
			return 1;
		}
		//----------------------------------------------------------------------
		if(!strcmp(tmp, "advertise", true) || !strcmp(tmp, "ad", true))
		{   //  /accept advertise   //если редактор принял ваше объявление
		    if(playeridAdvertiser[playerid] >= MAX_PLAYERS-1)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Вам ни сделано предложение на размещение объявления !");
			    return 1;
			}
	        if(!IsPlayerConnected(playeridAdvertiser[playerid]))
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Игрок подавший объявление вышел из игры !");
			    return 1;
			}
		    if(PlayerInfo[playerid][pMember] != SAN)
		    {
				SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
				return 1;
			}
		    /*if(gOnDuty[playerid] != 1)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
			    return 1;
			}*/
		    if(PlayerInfo[playerid][pRank] < 2)
		    {
			    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть не ниже 2 Ранга !");
			    return 1;
			}
			GivePlayerMoneyH(ffamily+PlayerInfo[playerid][pMember], playeridAdvertiser[playerid], -CostAdvertisment[playeridAdvertiser[playerid]]);
			OnGangsExtortionSBiz(7, CostAdvertisment[playeridAdvertiser[playerid]]/2);
			SBizInfo[7][sbProducts] --;

			//new payout = CostAdvertisment[playeridAdvertiser[playerid]]*PlayerInfo[playerid][pRank];//даёт лишнюю прибыль
			//GivePlayerMoneyB(ffamily+PlayerInfo[playerid][pMember], playerid, payout/2);
			FamilyInfo[SAN][fBank] += CostAdvertisment[playeridAdvertiser[playerid]]/2;

			OOCNews(COLOR_BRIGHTLYGREEN, sAdvertise[playeridAdvertiser[playerid]]);
			format(strcmd, sizeof(strcmd), "Pедактор %s разместил ваше объявление в общем чате", PlayerName(playerid));
			SendClientMessage(playeridAdvertiser[playerid], COLOR_LIGHTBLUE, strcmd);
			format(strcmd, sizeof(strcmd), "Объявление разместил Pедактор %s", PlayerName(playerid));//, PlayerName(playeridAdvertiser[playerid])
			OOCNews(COLOR_GREEN, strcmd);
			//SendTeamMessage(SAN, COLOR_GREEN, strcmd);

			strdel(sAdvertise[playeridAdvertiser[playerid]], 0, MAX_STRING);
			CostAdvertisment[playeridAdvertiser[playerid]] = 0;
			for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				if( !IsPlayerConnectedEx(i) ) continue;
				if(PlayerInfo[i][pMember] != SAN) continue;
				//if(playeridAdvertiser[i] != MAX_PLAYERS-1) continue;
				playeridAdvertiser[i] = MAX_PLAYERS-1;
			}
			playeridAdvertiser[playerid] = MAX_PLAYERS-1;
			IncreaseRank(playerid, 2);
		}
		else if(!strcmp(tmp, "referal", true))//для рефералов
		{   //  /accept advertise   //если редактор принял ваше объявление
			if(PlayerInfo[playerid][pLevel] > 3)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Пригласить учителя можно только при вашем уровне не выше 3-го!");
				return 1;
			}
    		new msgitem[] = "Введите имя наставника, который пригласил вас\
\nили оставьте поле пустым.\n\
\n\t{8CAA63}Вы всегда сможете отказаться от своего учителя\
\n\tили взять другого (USE: accept/cancel referal)";
			ShowPlayerDialogEx1(playerid, REFERAL_DIALOG, DIALOG_STYLE_INPUT, "4/4. Регистрация", msgitem, "OK", "Cancel");
		}
		//return 1;
	}//end /accept
	//==========================================================================
	//CANCEL COMMANDS
	//==========================================================================
	else if(!strcmp(cmd, "/cancel", true))
    {
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_HERBAL, "|_________________ Cancel _________________|");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /cancel [name]");
			SendClientMessage(playerid, COLOR_GRAD6, "Available names: ticket, witness, wivorce, propose, referal, order, GPS, advertise");//lawyer,
			SendClientMessage(playerid, COLOR_GRAD5, "Available names: medic, live, drugs, paper, mechanic, repair, refill, moding, guard, sellgun");
			SendClientMessage(playerid, COLOR_GRAD4, "Available names: car, paydesk, secundans, taxi, givehit, exam, rentcar, task");//advertise, washmoney
			SendClientMessage(playerid, COLOR_HERBAL, "|_________________________________________|");
			return 1;
		}
		if(!strcmp(tmp, "GPS", true)) { GPS_OnOff[playerid] = 0; PlayerInfo[playerid][pGPS] = 0; }
		else if(!strcmp(tmp, "drugs", true)) { PlayerInfo[playerid][pDrugs] = 0; Offer[playerid] = MAX_PLAYERS-1; DrugPrice[playerid] = 0; DrugGram[playerid] = 0; }
		else if(!strcmp(tmp, "givehit", true))
		{
			for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				if( !IsPlayerConnectedEx(i) ) continue;
				if(IsPlayerInRangeOfPlayer(100.0, playerid, i) && PlayerInfo[i][pMember] != Hitman)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы не можете в данный момент воспользоваться этой командой!");
					return 1;
				}
			}
    		gGotHit[GotChaseHitID[playerid]] = 0;//освободили - заказ не принят
    		GetChaseKillerID[GotChaseHitID[playerid]] = MAX_PLAYERS-1;//освободили ID киллера по id цели
    		GotChaseHitID[playerid] = MAX_PLAYERS-1;//освободили ID цели киллера
		}
		else if(!strcmp(tmp, "ticket", true)) { Offer[playerid] = MAX_PLAYERS-1; TicketMoney[playerid] = 0; }
		else if(!strcmp(tmp, "witness", true)) { MarryWitnessOffer[playerid] = MAX_PLAYERS-1; }
		else if(!strcmp(tmp, "divorce", true)) { DivorceOffer[playerid] = MAX_PLAYERS-1; }
		else if(!strcmp(tmp, "propose", true)) { ProposeOffer[playerid] = MAX_PLAYERS-1; }
		else if(!strcmp(tmp, "medic", true))//для медиков
		{
			if(IsPlayerConnected(playeridMedicCall))
			{
				if(playeridMedicCall == playerid)
				{
					DisablePlayerCheckpointEx(playerid);
					playeridMedicCall = MAX_PLAYERS-1;
				} else {
					SendClientMessage(playerid, COLOR_GREY, "   You are not the current Caller !"); return 1;
				}
			}
		}
		else if(!strcmp(tmp, "live", true)) { Offer[playerid] = MAX_PLAYERS-1; }
		//else if(!strcmp(tmp, "lawyer", true)) { WantLawyerTime[playerid] = 0; gCallLawyer[playerid] = 0; }
		else if(!strcmp(tmp, "paper", true)) { Offer[playerid] = MAX_PLAYERS-1; }
		else if(!strcmp(tmp, "mechanic", true))//для автомехаников
		{
			if(IsPlayerConnected(playeridMechanicCall))
			{
				if(playeridMechanicCall == playerid)
				{
					DisablePlayerCheckpointEx(playerid);
					playeridMechanicCall = MAX_PLAYERS-1;
				} else	{
					SendClientMessage(playerid, COLOR_GREY, "   You are not the current Caller !"); return 1;
				}
			}
		}
		else if(!strcmp(tmp, "repair", true)) {	Offer[playerid] = MAX_PLAYERS-1; SetPVarInt(playerid, "RepairPrice", 0); }
		else if(!strcmp(tmp, "refill", true)) { Offer[playerid] = MAX_PLAYERS-1; SetPVarInt(playerid, "RefillPrice", 0); }
		else if(!strcmp(tmp, "moding", true)) {	Offer[playerid] = MAX_PLAYERS-1; SetPVarInt(playerid, "TuningPrice", 0); HouseCar[playerid] = 0; }//для автомехаников
		else if(!strcmp(tmp, "guard", true)) { Offer[playerid] = MAX_PLAYERS-1; GuardPrice[playerid] = 0; }
		else if(!strcmp(tmp, "sellgun", true)) { Offer[playerid] = MAX_PLAYERS-1; GunPrice[playerid] = 0; OfferWeapon[playerid] = 0; OfferAmmo[playerid] = 0; GunMat[playerid] = 0;}
		else if(!strcmp(tmp, "car", true))
		{
			CarModel[playerid] = 0;
			CarColor1[playerid] = -1;
			CarColor2[playerid] = -1;
	        Offer[playerid] = MAX_PLAYERS-1;
			CarPrice[playerid] = 0;
		}
		else if(!strcmp(tmp, "paydesk", true))
		{
			PaydeskAccepted[playerid] = MAX_PLAYERS-1;
			PaydeskAmount[playerid] = 0;
			DisablePlayerCheckpointEx(playerid);

			PaydeskAccepted[Offer[playerid]] = MAX_PLAYERS-1;//сбрасываем у инкассатора ID клиента
		    DisablePlayerCheckpointEx(Offer[playerid]);
			PaydeskAmount[Offer[playerid]] = 0;
			Offer[playerid] = MAX_PLAYERS-1;//сбрасываем ID инкассатора ID  У клиента*/
		}
		else if(!strcmp(tmp, "secundans", true))
		{
			if(gPlayerBoxing[playerid] == 1)
			{   //если игрок участник боя
				BoxWaitTime[playerid] = 0;
				gPlayerBoxing[playerid] = 0;
				Offer[playerid] = MAX_PLAYERS-1;
				for(new j=0, i; j<MaxPlayers; j++)	{
					i = PLIDs[j];
					if( !IsPlayerConnectedEx(i) ) continue;
					if( !gPlayerBoxing[i] ) continue;
					BoxWaitTime[i] = 0;
					gPlayerBoxing[i] = 0;
					Offer[i] = MAX_PLAYERS-1;
				}
				RoundCounter = 0;
				RoundStarted = 0;
				BoxerBlue = MAX_PLAYERS-1;
				BoxerRed = MAX_PLAYERS-1;
				DeathCounter1 = 0;
				DeathCounter2 = 0;
				TotalRates = 0;
				TotalRateBlue = 0;
				TotalRateRed = 0;
				GameTextForAll("~g~Match Over", 5000, 1);
			}
		}
		else if(!strcmp(tmp, "taxi", true))//для таксистов STEP0
		{
		    if(playeridTaxiCall >= MAX_PLAYERS-1) return 1;
	        if(gJobDuty[playerid] && CallTimeCounter[playerid] > 0)
	        {
	            playeridTaxiAccepted[playerid] = MAX_PLAYERS-1;
				GameTextForPlayerEx(playerid, "~w~You have~n~~r~Canceled the call", 5000, 1);
				CallTimeCounter[playerid] = 0;
				DisablePlayerCheckpointEx(playerid);
				playeridTaxiCall = MAX_PLAYERS-1;
	        }
	        else
	        {
				if(IsPlayerConnected(playeridTaxiCall) && playeridTaxiCall == playerid)
				{
					playeridTaxiCall = MAX_PLAYERS-1;
				}
				for(new j=0, i; j<MaxPlayers; j++)	{
					i = PLIDs[j];
				    if( !IsPlayerConnectedEx(i) ) continue;
					if(playeridTaxiAccepted[i] == playerid)
				    {
			            playeridTaxiAccepted[i] = MAX_PLAYERS-1;
			            GameTextForPlayerEx(i, "~w~Taxi Caller~n~~r~Canceled the call", 5000, 1);
			            CallTimeCounter[i] = 0;
			            DisablePlayerCheckpointEx(i);
			            break;
				    }
				}
			}
		}
		else if(!strcmp(tmp, "rentcar", true))
		{
			if(HireCarID[playerid] < MAX_VEHICLES-1)//MAX_VEHICLES-1)
			{
				UnLockCar(HireCarID[playerid]);
				HireCarID[playerid] = MAX_VEHICLES-1;//MAX_VEHICLES-1;//освободить переменную
				GameTextForPlayerEx(playerid, "~w~You no longer ~y~rent a car", 5000, 3);
			}
		}
		else if(!strcmp(tmp, "exam", true))
		{
			if(PlayerInfo[playerid][pCarLic] == 2) PlayerInfo[playerid][pCarLic] = 0;
			if(DriveProgress[playerid] > 0)
			{
				StopDriveProgress(playerid);
			}
	        gTakingLesson[playerid] = 0;
		}
		else if(!strcmp(tmp, "referal", true))//для наставников //для рефералов
		{
			giveplayerid = ReturnUser( PlayerInfo[playerid][pReferal] );
			if( IsPlayerConnectedEx(giveplayerid) )
			{
				format(strcmd, sizeof(strcmd), "   %s[%d] отказался от ваших услуг.", PlayerName(playerid), playerid);
				SendClientMessage(giveplayerid, COLOR_GREY, strcmd);
			}
			strmid(PlayerInfo[playerid][pReferal], "No-One", 0, strlen("No-One"), MAX_PLAYER_NAME);
		}

		else if(!strcmp(tmp, "advertise", true) || !strcmp(tmp, "ad", true))//	/cancel ad
		{
		    if(playeridAdvertiser[playerid] >= MAX_PLAYERS-1)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Вам ни сделано предложение на размещение объявления !");
			    return 1;
			}
	        if(!IsPlayerConnected(playeridAdvertiser[playerid]))
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Игрок подавший объявление вышел из игры !");
			    return 1;
			}
		    if(PlayerInfo[playerid][pMember] != SAN)
		    {
				SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
				return 1;
			}
		    if(PlayerInfo[playerid][pRank] < 2)
		    {
			    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 2 Ранга !");
			    return 1;
			}
           	format(strcmd, sizeof(strcmd), "Oбьявление %s'а заблокировано %s'ом %s.",
			   PlayerName(playeridAdvertiser[playerid]), GetPlayerRanks(playerid), PlayerName(playerid) );
            SendTeamMessage(SAN, COLOR_GREEN, strcmd);

            format(strcmd, sizeof(strcmd), "Ваше обьявление не прошло проверку на цензуру %s'ом %s. Оно заблокировано",
				GetPlayerRanks(playerid), PlayerName(playerid) );
            SendClientMessage( playeridAdvertiser[playerid], COLOR_GREY, strcmd);

			IncreaseRank(playerid, 1);

			CostAdvertisment[playeridAdvertiser[playerid]] = 0;
			for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				if( !IsPlayerConnectedEx(i) ) continue;
				if(PlayerInfo[i][pMember] != SAN) continue;
				if(playeridAdvertiser[playerid] != MAX_PLAYERS-1)
				{
					playeridAdvertiser[i] = MAX_PLAYERS-1;
				}
			}
		}
		else if(!strcmp(tmp, "task", true))//для дальнобойщиков
		{
	        AbandonToTasks(playerid);
        }

		/*else if(!strcmp(tmp, "order", true))//для наставников
		{
	        if(gGotOrder[playerid] < MAX_PLAYERS-1)
	        {
	           	//format(strcmd, sizeof(strcmd), "   %s уже получил ордер.", PlayerName(playerid));
	            //SendClientMessage(playerid, COLOR_GREY, strcmd);
	            gGotOrder[playerid] = MAX_PLAYERS-1;
	        }
        }*/
		else { SendClientMessage(playerid, COLOR_GREY, "   Не правильное значение !"); return 1; }
		format(strcmd, sizeof(strcmd), "* Вы отказались от: %s.", tmp);
		SendClientMessage(playerid, COLOR_YELLOW, strcmd);
		//return 1;
	}//end /cance
	//==========================================================================
	//24-7 COMMANDS
	//==========================================================================
 	//для просмотра купленых предметов
  	else if(!strcmp(cmd, "/items", true))
    {
		Items(playerid);
	    return 1;
 	}//для просмотра купленых предметов
	else if(!strcmp(cmd, "/dice", true))
	{
		new dice = random(6)+1;
		if(PlayerInfo[playerid][pDice] == 1)//для сохранения
		{
			format(strcmd, sizeof(strcmd), "* %s Бросил Кубик, на котором выпало %d", PlayerName(playerid),dice);
			ProxDetector(playerid, 5.0, strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
		}
		else
		{
			SendClientMessage(playerid, COLOR_GREY, "   У вас Нет Игральных Костей");
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/music", true))
	{
        if(!PlayerInfo[playerid][pCDPlayer])
		{
		    SendClientMessage(playerid, COLOR_GREY, "   У Вас нет MP3-Player !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_HERBAL, "|_______________ MusicIndex _______________|");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /music [0 - OFF]");
			SendClientMessage(playerid, COLOR_HERBAL, "|_________________________________________|");
			//return 1;
		}
	    if(strlen(tmp) && strval(tmp) == 0)
		{
			StopAudioStreamForPlayer(playerid);
			SetPVarInt(playerid, "Radio", 0);
		    GameTextForPlayerEx(playerid, "~n~~n~~n~~n~~n~~n~~n~~r~MP3-Player OFF", 5000, 5);
			return 1;
		}
		Radio(playerid);
		//return 1;
	}
	/*else if(!strcmp(cmd, "/talking_parrot", true))
	{
		//if(PlayerInfo[playerid][pCDPlayer] == 1)
		if(pHasParrot[playerid] == 1)
		{
		    format(strcmd, sizeof(strcmd), "1.%s\n2.%s\n3.%s\n4.%s\n5.%s",
			pParrotSentence[playerid][0],
			pParrotSentence[playerid][1],
			pParrotSentence[playerid][2],
			pParrotSentence[playerid][3],
			pParrotSentence[playerid][4]);
			ShowPlayerDialogEx1(playerid, DIALOG_ID_PARROT+1, DIALOG_STYLE_LIST, "Предложения попугая",strcmd, "Изменить", "Отмена");
		}
		else
		{
			SendClientMessage(playerid, 0xffffffff, "У вас нет {F70C47}говорящего попугая.");
		}
		//return 1;
	}*/
  	//==========================================================================
	//FISH COMMANDS
	//==========================================================================
	else if(!strcmp(cmd, "/fish2", true))//для рыбаловов начало
    {
        if(PlayerInfo[playerid][pAdmin] < 6)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		ToPlanet[playerid] = "Fisher's";//"Santa Marina Beach";
		ToStar[playerid] = "San Andreas";
		strmid(Ranger[playerid], PlayerName(playerid), 0, MAX_PLAYER_NAME, MAX_PLAYER_NAME);//Ranger[playerid] = PlayerName(playerid);
		//Money[playerid] = 1000;//GetPlayerMoneyH(playerid);
		//CallLocalFunction("GetPlayerParameters", "iii", Playerid,Money[playerid],PlayerInfo[playerid][pRank],PlayerInfo[playerid][pMember]);
		FromPlanet[playerid] = GetPlayerRanks(playerid);//"Начальник ФБР";
		FromStar[playerid] = GetPlayerMembers(playerid);//"Федеральное Бюро Расследований";

		pvar[playerid][1] = 0;
		pvar[playerid][2] = 0;
		pvar[playerid][3] = 0;
		pvar[playerid][4] = 0;
		pvar[playerid][5] = 0;
		pvar[playerid][6] = random(3);
		pvar[playerid][7] = 0;
		pvar[playerid][8] = 0;
		pvar[playerid][9] = 0;
		pvar[playerid][10] = 0;
		pvar[playerid][11] = 0;
		pvar[playerid][12] = 0;
		pvar[playerid][13] = 0;
		pvar[playerid][14] = 0;
		pvar[playerid][15] = 10000;//3000 деньги
		pvar[playerid][16] = 10;//кол-во взяток

    	//getdate(Year,Month,Day);
		NextStepOK[playerid] = 300;
		new bigmsgitem[9*128];
		new string1[128], string2[128], string3[128], string4[128], string5[128];
		for(new i=0; i<MAX_FISH_LOCATION; i++)
		{
			if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
		    strmid(string1, replaceString(FishLocation[i][locmessage], "<ToPlanet>", ToPlanet[playerid]), 0, 128);
			strmid(string2, replaceString(string1, "<ToStar>", ToStar[playerid]), 0, 128);
			strmid(string3, replaceString(string2, "<Ranger>", Ranger[playerid]), 0, 128);
		    strmid(string4, replaceString(string3, "<FromPlanet>", FromPlanet[playerid]), 0, 128);
			strmid(string5, replaceString(string4, "<FromStar>", FromStar[playerid]), 0, 128);
			strcat(bigmsgitem, string5);
			locpos[playerid] = i;
			if(strlen(FishLocation[i][loccaption])) break;
		}
		NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
		ShowPlayerDialogEx(playerid, ADVENTURE_DIALOG, FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],bigmsgitem, "Accept", "Cancel");
//format(strcmd, sizeof(strcmd), "%d. Location: %d, GotoYes: %d, GotoNo: %d", locpos[playerid], NextStepOK[playerid], FishLocation[locpos[playerid]][locyes], FishLocation[locpos[playerid]][locno]);
//SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		GameTextForPlayerEx(playerid, "~g~Fishing", 2500, 3);
		//return 1;
	}
	else if(!strcmp(cmd, "/fish", true))//для рыбаловов начало
    {
        if(FishCount[playerid] > 0)
        {
 			format(strcmd, sizeof(strcmd), "   Вы ещё ни чего не споймали, ожидайте %d секунд.", 8-FishCount[playerid]);
            SendClientMessage(playerid, COLOR_GREY, strcmd);//15 минут
            return 1;
        }
        if(	Fishes[playerid][pWeight][0] > 0 &&
			Fishes[playerid][pWeight][1] > 0 &&
			Fishes[playerid][pWeight][2] > 0 &&
			Fishes[playerid][pWeight][3] > 0 &&
			Fishes[playerid][pWeight][4] > 0)
        {
            SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Вы уже поймали 5 Рыб, выберите /fishes, чтобы посмотреть !");
            SendClientMessage(playerid, COLOR_GREY, "   Наберите команду /fishhelp для получения больше информации");
            return 1;
        }
		if(IsPlayerInAnyVehicle(playerid))
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете ловить рыбу сидя в транспортном средстве!");
            return 1;
        }
        if(	!IsAtFishPlace(playerid) &&
			!IsInBoat(GetPlayerSurfingVehicleID(playerid))//nCarID[playerid]
		  )
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы - не на Месте Рыбалки(Большое Колесо Обозрения),или стоите Не вплотную к удочкам, или Не На Лодке!");
            return 1;
        }
		if(	CurPos[2][playerid] < 0.0 )
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы - находитесь ниже уровня моря!");
            return 1;
        }
		/*if((GetTickCount()-GetPVarInt(playerid, "FishTime")) < (1200*1000))
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы можете использовать рыбалку только раз в 20 минут.");
			return 1;
		}*/
		FishCount[playerid] = 1;
		ClearAnimations(playerid, 1);

		RemovePlayerAllAttachedObjectEx(playerid);

		SetPlayerAttachedObjectEx(playerid, OBJECT_SLOT, 18632, Right_hand, 0.079376,0.037070,0.007706, 181.482910,0.0,0.0, 1.0,1.0,1.0);
		ApplyAnimation(playerid, "SWORD", "sword_4", 4.0,0,0,0,1,0, 1);

		//return 1;
 	}
	else if(!strcmp(cmd, "/fishes", true))
    {
        SendClientMessage(playerid, COLOR_HERBAL, "|_________________ Fishes _________________|");
        format(strcmd, sizeof(strcmd), "** (1) Fish: %s.   Weight: %d.", Fishes[playerid][pFish1], Fishes[playerid][pWeight][0]);
		SendClientMessage(playerid, COLOR_GRAD5, strcmd);
		format(strcmd, sizeof(strcmd), "** (2) Fish: %s.   Weight: %d.", Fishes[playerid][pFish2], Fishes[playerid][pWeight][1]);
		SendClientMessage(playerid, COLOR_GRAD4, strcmd);
		format(strcmd, sizeof(strcmd), "** (3) Fish: %s.   Weight: %d.", Fishes[playerid][pFish3], Fishes[playerid][pWeight][2]);
		SendClientMessage(playerid, COLOR_GRAD3, strcmd);
		format(strcmd, sizeof(strcmd), "** (4) Fish: %s.   Weight: %d.", Fishes[playerid][pFish4], Fishes[playerid][pWeight][3]);
		SendClientMessage(playerid, COLOR_GRAD2, strcmd);
		format(strcmd, sizeof(strcmd), "** (5) Fish: %s.   Weight: %d.", Fishes[playerid][pFish5], Fishes[playerid][pWeight][4]);
		SendClientMessage(playerid, COLOR_GRAD1, strcmd);
		SendClientMessage(playerid, COLOR_HERBAL, "|_________________________________________|");
		//return 1;
 	}
 	else if(!strcmp(cmd, "/releasefish", true))
	{
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /releasefish [fish]");
			return 1;
		}
		new fishid = strval(tmp);
		if(fishid < 1 || fishid > 5) { SendClientMessage(playerid, COLOR_GREY, "   Номер кармана не может быть ниже 1 или выше 5 !"); return 1; }
		else if(fishid == 1 && Fishes[playerid][pWeight][0] < 1) { SendClientMessage(playerid, COLOR_GREY, "   В кармане (1) нету рыбы!"); return 1; }
		else if(fishid == 2 && Fishes[playerid][pWeight][1] < 1) { SendClientMessage(playerid, COLOR_GREY, "   В кармане (2) нету рыбы!"); return 1; }
		else if(fishid == 3 && Fishes[playerid][pWeight][2] < 1) { SendClientMessage(playerid, COLOR_GREY, "   В кармане (3) нету рыбы!"); return 1; }
		else if(fishid == 4 && Fishes[playerid][pWeight][3] < 1) { SendClientMessage(playerid, COLOR_GREY, "   В кармане (4) нету рыбы!"); return 1; }
		else if(fishid == 5 && Fishes[playerid][pWeight][4] < 1) { SendClientMessage(playerid, COLOR_GREY, "   В кармане (5) нету рыбы!"); return 1; }
		ClearFishID(playerid, fishid);

  		SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Вы отпустили рыбку !");
		//return 1;
	}
 	else if(!strcmp(cmd, "/throwback", true))
    {
        if(Fishes[playerid][pLastFish] > 0)
        {
            ClearFishID(playerid, Fishes[playerid][pLastFish]);

            SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Вы отпустили последнюю рыбку !");
        }
        else
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы пока не поймали Рыбу !");
        }
	    //return 1;
 	}
 	else if(!strcmp(cmd, "/throwbackall", true))
    {
        if(	Fishes[playerid][pWeight][0] > 0 ||
			Fishes[playerid][pWeight][1] > 0 ||
			Fishes[playerid][pWeight][2] > 0 ||
			Fishes[playerid][pWeight][3] > 0 ||
			Fishes[playerid][pWeight][4] > 0)
        {
            ClearFishes(playerid);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Вы отпустили весь улов !");
        }
        else
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы пока не поймали ни одной Рыбки !");
        }
	    //return 1;
 	}//для рыбаловов конец
 	//для грибников
	else if(!strcmp(cmd, "/mushrooms", true))
	{
        SendClientMessage(playerid, COLOR_HERBAL, "|_______________ Mushrooms _______________|");
        format(strcmd, sizeof(strcmd), "** Mushrooms: %d", PlayerInfo[playerid][pMushroom]);
		SendClientMessage(playerid, COLOR_GRAD5, strcmd);
		SendClientMessage(playerid, COLOR_HERBAL, "|_________________________________________|");
	    SetPlayerChatBubble(playerid, "Достал корзинку с грибами.",COLOR_PURPLE,30.0,10000);
	    //return 1;
	}
 	//==========================================================================
	else if(!strcmp(cmd, "/sell", true))
	{
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_HERBAL, "|________________ Selling ________________|");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /sell [name]");
			SendClientMessage(playerid, COLOR_GREY, "Available names: Cooked, SkeletonKey");
			SendClientMessage(playerid, COLOR_HERBAL, "|_________________________________________|");
			return 1;
		}
		//для автоугонщиков STEP3 начало
	    if(!strcmp(tmp, "SkeletonKey", true))
	    {
		    if(PlayerInfo[playerid][pJob] != CARJACKER)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Вы - не Автоугонщик !");
			    return 1;
			}
			if(PlayerInfo[playerid][pJailed] > 0)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вам пока запрещена данная команда !");
				return 1;
			}
			if(PlayerInfo[playerid][pMats] <= 0)
			{
				SendClientMessage(playerid, COLOR_GREY, "   У вас нету отмычек для продажи !");
				return 1;
			}
			if(
				!( IsPlayerInArea(playerid, checkCoords[CP_SHOP1]) ||
				IsPlayerInArea(playerid, checkCoords[CP_SHOP2]) ||
				IsPlayerInArea(playerid, checkCoords[CP_SHOP3]) ||
				IsPlayerInArea(playerid, checkCoords[CP_SHOP4]) ||
				IsPlayerInArea(playerid, checkCoords[CP_SHOP5]) ||
				IsPlayerInArea(playerid, checkCoords[CP_SHOP6]))
			  )
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы не в магазине 24/7 !");
				return 1;
			}
			new biz = GetBizLocation(playerid)-100;
			if(biz < 15 || biz > 26)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться в магазине 24/7 !");
				return 1;
			}
			/*new skill;//для экономики
			new level = PlayerInfo[playerid][pJackSkill];
			if(level < 50) { skill = 1; }//цена 1 пакета = 100, в 10 пакетах 500 материалов за 1000$
			else if(level >= 50 && level < 100) { skill = 2; }
			else if(level >= 100 && level < 200) { skill = 3; }
			else if(level >= 200 && level < 400) { skill = 4; }
			else if(level >= 400) { skill = 5; }*/
			new Float: pricematerials = float(pricepackage)/amountmaterials;//цена одного материала
			//(1.0+1/10.0)*2*500 =
			//new price = floatround((1.0+skill/10.0)*pricematerials*PlayerInfo[playerid][pMats]);
			new price = floatround(pricematerials*PlayerInfo[playerid][pMats]);
			GivePlayerMoneyB(fjob+PlayerInfo[playerid][pJob], playerid, price);

			BizInfo[biz][bTextiles] += PlayerInfo[playerid][pMats]/90;
			BizInfo[biz][bTill] -= price;
			BizInfo[biz][bImport] += price;

			format(strcmd, sizeof(strcmd), "   Bы передали владельцу магазина отмычки, потратив %d Материалов на сумму $%d.",
				PlayerInfo[playerid][pMats],  price);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);

			PlayerInfo[playerid][pMats] = 0;
		}
		//для автоугонщиков конец
		//======================================================================
		else if(!strcmp(tmp, "cooked", true))
		{
		    tmp = strtok(cmdtext, idx);
		    if(!strlen(tmp)) {
				SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /sell cooked [cooknumber] [playerid/PartOfName]");
				return 1;
			}
			new cookid = strval(tmp);
			if(cookid < 1 || cookid > 5) { SendClientMessage(playerid, COLOR_GREY, "   Номер Приготовленной Еды может быть от 1 до 5 !"); return 1; }
			else if(cookid == 1 && Cooking[playerid][pCWeight1] < 1) { SendClientMessage(playerid, COLOR_GREY, "   Вы не имеете Приготовленной Еды под номером(1) !"); return 1; }
			else if(cookid == 2 && Cooking[playerid][pCWeight2] < 1) { SendClientMessage(playerid, COLOR_GREY, "   Вы не имеете Приготовленной Еды под номером(2) !"); return 1; }
			else if(cookid == 3 && Cooking[playerid][pCWeight3] < 1) { SendClientMessage(playerid, COLOR_GREY, "   Вы не имеете Приготовленной Еды под номером(3) !"); return 1; }
			else if(cookid == 4 && Cooking[playerid][pCWeight4] < 1) { SendClientMessage(playerid, COLOR_GREY, "   Вы не имеете Приготовленной Еды под номером(4) !"); return 1; }
			else if(cookid == 5 && Cooking[playerid][pCWeight5] < 1) { SendClientMessage(playerid, COLOR_GREY, "   Вы не имеете Приготовленной Еды под номером(5) !"); return 1; }
			tmp = strtok(cmdtext, idx);
		    if(!strlen(tmp)) {
				SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /sell cooked [cooknumber] [playerid/PartOfName]");
				return 1;
			}
			giveplayerid = ReturnUser(tmp);
		    if( !IsPlayerConnected(giveplayerid) )
			{
				format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
			}
			if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
				|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
			{
				playerselect_OnPlayerClick(playerid, giveplayerid);
				SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
				return 1;
			}
			switch(cookid)
			{
				case 1:
				{
				    if(Cooking[giveplayerid][pCWeight1] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook1]);
					    strmid(Cooking[giveplayerid][pCook1], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight1] = Cooking[playerid][pCWeight1];
					    Cooking[giveplayerid][pCookID1] = Cooking[playerid][pCookID1];
					    format(strcmd, sizeof(strcmd), "* %s дал Вам %s весом %d (use /cooked, чтобы просмотреть).", PlayerName(playerid),Cooking[giveplayerid][pCook1],Cooking[giveplayerid][pCWeight1]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* Вы дали %s весом %d игроку %s.",Cooking[playerid][pCook1],Cooking[playerid][pCWeight1],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else if(Cooking[giveplayerid][pCWeight2] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook1]);
					    strmid(Cooking[giveplayerid][pCook2], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight2] = Cooking[playerid][pCWeight1];
					    Cooking[giveplayerid][pCookID2] = Cooking[playerid][pCookID1];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook2],Cooking[giveplayerid][pCWeight2]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook1],Cooking[playerid][pCWeight1],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else if(Cooking[giveplayerid][pCWeight3] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook1]);
					    strmid(Cooking[giveplayerid][pCook3], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight3] = Cooking[playerid][pCWeight1];
					    Cooking[giveplayerid][pCookID3] = Cooking[playerid][pCookID1];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook3],Cooking[giveplayerid][pCWeight3]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook1],Cooking[playerid][pCWeight1],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else if(Cooking[giveplayerid][pCWeight4] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook1]);
					    strmid(Cooking[giveplayerid][pCook4], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight4] = Cooking[playerid][pCWeight1];
					    Cooking[giveplayerid][pCookID4] = Cooking[playerid][pCookID1];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook4],Cooking[giveplayerid][pCWeight4]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook1],Cooking[playerid][pCWeight1],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else if(Cooking[giveplayerid][pCWeight5] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook1]);
					    strmid(Cooking[giveplayerid][pCook5], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight5] = Cooking[playerid][pCWeight1];
					    Cooking[giveplayerid][pCookID5] = Cooking[playerid][pCookID1];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook5],Cooking[giveplayerid][pCWeight5]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook1],Cooking[playerid][pCWeight1],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else
				    {
				        SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не оставил пространство в его Списке Готовки!");
				        return 1;
				    }
				}
				case 2:
				{
				    if(Cooking[giveplayerid][pCWeight1] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook2]);
					    strmid(Cooking[giveplayerid][pCook1], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight1] = Cooking[playerid][pCWeight2];
					    Cooking[giveplayerid][pCookID1] = Cooking[playerid][pCookID2];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook1],Cooking[giveplayerid][pCWeight1]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook2],Cooking[playerid][pCWeight2],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else if(Cooking[giveplayerid][pCWeight2] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook2]);
					    strmid(Cooking[giveplayerid][pCook2], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight2] = Cooking[playerid][pCWeight2];
					    Cooking[giveplayerid][pCookID2] = Cooking[playerid][pCookID2];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook2],Cooking[giveplayerid][pCWeight2]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook2],Cooking[playerid][pCWeight2],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else if(Cooking[giveplayerid][pCWeight3] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook2]);
					    strmid(Cooking[giveplayerid][pCook3], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight3] = Cooking[playerid][pCWeight2];
					    Cooking[giveplayerid][pCookID3] = Cooking[playerid][pCookID2];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook3],Cooking[giveplayerid][pCWeight3]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook2],Cooking[playerid][pCWeight2],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else if(Cooking[giveplayerid][pCWeight4] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook2]);
					    strmid(Cooking[giveplayerid][pCook4], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight4] = Cooking[playerid][pCWeight2];
					    Cooking[giveplayerid][pCookID4] = Cooking[playerid][pCookID2];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook4],Cooking[giveplayerid][pCWeight4]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook2],Cooking[playerid][pCWeight2],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else if(Cooking[giveplayerid][pCWeight5] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook2]);
					    strmid(Cooking[giveplayerid][pCook5], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight5] = Cooking[playerid][pCWeight2];
					    Cooking[giveplayerid][pCookID5] = Cooking[playerid][pCookID2];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook5],Cooking[giveplayerid][pCWeight5]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook2],Cooking[playerid][pCWeight2],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else
				    {
				        SendClientMessage(playerid, COLOR_GREY, "   That player has no space left in his Cooking List !");
				        return 1;
				    }
				}
				case 3:
				{
				    if(Cooking[giveplayerid][pCWeight1] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook3]);
					    strmid(Cooking[giveplayerid][pCook1], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight1] = Cooking[playerid][pCWeight3];
					    Cooking[giveplayerid][pCookID1] = Cooking[playerid][pCookID3];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook1],Cooking[giveplayerid][pCWeight1]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook3],Cooking[playerid][pCWeight3],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else if(Cooking[giveplayerid][pCWeight2] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook3]);
					    strmid(Cooking[giveplayerid][pCook2], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight2] = Cooking[playerid][pCWeight3];
					    Cooking[giveplayerid][pCookID2] = Cooking[playerid][pCookID3];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook2],Cooking[giveplayerid][pCWeight2]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook3],Cooking[playerid][pCWeight3],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else if(Cooking[giveplayerid][pCWeight3] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook3]);
					    strmid(Cooking[giveplayerid][pCook3], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight3] = Cooking[playerid][pCWeight3];
					    Cooking[giveplayerid][pCookID3] = Cooking[playerid][pCookID3];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook3],Cooking[giveplayerid][pCWeight3]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook3],Cooking[playerid][pCWeight3],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else if(Cooking[giveplayerid][pCWeight4] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook3]);
					    strmid(Cooking[giveplayerid][pCook4], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight4] = Cooking[playerid][pCWeight3];
					    Cooking[giveplayerid][pCookID4] = Cooking[playerid][pCookID3];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook4],Cooking[giveplayerid][pCWeight4]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook3],Cooking[playerid][pCWeight3],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else if(Cooking[giveplayerid][pCWeight5] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook3]);
					    strmid(Cooking[giveplayerid][pCook5], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight5] = Cooking[playerid][pCWeight3];
					    Cooking[giveplayerid][pCookID5] = Cooking[playerid][pCookID3];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook5],Cooking[giveplayerid][pCWeight5]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook3],Cooking[playerid][pCWeight3],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else
				    {
				        SendClientMessage(playerid, COLOR_GREY, "   That player has no space left in his Cooking List !");
				        return 1;
				    }
				}
				case 4:
				{
				    if(Cooking[giveplayerid][pCWeight1] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook4]);
					    strmid(Cooking[giveplayerid][pCook1], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight1] = Cooking[playerid][pCWeight4];
					    Cooking[giveplayerid][pCookID1] = Cooking[playerid][pCookID4];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook1],Cooking[giveplayerid][pCWeight1]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook4],Cooking[playerid][pCWeight4],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else if(Cooking[giveplayerid][pCWeight2] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook4]);
					    strmid(Cooking[giveplayerid][pCook2], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight2] = Cooking[playerid][pCWeight4];
					    Cooking[giveplayerid][pCookID2] = Cooking[playerid][pCookID4];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook2],Cooking[giveplayerid][pCWeight2]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook4],Cooking[playerid][pCWeight4],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else if(Cooking[giveplayerid][pCWeight3] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook4]);
					    strmid(Cooking[giveplayerid][pCook3], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight3] = Cooking[playerid][pCWeight4];
					    Cooking[giveplayerid][pCookID3] = Cooking[playerid][pCookID4];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook3],Cooking[giveplayerid][pCWeight3]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook4],Cooking[playerid][pCWeight4],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else if(Cooking[giveplayerid][pCWeight4] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook4]);
					    strmid(Cooking[giveplayerid][pCook4], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight4] = Cooking[playerid][pCWeight4];
					    Cooking[giveplayerid][pCookID4] = Cooking[playerid][pCookID4];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook4],Cooking[giveplayerid][pCWeight4]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook4],Cooking[playerid][pCWeight4],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else if(Cooking[giveplayerid][pCWeight5] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook4]);
					    strmid(Cooking[giveplayerid][pCook5], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight5] = Cooking[playerid][pCWeight4];
					    Cooking[giveplayerid][pCookID5] = Cooking[playerid][pCookID4];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook5],Cooking[giveplayerid][pCWeight5]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook4],Cooking[playerid][pCWeight4],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else
				    {
				        SendClientMessage(playerid, COLOR_GREY, "   That player has no space left in his Cooking List !");
				        return 1;
				    }
				}
				case 5:
				{
				    if(Cooking[giveplayerid][pCWeight1] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook5]);
					    strmid(Cooking[giveplayerid][pCook1], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight1] = Cooking[playerid][pCWeight5];
					    Cooking[giveplayerid][pCookID1] = Cooking[playerid][pCookID5];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook1],Cooking[giveplayerid][pCWeight1]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook5],Cooking[playerid][pCWeight5],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else if(Cooking[giveplayerid][pCWeight2] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook5]);
					    strmid(Cooking[giveplayerid][pCook2], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight2] = Cooking[playerid][pCWeight5];
					    Cooking[giveplayerid][pCookID2] = Cooking[playerid][pCookID5];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook2],Cooking[giveplayerid][pCWeight2]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook5],Cooking[playerid][pCWeight5],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else if(Cooking[giveplayerid][pCWeight3] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook5]);
					    strmid(Cooking[giveplayerid][pCook3], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight3] = Cooking[playerid][pCWeight5];
					    Cooking[giveplayerid][pCookID3] = Cooking[playerid][pCookID5];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook3],Cooking[giveplayerid][pCWeight3]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook5],Cooking[playerid][pCWeight5],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else if(Cooking[giveplayerid][pCWeight4] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook5]);
					    strmid(Cooking[giveplayerid][pCook4], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight4] = Cooking[playerid][pCWeight5];
					    Cooking[giveplayerid][pCookID4] = Cooking[playerid][pCookID5];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook4],Cooking[giveplayerid][pCWeight4]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook5],Cooking[playerid][pCWeight5],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else if(Cooking[giveplayerid][pCWeight5] < 1)
				    {
				        format(strcmd, sizeof(strcmd), "%s", Cooking[playerid][pCook5]);
					    strmid(Cooking[giveplayerid][pCook5], strcmd, 0, strlen(strcmd), 255);
					    Cooking[giveplayerid][pCWeight5] = Cooking[playerid][pCWeight5];
					    Cooking[giveplayerid][pCookID5] = Cooking[playerid][pCookID5];
					    format(strcmd, sizeof(strcmd), "* %s has given you %s weighting %d (use /cooked to see it).", PlayerName(playerid),Cooking[giveplayerid][pCook5],Cooking[giveplayerid][pCWeight5]);
					    SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
					    format(strcmd, sizeof(strcmd), "* You gave %s weighting %d to %s.",Cooking[playerid][pCook5],Cooking[playerid][pCWeight5],PlayerName(giveplayerid));
					    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				    }
				    else
				    {
				        SendClientMessage(playerid, COLOR_GREY, "   That player has no space left in his Cooking List !");
				        return 1;
				    }
				}
	        }//switch
	        ClearCookingID(playerid, cookid);
		}
		else SendClientMessage(playerid, COLOR_GREY, "   Unknown Selling Name !");
		//return 1;
	}
 	//==========================================================================
	//COOK COMMANDS
	//==========================================================================
 	else if(!strcmp(cmd, "/cook", true))
    {
        if(!IsAtCookPlace(playerid))
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы дожны быть в одном из этих мест (Cluckin Bell / Burger Shot / Well Stacked Pizza).");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /cook [name]");
			SendClientMessage(playerid, COLOR_WHITE, "Available names: Lastfish, Fish, Chicken, Hamburger, Pizza.");
			return 1;
		}
		if(!strcmp(tmp, "lastfish", true))
		{
		    if(Fishes[playerid][pLastFish] <= 0)
		    {
		        SendClientMessage(playerid, COLOR_GREY, "   Вы пока ни чего не поймали !");
		        return 1;
		    }
		    new found = 0;
		    format(strcmd, sizeof(strcmd), "%s", FishNames[Fishes[playerid][pFishID]]);
		    if(Cooking[playerid][pCWeight1] == 0)
		    {
			    strmid(Cooking[playerid][pCook1], strcmd, 0, strlen(strcmd), 255);
			    Cooking[playerid][pCWeight1] = Fishes[playerid][pLastWeight];
			    Cooking[playerid][pCookID1] = Fishes[playerid][pFishID];
			    format(strcmd, sizeof(strcmd), "* Bы приготовили %s, весом %d кг.",Cooking[playerid][pCook1],Cooking[playerid][pCWeight1]);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    found = 1;
				PlayerInfo[playerid][pCookSkill] ++;
		    }
		    else if(Cooking[playerid][pCWeight2] == 0)
		    {
			    strmid(Cooking[playerid][pCook2], strcmd, 0, strlen(strcmd), 255);
			    Cooking[playerid][pCWeight2] = Fishes[playerid][pLastWeight];
			    Cooking[playerid][pCookID2] = Fishes[playerid][pFishID];
			    format(strcmd, sizeof(strcmd), "* Bы приготовили %s, весом %d кг.",Cooking[playerid][pCook2],Cooking[playerid][pCWeight2]);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    found = 1;
				PlayerInfo[playerid][pCookSkill] ++;
		    }
		    else if(Cooking[playerid][pCWeight3] == 0)
		    {
			    format(strcmd, sizeof(strcmd), "%s", FishNames[Fishes[playerid][pFishID]]);
			    strmid(Cooking[playerid][pCook3], strcmd, 0, strlen(strcmd), 255);
			    Cooking[playerid][pCWeight3] = Fishes[playerid][pLastWeight];
			    Cooking[playerid][pCookID3] = Fishes[playerid][pFishID];
			    format(strcmd, sizeof(strcmd), "* Bы приготовили %s, весом %d кг.",Cooking[playerid][pCook3],Cooking[playerid][pCWeight3]);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    found = 1;
				PlayerInfo[playerid][pCookSkill] ++;
		    }
		    else if(Cooking[playerid][pCWeight4] == 0)
		    {
			    format(strcmd, sizeof(strcmd), "%s", FishNames[Fishes[playerid][pFishID]]);
			    strmid(Cooking[playerid][pCook4], strcmd, 0, strlen(strcmd), 255);
			    Cooking[playerid][pCWeight4] = Fishes[playerid][pLastWeight];
			    Cooking[playerid][pCookID4] = Fishes[playerid][pFishID];
			    format(strcmd, sizeof(strcmd), "* Bы приготовили %s, весом %d кг.",Cooking[playerid][pCook4],Cooking[playerid][pCWeight4]);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    found = 1;
				PlayerInfo[playerid][pCookSkill] ++;
		    }
		    else if(Cooking[playerid][pCWeight5] == 0)
		    {
			    format(strcmd, sizeof(strcmd), "%s", FishNames[Fishes[playerid][pFishID]]);
			    strmid(Cooking[playerid][pCook5], strcmd, 0, strlen(strcmd), 255);
			    Cooking[playerid][pCWeight5] = Fishes[playerid][pLastWeight];
			    Cooking[playerid][pCookID5] = Fishes[playerid][pFishID];
			    format(strcmd, sizeof(strcmd), "* Bы приготовили %s, весом %d кг.",Cooking[playerid][pCook5],Cooking[playerid][pCWeight5]);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    found = 1;
				PlayerInfo[playerid][pCookSkill] ++;
		    }
		    else
		    {
		        SendClientMessage(playerid, COLOR_GREY, "   Вы не имеете свободного места для Готовки !");
		        return 1;
		    }
		    if(found)
		    {
		        ClearFishID(playerid, Fishes[playerid][pLastFish]);
		    }
		}
		else if(!strcmp(tmp, "fish", true))
		{
		    new found = 0;
		    tmp = strtok(cmdtext, idx);
			if(!strlen(tmp))
			{
				SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /cook fish [fishnumber]");
				return 1;
			}
			new fishid = strval(tmp);
			if(fishid < 1 || fishid > 5) { SendClientMessage(playerid, COLOR_GREY, "   Fish number cant be below 1 or above 5 !"); return 1; }
			else if(fishid == 1 && Fishes[playerid][pWeight][0] < 1) { SendClientMessage(playerid, COLOR_GREY, "   You didnt even catch a Fish at that number(1) !"); return 1; }
			else if(fishid == 2 && Fishes[playerid][pWeight][1] < 1) { SendClientMessage(playerid, COLOR_GREY, "   You didnt even catch a Fish at that number(2) !"); return 1; }
			else if(fishid == 3 && Fishes[playerid][pWeight][2] < 1) { SendClientMessage(playerid, COLOR_GREY, "   You didnt even catch a Fish at that number(3) !"); return 1; }
			else if(fishid == 4 && Fishes[playerid][pWeight][3] < 1) { SendClientMessage(playerid, COLOR_GREY, "   You didnt even catch a Fish at that number(4) !"); return 1; }
			else if(fishid == 5 && Fishes[playerid][pWeight][4] < 1) { SendClientMessage(playerid, COLOR_GREY, "   You didnt even catch a Fish at that number(5) !"); return 1; }
			if(Cooking[playerid][pCWeight1] == 0)
			{
			    if(fishid == 1)
			    {
    			    format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish1]);
				    strmid(Cooking[playerid][pCook1], strcmd, 0, strlen(strcmd), 255);
				    Cooking[playerid][pCWeight1] = Fishes[playerid][pWeight][0];
				    Cooking[playerid][pCookID1] = Fishes[playerid][pFid1];
				    format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook1],Cooking[playerid][pCWeight1]);
			    	SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    }
				else if(fishid == 2)
			 	{
				    format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish2]);
				    strmid(Cooking[playerid][pCook1], strcmd, 0, strlen(strcmd), 255);
				    Cooking[playerid][pCWeight1] = Fishes[playerid][pWeight][1];
				    Cooking[playerid][pCookID1] = Fishes[playerid][pFid2];
				    format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook1],Cooking[playerid][pCWeight1]);
				    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				}
				else if(fishid == 3)
				{
				    format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish3]);
				    strmid(Cooking[playerid][pCook1], strcmd, 0, strlen(strcmd), 255);
				    Cooking[playerid][pCWeight1] = Fishes[playerid][pWeight][2];
				    Cooking[playerid][pCookID1] = Fishes[playerid][pFid3];
				    format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook1],Cooking[playerid][pCWeight1]);
				    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				}
				else if(fishid == 4)
				{
				    format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish4]);
				    strmid(Cooking[playerid][pCook1], strcmd, 0, strlen(strcmd), 255);
				    Cooking[playerid][pCWeight1] = Fishes[playerid][pWeight][3];
				    Cooking[playerid][pCookID1] = Fishes[playerid][pFid4];
				    format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook1],Cooking[playerid][pCWeight1]);
				    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				}
				else if(fishid == 5)
				{
				    format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish5]);
				    strmid(Cooking[playerid][pCook1], strcmd, 0, strlen(strcmd), 255);
				    Cooking[playerid][pCWeight1] = Fishes[playerid][pWeight][4];
				    Cooking[playerid][pCookID1] = Fishes[playerid][pFid5];
				    format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook1],Cooking[playerid][pCWeight1]);
				    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				}
				found = 1;
				PlayerInfo[playerid][pCookSkill] ++;
    		}
			else if(Cooking[playerid][pCWeight2] == 0)
			{
				if(fishid == 1)
			    {
					format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish1]);
					strmid(Cooking[playerid][pCook2], strcmd, 0, strlen(strcmd), 255);
					Cooking[playerid][pCWeight2] = Fishes[playerid][pWeight][0];
					Cooking[playerid][pCookID2] = Fishes[playerid][pFid1];
					format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook2],Cooking[playerid][pCWeight2]);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
	    		}
				else if(fishid == 2)
				{
				    format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish2]);
				    strmid(Cooking[playerid][pCook2], strcmd, 0, strlen(strcmd), 255);
				    Cooking[playerid][pCWeight2] = Fishes[playerid][pWeight][1];
				    Cooking[playerid][pCookID2] = Fishes[playerid][pFid2];
				    format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook2],Cooking[playerid][pCWeight2]);
				    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				}
				else if(fishid == 3)
				{
				    format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish3]);
				    strmid(Cooking[playerid][pCook2], strcmd, 0, strlen(strcmd), 255);
				    Cooking[playerid][pCWeight2] = Fishes[playerid][pWeight][2];
				    Cooking[playerid][pCookID2] = Fishes[playerid][pFid3];
				    format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook2],Cooking[playerid][pCWeight2]);
				    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				}
				else if(fishid == 4)
				{
				    format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish4]);
				    strmid(Cooking[playerid][pCook2], strcmd, 0, strlen(strcmd), 255);
				    Cooking[playerid][pCWeight2] = Fishes[playerid][pWeight][3];
				    Cooking[playerid][pCookID2] = Fishes[playerid][pFid4];
				    format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook2],Cooking[playerid][pCWeight2]);
				    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				}
				else if(fishid == 5)
				{
				    format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish5]);
				    strmid(Cooking[playerid][pCook2], strcmd, 0, strlen(strcmd), 255);
				    Cooking[playerid][pCWeight2] = Fishes[playerid][pWeight][4];
				    Cooking[playerid][pCookID2] = Fishes[playerid][pFid5];
				    format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook2],Cooking[playerid][pCWeight2]);
				    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				}
				found = 1;
				PlayerInfo[playerid][pCookSkill] ++;
    		}
			else if(Cooking[playerid][pCWeight3] == 0)
			{
				if(fishid == 1)
			    {
					format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish1]);
					strmid(Cooking[playerid][pCook3], strcmd, 0, strlen(strcmd), 255);
					Cooking[playerid][pCWeight3] = Fishes[playerid][pWeight][0];
					Cooking[playerid][pCookID3] = Fishes[playerid][pFid1];
					format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook3],Cooking[playerid][pCWeight3]);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
	    		}
				else if(fishid == 2)
				{
					format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish2]);
					strmid(Cooking[playerid][pCook3], strcmd, 0, strlen(strcmd), 255);
					Cooking[playerid][pCWeight3] = Fishes[playerid][pWeight][1];
					Cooking[playerid][pCookID3] = Fishes[playerid][pFid2];
					format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook3],Cooking[playerid][pCWeight3]);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
  				}
				else if(fishid == 3)
				{
					format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish3]);
					strmid(Cooking[playerid][pCook3], strcmd, 0, strlen(strcmd), 255);
					Cooking[playerid][pCWeight3] = Fishes[playerid][pWeight][2];
					Cooking[playerid][pCookID3] = Fishes[playerid][pFid3];
					format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook3],Cooking[playerid][pCWeight3]);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
	    		}
				else if(fishid == 4)
				{
					format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish4]);
					strmid(Cooking[playerid][pCook3], strcmd, 0, strlen(strcmd), 255);
					Cooking[playerid][pCWeight3] = Fishes[playerid][pWeight][3];
					Cooking[playerid][pCookID3] = Fishes[playerid][pFid4];
					format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook3],Cooking[playerid][pCWeight3]);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
	    		}
				else if(fishid == 5)
				{
					format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish5]);
					strmid(Cooking[playerid][pCook3], strcmd, 0, strlen(strcmd), 255);
					Cooking[playerid][pCWeight3] = Fishes[playerid][pWeight][4];
					Cooking[playerid][pCookID3] = Fishes[playerid][pFid5];
					format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook3],Cooking[playerid][pCWeight3]);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
	    		}
				found = 1;
				PlayerInfo[playerid][pCookSkill] ++;
			}
			else if(Cooking[playerid][pCWeight4] == 0)
			{
				if(fishid == 1)
			    {
					format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish1]);
					strmid(Cooking[playerid][pCook4], strcmd, 0, strlen(strcmd), 255);
					Cooking[playerid][pCWeight4] = Fishes[playerid][pWeight][0];
					Cooking[playerid][pCookID4] = Fishes[playerid][pFid1];
					format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook4],Cooking[playerid][pCWeight4]);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
	    		}
				else if(fishid == 2)
				{
					format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish2]);
					strmid(Cooking[playerid][pCook4], strcmd, 0, strlen(strcmd), 255);
					Cooking[playerid][pCWeight4] = Fishes[playerid][pWeight][1];
					Cooking[playerid][pCookID4] = Fishes[playerid][pFid2];
					format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook4],Cooking[playerid][pCWeight4]);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
	    		}
				else if(fishid == 3)
				{
					format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish3]);
					strmid(Cooking[playerid][pCook4], strcmd, 0, strlen(strcmd), 255);
					Cooking[playerid][pCWeight4] = Fishes[playerid][pWeight][2];
					Cooking[playerid][pCookID4] = Fishes[playerid][pFid3];
					format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook4],Cooking[playerid][pCWeight4]);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
	    		}
				else if(fishid == 4)
				{
					format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish4]);
					strmid(Cooking[playerid][pCook4], strcmd, 0, strlen(strcmd), 255);
					Cooking[playerid][pCWeight4] = Fishes[playerid][pWeight][3];
					Cooking[playerid][pCookID4] = Fishes[playerid][pFid4];
					format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook4],Cooking[playerid][pCWeight4]);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
	    		}
				else if(fishid == 5)
				{
					format(strcmd, sizeof(strcmd), "A Cooked %s", Fishes[playerid][pFish5]);
					strmid(Cooking[playerid][pCook4], strcmd, 0, strlen(strcmd), 255);
					Cooking[playerid][pCWeight4] = Fishes[playerid][pWeight][4];
					Cooking[playerid][pCookID4] = Fishes[playerid][pFid5];
					format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook4],Cooking[playerid][pCWeight4]);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				}
				found = 1;
				PlayerInfo[playerid][pCookSkill] ++;
    		}
			else if(Cooking[playerid][pCWeight5] == 0)
			{
				if(fishid == 1)
			    {
					format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish1]);
					strmid(Cooking[playerid][pCook5], strcmd, 0, strlen(strcmd), 255);
					Cooking[playerid][pCWeight5] = Fishes[playerid][pWeight][0];
					Cooking[playerid][pCookID5] = Fishes[playerid][pFid1];
					format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook5],Cooking[playerid][pCWeight5]);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
	    		}
				else if(fishid == 2)
				{
					format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish2]);
					strmid(Cooking[playerid][pCook5], strcmd, 0, strlen(strcmd), 255);
					Cooking[playerid][pCWeight5] = Fishes[playerid][pWeight][1];
					Cooking[playerid][pCookID5] = Fishes[playerid][pFid2];
					format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook5],Cooking[playerid][pCWeight5]);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
	    		}
				else if(fishid == 3)
				{
					format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish3]);
					strmid(Cooking[playerid][pCook5], strcmd, 0, strlen(strcmd), 255);
					Cooking[playerid][pCWeight5] = Fishes[playerid][pWeight][2];
					Cooking[playerid][pCookID5] = Fishes[playerid][pFid3];
					format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook5],Cooking[playerid][pCWeight5]);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
	    		}
				else if(fishid == 4)
				{
					format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish4]);
					strmid(Cooking[playerid][pCook5], strcmd, 0, strlen(strcmd), 255);
					Cooking[playerid][pCWeight5] = Fishes[playerid][pWeight][3];
					Cooking[playerid][pCookID5] = Fishes[playerid][pFid4];
					format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook5],Cooking[playerid][pCWeight5]);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
	    		}
				else if(fishid == 5)
				{
					format(strcmd, sizeof(strcmd), "%s", Fishes[playerid][pFish5]);
					strmid(Cooking[playerid][pCook5], strcmd, 0, strlen(strcmd), 255);
					Cooking[playerid][pCWeight5] = Fishes[playerid][pWeight][4];
					Cooking[playerid][pCookID5] = Fishes[playerid][pFid5];
					format(strcmd, sizeof(strcmd), "* Вы приготовили %s, весом %d кг.",Cooking[playerid][pCook5],Cooking[playerid][pCWeight5]);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);

	    		}
				found = 1;
				PlayerInfo[playerid][pCookSkill] ++;
			}
			else
			{
				SendClientMessage(playerid, COLOR_GREY, "   У вас нет свободного места в Списке Готовки !");
			    return 1;
    		}
			if(found)
			{
			    ClearFishID(playerid, fishid);
			}
		}
		else if(!strcmp(tmp, "chicken", true))//	/cook chicken
		{
		    if(!IsPlayerInRangeOfPoint(playerid, 3.0, 369.9786,-4.0798,1001.8589))
		    {//Cluckin Bell
		        SendClientMessage(playerid, COLOR_GREY, "   Вы дожны быть в Cluckin Bell, чтобы приготовить это!");
			    return 1;
		    }
	        if(Groceries[playerid][gChicken] == 0)
	        {
	            SendClientMessage(playerid, COLOR_GREY, "   У вас нет с собой Цыплёнка !");
	            return 1;
	        }
            if(Cooking[playerid][pCWeight1] == 0)
		    {
			    //format(strcmd, sizeof(strcmd), "Цыпленка");
			    strmid(Cooking[playerid][pCook1], "Цыпленка", 0, strlen("Цыпленка"), 20);
			    Cooking[playerid][pCWeight1] = Groceries[playerid][gChicken];
			    Cooking[playerid][pCookID1] = 30;
			    Groceries[playerid][gChickens] = 0; Groceries[playerid][gChicken] = 0;
			    format(strcmd, sizeof(strcmd), "* Вы разогрели %s, весом %d кг.", Cooking[playerid][pCook1],Cooking[playerid][pCWeight1]);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    PlayerInfo[playerid][pCookSkill] ++;
		    }
		    else if(Cooking[playerid][pCWeight2] == 0)
		    {
			    //format(strcmd, sizeof(strcmd), "Цыпленка");
			    strmid(Cooking[playerid][pCook2], "Цыпленка", 0, strlen("Цыпленка"), 20);
			    Cooking[playerid][pCWeight2] = Groceries[playerid][gChicken];
			    Cooking[playerid][pCookID2] = 30;
			    Groceries[playerid][gChickens] = 0; Groceries[playerid][gChicken] = 0;
			    format(strcmd, sizeof(strcmd), "* Вы разогрели %s, весом %d кг.",Cooking[playerid][pCook2],Cooking[playerid][pCWeight2]);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    PlayerInfo[playerid][pCookSkill] ++;
		    }
		    else if(Cooking[playerid][pCWeight3] == 0)
		    {
			    //format(strcmd, sizeof(strcmd), "Цыпленка");
			    strmid(Cooking[playerid][pCook3], "Цыпленка", 0, strlen("Цыпленка"), 20);
			    Cooking[playerid][pCWeight3] = Groceries[playerid][gChicken];
			    Cooking[playerid][pCookID3] = 30;
			    Groceries[playerid][gChickens] = 0; Groceries[playerid][gChicken] = 0;
			    format(strcmd, sizeof(strcmd), "* Вы разогрели %s, весом %d кг.",Cooking[playerid][pCook3],Cooking[playerid][pCWeight3]);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    PlayerInfo[playerid][pCookSkill] ++;
		    }
		    else if(Cooking[playerid][pCWeight4] == 0)
		    {
			    //format(strcmd, sizeof(strcmd), "Цыпленка");
			    strmid(Cooking[playerid][pCook4], "Цыпленка", 0, strlen("Цыпленка"), 20);
			    Cooking[playerid][pCWeight4] = Groceries[playerid][gChicken];
			    Cooking[playerid][pCookID4] = 30;
			    Groceries[playerid][gChickens] = 0; Groceries[playerid][gChicken] = 0;
			    format(strcmd, sizeof(strcmd), "* Вы разогрели %s, весом %d кг.",Cooking[playerid][pCook4],Cooking[playerid][pCWeight4]);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    PlayerInfo[playerid][pCookSkill] ++;
		    }
		    else if(Cooking[playerid][pCWeight5] == 0)
		    {
			    format(strcmd, sizeof(strcmd), "Цыпленка");
			    strmid(Cooking[playerid][pCook5], "Цыпленка", 0, strlen("Цыпленка"), 255);
			    Cooking[playerid][pCWeight5] = Groceries[playerid][gChicken];
			    Cooking[playerid][pCookID5] = 30;
			    Groceries[playerid][gChickens] = 0; Groceries[playerid][gChicken] = 0;
			    format(strcmd, sizeof(strcmd), "* Вы разогрели %s, весом %d кг.",Cooking[playerid][pCook5],Cooking[playerid][pCWeight5]);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    PlayerInfo[playerid][pCookSkill] ++;
		    }
		    else
		    {
		        SendClientMessage(playerid, COLOR_GREY, "   У вас нет свободной ячейки в Списке Готовки !");
		        return 1;
		    }
		}
		else if(!strcmp(tmp, "hamburger", true)) //	/cook hamburger
		{
		    if(!IsPlayerInRangeOfPoint(playerid, 3.0, 376.4466,-60.9574,1001.5078) || IsPlayerInRangeOfPoint(playerid, 3.0, 378.1215,-57.4928,1001.5078))
			{//Burgershot
			    SendClientMessage(playerid, COLOR_GREY, "   Вы дожны быть в Burger Shot, чтобы готовить это !");
			    return 1;
			}
		    if(Groceries[playerid][gHamburger] == 0)
	        {
	            SendClientMessage(playerid, COLOR_GREY, "   У вас нет Гамбургера с собой !");
	            return 1;
	        }
            if(Cooking[playerid][pCWeight1] == 0)
		    {
			    format(strcmd, sizeof(strcmd), "Гамбургер");
			    strmid(Cooking[playerid][pCook1], strcmd, 0, strlen(strcmd), 255);
			    Cooking[playerid][pCWeight1] = Groceries[playerid][gHamburger];
			    Cooking[playerid][pCookID1] = 30;
			    Groceries[playerid][gHamburgers] = 0; Groceries[playerid][gHamburger] = 0;
			    format(strcmd, sizeof(strcmd), "* Вы разогрели %s, весом %d кг.",Cooking[playerid][pCook1],Cooking[playerid][pCWeight1]);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    PlayerInfo[playerid][pCookSkill] ++;
		    }
		    else if(Cooking[playerid][pCWeight2] == 0)
		    {
			    format(strcmd, sizeof(strcmd), "Гамбургер");
			    strmid(Cooking[playerid][pCook2], strcmd, 0, strlen(strcmd), 255);
			    Cooking[playerid][pCWeight2] = Groceries[playerid][gHamburger];
			    Cooking[playerid][pCookID2] = 30;
			    Groceries[playerid][gHamburgers] = 0; Groceries[playerid][gHamburger] = 0;
			    format(strcmd, sizeof(strcmd), "* Вы разогрели %s, весом %d кг.",Cooking[playerid][pCook2],Cooking[playerid][pCWeight2]);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    PlayerInfo[playerid][pCookSkill] ++;
		    }
		    else if(Cooking[playerid][pCWeight3] == 0)
		    {
			    format(strcmd, sizeof(strcmd), "Гамбургер");
			    strmid(Cooking[playerid][pCook3], strcmd, 0, strlen(strcmd), 255);
			    Cooking[playerid][pCWeight3] = Groceries[playerid][gHamburger];
			    Cooking[playerid][pCookID3] = 30;
			    Groceries[playerid][gHamburgers] = 0; Groceries[playerid][gHamburger] = 0;
			    format(strcmd, sizeof(strcmd), "* Вы разогрели %s, весом %d кг.",Cooking[playerid][pCook3],Cooking[playerid][pCWeight3]);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    PlayerInfo[playerid][pCookSkill] ++;
		    }
		    else if(Cooking[playerid][pCWeight4] == 0)
		    {
			    format(strcmd, sizeof(strcmd), "Гамбургер");
			    strmid(Cooking[playerid][pCook4], strcmd, 0, strlen(strcmd), 255);
			    Cooking[playerid][pCWeight4] = Groceries[playerid][gHamburger];
			    Cooking[playerid][pCookID4] = 30;
			    Groceries[playerid][gHamburgers] = 0; Groceries[playerid][gHamburger] = 0;
			    format(strcmd, sizeof(strcmd), "* Вы разогрели %s, весом %d кг.",Cooking[playerid][pCook4],Cooking[playerid][pCWeight4]);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    PlayerInfo[playerid][pCookSkill] ++;
		    }
		    else if(Cooking[playerid][pCWeight5] == 0)
		    {
			    format(strcmd, sizeof(strcmd), "Гамбургер");
			    strmid(Cooking[playerid][pCook5], strcmd, 0, strlen(strcmd), 255);
			    Cooking[playerid][pCWeight5] = Groceries[playerid][gHamburger];
			    Cooking[playerid][pCookID5] = 30;
			    Groceries[playerid][gHamburgers] = 0; Groceries[playerid][gHamburger] = 0;
			    format(strcmd, sizeof(strcmd), "* Вы разогрели %s, весом %d кг.",Cooking[playerid][pCook5],Cooking[playerid][pCWeight5]);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    PlayerInfo[playerid][pCookSkill] ++;
		    }
		    else
		    {
		        SendClientMessage(playerid, COLOR_GREY, "   У вас нет свободного места в Списке Готовки !");
		        return 1;
			}
		}
		else if(!strcmp(tmp, "pizza", true))
		{
		    if(!IsPlayerInRangeOfPoint(playerid, 3.0, 374.1185,-113.6361,1001.4922) || IsPlayerInRangeOfPoint(playerid, 3.0, 377.7971,-113.7668,1001.4922))
			{//Well Stacked Pizza
			    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть в Well Stacked Pizza, чтобы готовить это !");
			    return 1;
			}
		    if(Groceries[playerid][gPizza] == 0)
	        {
	            SendClientMessage(playerid, COLOR_GREY, "   У вас нет Пиццы с собой !");
	            return 1;
	        }
            if(Cooking[playerid][pCWeight1] == 0)
		    {
			    format(strcmd, sizeof(strcmd), "Пиццу");
			    strmid(Cooking[playerid][pCook1], strcmd, 0, strlen(strcmd), 255);
			    Cooking[playerid][pCWeight1] = Groceries[playerid][gPizzas];
			    Cooking[playerid][pCookID1] = 30;
			    Groceries[playerid][gPizzas] = 0; Groceries[playerid][gPizza] = 0;
			    format(strcmd, sizeof(strcmd), "* Вы разогрели %s, весом %d кг.",Cooking[playerid][pCook1],Cooking[playerid][pCWeight1]);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    PlayerInfo[playerid][pCookSkill] ++;
		    }
		    else if(Cooking[playerid][pCWeight2] == 0)
		    {
			    format(strcmd, sizeof(strcmd), "Пиццу");
			    strmid(Cooking[playerid][pCook2], strcmd, 0, strlen(strcmd), 255);
			    Cooking[playerid][pCWeight2] = Groceries[playerid][gPizzas];
			    Cooking[playerid][pCookID2] = 30;
			    Groceries[playerid][gPizzas] = 0; Groceries[playerid][gPizza] = 0;
			    format(strcmd, sizeof(strcmd), "* Вы разогрели %s, весом %d кг.", Cooking[playerid][pCook2],Cooking[playerid][pCWeight2]);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    PlayerInfo[playerid][pCookSkill] ++;
		    }
		    else if(Cooking[playerid][pCWeight3] == 0)
		    {
			    format(strcmd, sizeof(strcmd), "Пиццу");
			    strmid(Cooking[playerid][pCook3], strcmd, 0, strlen(strcmd), 255);
			    Cooking[playerid][pCWeight3] = Groceries[playerid][gPizzas];
			    Cooking[playerid][pCookID3] = 30;
			    Groceries[playerid][gPizzas] = 0; Groceries[playerid][gPizza] = 0;
			    format(strcmd, sizeof(strcmd), "* Вы разогрели %s, весом %d кг.",Cooking[playerid][pCook3],Cooking[playerid][pCWeight3]);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    PlayerInfo[playerid][pCookSkill] ++;
		    }
		    else if(Cooking[playerid][pCWeight4] == 0)
		    {
			    format(strcmd, sizeof(strcmd), "Пиццу");
			    strmid(Cooking[playerid][pCook4], strcmd, 0, strlen(strcmd), 255);
			    Cooking[playerid][pCWeight4] = Groceries[playerid][gPizzas];
			    Cooking[playerid][pCookID4] = 30;
			    Groceries[playerid][gPizzas] = 0; Groceries[playerid][gPizza] = 0;
			    format(strcmd, sizeof(strcmd), "* Вы разогрели %s, весом %d кг.",Cooking[playerid][pCook4],Cooking[playerid][pCWeight4]);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    PlayerInfo[playerid][pCookSkill] ++;
		    }
		    else if(Cooking[playerid][pCWeight5] == 0)
		    {
			    format(strcmd, sizeof(strcmd), "Пиццу");
			    strmid(Cooking[playerid][pCook5], strcmd, 0, strlen(strcmd), 255);
			    Cooking[playerid][pCWeight5] = Groceries[playerid][gPizzas];
			    Cooking[playerid][pCookID5] = 30;
			    Groceries[playerid][gPizzas] = 0; Groceries[playerid][gPizza] = 0;
			    format(strcmd, sizeof(strcmd), "* Вы разогрели %s, весом %d кг.",Cooking[playerid][pCook5],Cooking[playerid][pCWeight5]);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			    PlayerInfo[playerid][pCookSkill] ++;
		    }
		    else
		    {
		        SendClientMessage(playerid, COLOR_GREY, "   У вас нет свободного места в Списке Готовки !");
		        return 1;
		    }
        }
		else
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Неправильное Название Продукта !");
		    return 1;
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/cooked", true))
    {
        SendClientMessage(playerid, COLOR_HERBAL, "|________________ Cooking ________________|");
        format(strcmd, sizeof(strcmd), "** (1) Made: %s.   Weight: %d.", Cooking[playerid][pCook1], Cooking[playerid][pCWeight1]);
		SendClientMessage(playerid, COLOR_GRAD5, strcmd);
		format(strcmd, sizeof(strcmd), "** (2) Made: %s.   Weight: %d.", Cooking[playerid][pCook2], Cooking[playerid][pCWeight2]);
		SendClientMessage(playerid, COLOR_GRAD4, strcmd);
		format(strcmd, sizeof(strcmd), "** (3) Made: %s.   Weight: %d.", Cooking[playerid][pCook3], Cooking[playerid][pCWeight3]);
		SendClientMessage(playerid, COLOR_GRAD3, strcmd);
		format(strcmd, sizeof(strcmd), "** (4) Made: %s.   Weight: %d.", Cooking[playerid][pCook4], Cooking[playerid][pCWeight4]);
		SendClientMessage(playerid, COLOR_GRAD2, strcmd);
		format(strcmd, sizeof(strcmd), "** (5) Made: %s.   Weight: %d.", Cooking[playerid][pCook5], Cooking[playerid][pCWeight5]);
		SendClientMessage(playerid, COLOR_GRAD1, strcmd);
		SendClientMessage(playerid, COLOR_HERBAL, "|_________________________________________|");
	    return 1;
 	}//для готовки конец
 	//==========================================================================
 	else if(!strcmp(cmd, "/eat", true))//для готовки начало
    {
        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /eat [cook number]");
			return 1;
		}
		new cookid = strval(tmp);
		if(cookid < 1 || cookid > 5) { SendClientMessage(playerid, COLOR_GREY, "   Значение приготовленного продукта не может быть ниже 1 или выше 5 !"); return 1; }
		else if(cookid == 1 && Cooking[playerid][pCWeight1] < 1) { SendClientMessage(playerid, COLOR_GREY, "   Вы не имеете приготовленного продукта под номером(1) !"); return 1; }
		else if(cookid == 2 && Cooking[playerid][pCWeight2] < 1) { SendClientMessage(playerid, COLOR_GREY, "   Вы не имеете приготовленного продукта под номером(2) !"); return 1; }
		else if(cookid == 3 && Cooking[playerid][pCWeight3] < 1) { SendClientMessage(playerid, COLOR_GREY, "   Вы не имеете приготовленного продукта под номером(3) !"); return 1; }
		else if(cookid == 4 && Cooking[playerid][pCWeight4] < 1) { SendClientMessage(playerid, COLOR_GREY, "   Вы не имеете приготовленного продукта под номером(4) !"); return 1; }
		else if(cookid == 5 && Cooking[playerid][pCWeight5] < 1) { SendClientMessage(playerid, COLOR_GREY, "   Вы не имеете приготовленного продукта под номером(5) !"); return 1; }
		new Float:health = LastHealth[playerid];
		if(health < 40.0)
		{
		    new hp = 0;
		    switch(cookid)
		    {
				case 1:
				{
				    if(Cooking[playerid][pCookID1] == 16 || Cooking[playerid][pCookID1] == 18)
					{//Dolphin or Turtle
					    WantedPoints[playerid] += 14;
						SetPlayerCriminal(FBI, playerid, INVALID_PLAYER_ID, " Угроза Исчезновению Вида Рыбы");
						SendTeamMessage(FBI, COLOR_DARKTURQUOISE, "   USE: /pun [581] [1] [playerid/PartOfName]");
					}
				    SetPlayerHealthEx(playerid, (health+Cooking[playerid][pCWeight1]));
				    hp = Cooking[playerid][pCWeight1];
				    format(strcmd, sizeof(strcmd), "* %s съел %s.", PlayerName(playerid), Cooking[playerid][pCook1]);
					ProxDetector(playerid, 30.0, strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
				    format(strcmd, sizeof(strcmd), "* Вы съели %s весом %d, и пополнили своё Здоровье.",Cooking[playerid][pCook1], hp);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
					PlayerInfo[playerid][pParam1] -= hp;
				}
				case 2:
				{
				    if(Cooking[playerid][pCookID2] == 16 || Cooking[playerid][pCookID2] == 18)
					{//Dolphin or Turtle
						WantedPoints[playerid] += 14;
						SetPlayerCriminal(FBI, playerid, INVALID_PLAYER_ID, " Угроза Исчезновению Вида Рыбы");
						SendTeamMessage(FBI, COLOR_DARKTURQUOISE, "   USE: /pun [581] [1] [playerid/PartOfName]");
					}
					SetPlayerHealthEx(playerid, (health + Cooking[playerid][pCWeight2]));
					hp = Cooking[playerid][pCWeight2];
					format(strcmd, sizeof(strcmd), "* %s съел %s.", PlayerName(playerid), Cooking[playerid][pCook2]);
					ProxDetector(playerid, 30.0, strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
				    format(strcmd, sizeof(strcmd), "* Вы съели %s весом %d, и пополнили своё Здоровье.",Cooking[playerid][pCook2], hp);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
					PlayerInfo[playerid][pParam1] -= hp;
				}
				case 3:
				{
				    if(Cooking[playerid][pCookID3] == 16 || Cooking[playerid][pCookID3] == 18)
					{//Dolphin or Turtle
					    WantedPoints[playerid] += 14;
						SetPlayerCriminal(FBI, playerid, INVALID_PLAYER_ID, " Угроза Исчезновению Вида Рыбы");
						SendTeamMessage(FBI, COLOR_DARKTURQUOISE, "   USE: /pun [581] [1] [playerid/PartOfName]");
					}
				    SetPlayerHealthEx(playerid, (health + Cooking[playerid][pCWeight3]));
				    hp = Cooking[playerid][pCWeight3];
				    format(strcmd, sizeof(strcmd), "* %s съел %s.", PlayerName(playerid), Cooking[playerid][pCook3]);
					ProxDetector(playerid, 30.0, strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
				    format(strcmd, sizeof(strcmd), "* Вы съели %s весом %d, и пополнили своё Здоровье.",Cooking[playerid][pCook3], hp);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
					PlayerInfo[playerid][pParam1] -= hp;
				}
				case 4:
				{
				    if(Cooking[playerid][pCookID4] == 16 || Cooking[playerid][pCookID4] == 18)
					{//Dolphin or Turtle
				    	WantedPoints[playerid] += 14;
						SetPlayerCriminal(FBI, playerid, INVALID_PLAYER_ID, " Угроза Исчезновению Вида Рыбы");
						SendTeamMessage(FBI, COLOR_DARKTURQUOISE, "   USE: /pun [581] [1] [playerid/PartOfName]");
					}
				    SetPlayerHealthEx(playerid, (health + Cooking[playerid][pCWeight4]));
				    hp = Cooking[playerid][pCWeight4];
				    format(strcmd, sizeof(strcmd), "* %s съел %s.", PlayerName(playerid), Cooking[playerid][pCook4]);
					ProxDetector(playerid, 30.0, strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
				    format(strcmd, sizeof(strcmd), "* Вы съели %s весом %d, и пополнили своё Здоровье.",Cooking[playerid][pCook4], hp);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
					PlayerInfo[playerid][pParam1] -= hp;
				}
				case 5:
				{
				    if(Cooking[playerid][pCookID5] == 16 || Cooking[playerid][pCookID5] == 18)
					{//Dolphin or Turtle
					    WantedPoints[playerid] += 14;
						SetPlayerCriminal(FBI, playerid, INVALID_PLAYER_ID, " Угроза Исчезновению Вида Рыбы");
						SendTeamMessage(FBI, COLOR_DARKTURQUOISE, "   USE: /pun [581] [1] [playerid/PartOfName]");
					}
				    SetPlayerHealthEx(playerid, (health + Cooking[playerid][pCWeight5]));
				    hp = Cooking[playerid][pCWeight5];
				    format(strcmd, sizeof(strcmd), "* %s съел %s.", PlayerName(playerid), Cooking[playerid][pCook5]);
					ProxDetector(playerid, 30.0, strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
				    format(strcmd, sizeof(strcmd), "* Вы съели %s весом %d, и пополнили своё Здоровье.",Cooking[playerid][pCook5], hp);
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
					PlayerInfo[playerid][pParam1] -= hp;
				}
    		}
			if(PlayerInfo[playerid][pParam1] < operator1) gParameter1[playerid] = 0;
			if(PlayerInfo[playerid][pParam1] <= 0) PlayerInfo[playerid][pParam1] = 0;
			SetPlayerShowScale(playerid, 1, PlayerInfo[playerid][pParam1], operator1);
			ClearCookingID(playerid, cookid);
		}
		else
		{
    		SendClientMessage(playerid, COLOR_GREY, "   Ваше здоровье достаточно хорошее.(Можно пополнять Здоровье только на 40!)");
		}
		//return 1;
	}
	//==========================================================================
	//CAR COMMANDS
	//==========================================================================
	//для инфо по машине
	else if(!strcmp(cmd, "/carinfo", true))
	{
		CarInfo(playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/eject", true))
	{
		if(!IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться в транспортном средстве!");
			return 1;
		}
		if( //CurState[playerid] != PLAYER_STATE_DRIVER &&
			//VehInfo[nCarID[playerid]][cOwned] != PlayerInfo[playerid][pSQLID]
			VehInfo[nCarID[playerid]][cType] >= 1000 &&
			strcmp(VehInfo[nCarID[playerid]][cOwner], PlayerName(playerid), true) )
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться в своём транспортном средстве!");
			SendClientMessage(playerid, COLOR_GREY, "  Или в государственном транспортном средстве!");
			return 1;
		}
		if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER)
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться за рулём транспортного средства!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /eject [playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
        if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы неможете выкинуть самого себя!"); return 1; }

        EjectPassenger(playerid, giveplayerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/fillcar", true))//для заправки с канистры
	{
		FillCar(playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/findcar", true))
	{
	    if(PlayerInfo[playerid][pGPS] == 0 && PlayerInfo[playerid][pAdmin] != 9)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   У вас отсутствует GPS-Навигатор !");
			return 1;
	    }
		if(gLoading[playerid] || gUnLoading[playerid])
		{
			SendClientMessage(playerid, COLOR_GREY, "   Подождите окончания загрузки/выгрузки !");
			return 1;
		}
       	if(PlayerInfo[playerid][pInt] != 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны находится Не в Интерьере !");
			return 1;
		}
		if(CP[playerid] != 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете в данный момент воспользоваться поисковой системой !");
			return 1;
		}
		if(MarkerToPlayer[playerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете воспользоваться GPS системой, т.к. маркер установлен (USE: /gps "#CHECKPOINT_NONE")!");
		    return 1;
		}
		if(GetPVarInt(playerid, "gCheckpointStatus") != CHECKPOINT_NONE)
		{
			SendClientMessage(playerid, COLOR_GREY, "   GPS-Навигатор уже активирован, т.к. сheckpoint установлен (USE: /gps "#CHECKPOINT_NONE")!");
			return 1;
		}
	    tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			format(strcmd, sizeof(strcmd), "USE: /findcar [carid 1-%d]", GetMaxVehicles);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		new carid = strval(tmp);
		if(carid <= 0 || carid >= GetMaxVehicles)
		{
			format(strcmd, sizeof(strcmd), "USE: /findcar [carid 1-%d]", GetMaxVehicles);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		if( VehInfo[carid][cOwned] > 0 &&
			VehInfo[carid][cOwned] == PlayerInfo[playerid][pSQLID])
	 	{
	 		new Float:cwx2,Float:cwy2,Float:cwz2;
			GetVehiclePos(carid, cwx2, cwy2, cwz2);

			SetPlayerCheckpointEx(playerid, cwx2, cwy2, cwz2, CHECKPOINT_SIZE);
			GameTextForPlayerEx(playerid, "~w~Waypoint set ~r~Car", 5000, 1);
			SetPVarInt(playerid, "gCheckpointStatus", CHECKPOINT_CAR);
	 	}
	 	else
	 	{
			if(PlayerInfo[playerid][pMember] != DoT && PlayerInfo[playerid][pAdmin] < 6)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			    return 1;
			}
			if(!gOnDuty[playerid] && PlayerInfo[playerid][pAdmin] < 6)
			{   //если коп и не на дежурстве и не в розыске
				SendClientMessage(playerid, COLOR_GREY, "   Вы должны находится на дежурстве.");
				return 1;
			}
	 		VehicleInfo(playerid, carid);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/steal", true))//для автоугонщиков
	{
        if(PlayerInfo[playerid][pJob] != CARJACKER)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
       	if(IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться ВНЕ транспортного средства!");
			return 1;
		}
		if(PlayerInfo[playerid][pInt] != 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться НЕ в интерьере !");
			return 1;
		}
	 	if(GetPVarInt(playerid, "SkeletonKey") <= 0 && PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   У вас не осталось больше отмычек. Их можно приобрести в магазине 24/7.");
			return 1;
		}
		if(gRealWar)
		{
			SendClientMessage(playerid, COLOR_GREY, "    Активизирован режим игры RealWar ! Подробнее про этот режим читайте на форуме !");
			return 1;
		}
        if(gRobCountdown[playerid] != -1 && gRobCountdown[playerid] != 0)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Дождитесь окончания взлома!");
		    return 1;
		}
		new useVehicleKey;
		new carid;
//проверка тачки на возможность угона
		//for(new vid = 1; vid<=GetMaxVehicles; vid++)
		new vid = 1, modelid;
		for(new v=0; v!=-1; v=StreamedVehicle[playerid][v])	{
			if(StreamedVehicle[playerid][v] == -1) continue;
			vid = StreamedVehicle[playerid][v];

			modelid = VehInfo[vid][cModel];//GetVehicleModel(vid);
			if(modelid < 400) continue;
			if(VehInfo[vid][cPark] != 0) continue;//пропускаем запаркованные
			if(VehInfo[vid][cType] < 1000) continue;//пропускаем халявные
			if(GetVehicleSpeed(vid) > 1) continue;//пропускаем движущиеся
			if( GetSeatVehiclePlayer(vid, 0) != INVALID_PLAYER_ID) continue;//пропускаем не пустые
			if(VehInfo[vid][cOwned] == PlayerInfo[playerid][pSQLID]) continue; //пропустить свой транспорт
			if(VehInfo[vid][cDate] == getdate()) continue;//пропускаем купленные сегодня
			if(VehicleArray[modelid-400][Category] == Motorcycle && PlayerInfo[playerid][pBikeLic] != 1) continue;//пропускаем мотоциклы если нет лицки
    		if(VehicleArray[modelid-400][Category] == Airplane && PlayerInfo[playerid][pFlyLic] != 1) continue;
			if(VehicleArray[modelid-400][Category] == Boats) continue;
			if(VehicleArray[modelid-400][Category] == Bicycle) continue;//пропускам велики
			if(VehicleArray[modelid-400][Category] == Trailers) continue;
			//if(VehicleArray[modelid-400][Category] == Public_Service) continue;
			//if(VehicleArray[modelid-400][Category] == State_Transport) continue;//пропускаем боевой транспорт
			if(modelid == 407 || modelid == 425 || modelid == 432 || modelid == 447 || modelid == 476 ||modelid == 520 || modelid == 564) continue;
			if(GetDistanceToCar(playerid, vid) >= 6.0) continue;//пропускаем тачки которые дальше 6 метров

			if(VehInfo[vid][cLock] == 11 && PlayerInfo[playerid][pJackSkill] >= 400)
			{   //если чужая машина закрыта и на ней есть противоугонка
				carid = vid;//LastCar[playerid];
				useVehicleKey = 1;
				break;
			}
			//else if(VehInfo[vid][cLock] == 1)
			else if(VehInfo[vid][cLock] == 0 || VehInfo[vid][cLock] == 1 || VehInfo[vid][cLock] == 10)
			{   //если чужая машина закрыта и на ней нет противоугонки
				carid = vid;//LastCar[playerid];
				useVehicleKey = 1;
				break;
			}
			/*else if(VehInfo[vid][cLock] == 0 || VehInfo[vid][cLock] == 10)
			{   //если чужая машина не закрыта
				SendClientMessage(playerid, COLOR_LIGHTBLUE, "Транспорт открыт !!!");
				return 1;
			}*/
		}
		//----------------------------------------------------------------------
		if(carid != 0)
			//VehInfo[carid][cLock] == 1 || (VehInfo[carid][cLock] == 11 && PlayerInfo[playerid][pJackSkill] >= 400) )//если флаг gCarLock поднят - двери заблокированы
		{
			if( GetSeatVehiclePlayer(carid, 0) != INVALID_PLAYER_ID && GetSeatVehiclePlayer(carid, 0) != playerid)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы не можете взламать замок, когда сидит водитель.");
				return 1;
			}
			if(useVehicleKey == 1) GivePVarInt(playerid, "SkeletonKey", -1);//отняли отмычку во всех случаях

			KillTimer(gRobCountdown[playerid]); gRobCountdown[playerid] = -1;
			gRobCountdown[playerid] = SetTimerEx("RobCountdown", 1000, 1, "id", playerid, carid);
			//ClearAnimations(playerid);
			//SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);

			//////ApplyAnimation(playerid,"SHOP","SHP_Serve_Loop",4.1,0,1,1,1,1);
			////ApplyAnimation(playerid, "CASINO","Slot_wait",4.1,1,0,0,0,0,1);
			//ApplyAnimation(playerid, "SHOP","SHP_Serve_Loop",4.1,1,0,0,0,0,1);

			SetPlayerAttachedObject(playerid, BAG_SLOT, 18644, Right_hand, 0.085414,0.031325,0.012795, 0.000000,170.505798,0.182891, 1.001180,1.003389,1.062038 );
			//ApplyAnimation(playerid, "SILENCED", "Silence_reload", 6.0, 1, 0, 0, 0, 0, 1);
			//ApplyAnimation(playerid, "SILENCED", "Silence_reload", 6.0,1,0,0,1,60000);//фризим на 60 секунд
			//ApplyAnimation(playerid, "SILENCED", "CrouchReload", 4.1, 0, 1, 1, 1, 1, 1);
			ApplyAnimation(playerid, "SILENCED", "CrouchReload", 4.0, 1, 0, 0, 0, 0);
			//ClearAnimations(playerid, 1);

			WantedPoints[playerid] += 3;
			giveplayerid = ReturnUser(VehInfo[carid][cOwner]);
			new strtmp[64];
			format(strtmp, sizeof(strtmp), " Угон транспортного средства [%d]", carid);//nCarID[playerid]
			SetPlayerCriminal(DoT, playerid, giveplayerid, strtmp);
			SendTeamMessage(DoT, COLOR_DARKTURQUOISE, "   USE: /pdd [19] [1-2] [playerid/PartOfName]");
			SendTeamMessage(DoT, COLOR_DARKTURQUOISE, "   У вас есть 60 секунд, чтобы остановить нарушителя!");

			if(CarStatus[carid][st_alarm] == VEHICLE_PARAMS_OFF)
			{
				SetVehicleParams(carid,playerid,
					CarStatus[carid][st_engine],
					CarStatus[carid][st_lights],
					VEHICLE_PARAMS_ON,
					CarStatus[carid][st_doors],
					CarStatus[carid][st_bonnet],
					CarStatus[carid][st_boot],
					CarStatus[carid][st_objective]);
			}
			//CP[playerid] = 50;
		}
		else //if(carid == 0)
		{//если рядом нету тачки что можно взломать, то показать где она есть
			SendClientMessage(playerid, COLOR_GREY, "   В пределах радара нету транспорта, что можно взломать.");
			for(vid = 1; vid<=GetMaxVehicles; vid++)
			{
				modelid = VehInfo[vid][cModel];//GetVehicleModel(vid);
				if(modelid < 400) continue;
				if(VehInfo[vid][cPark] != 0) continue;//пропускаем запаркованные
				if(VehInfo[vid][cType] < 1000) continue;//пропускаем халявные
				if(GetVehicleSpeed(vid) > 1) continue;//пропускаем движущиеся
				if( GetSeatVehiclePlayer(vid, 0) != INVALID_PLAYER_ID) continue;//пропускаем не пустые
				if(VehInfo[vid][cOwned] == PlayerInfo[playerid][pSQLID]) continue; //пропустить свой транспорт
				if(VehInfo[vid][cDate] == getdate()) continue;//пропускаем купленные сегодня
				if(VehicleArray[modelid-400][Category] == Motorcycle && PlayerInfo[playerid][pBikeLic] != 1) continue;//пропускаем мотоциклы если нет лицки
	    		if(VehicleArray[modelid-400][Category] == Airplane && PlayerInfo[playerid][pFlyLic] != 1) continue;
				if(VehicleArray[modelid-400][Category] == Boats) continue;//пропускам лодки
				if(VehicleArray[modelid-400][Category] == Bicycle) continue;//пропускам велики
				if(VehicleArray[modelid-400][Category] == Trailers) continue;
				//if(VehicleArray[modelid-400][Category] == Public_Service) continue;
				//if(VehicleArray[modelid-400][Category] == State_Transport) continue;//пропускаем боевой транспорт
				if(modelid == 407 || modelid == 425 || modelid == 432 || modelid == 447 || modelid == 476 ||modelid == 520 || modelid == 564) continue;
				if(VehInfo[vid][cLocZ] <= 0.1) continue;//пропускаем вводе
				if(PlayerInfo[playerid][pJackSkill] < 400 && (VehInfo[vid][cLock] == 0 || VehInfo[vid][cLock] == 10)) continue;

                if(VehInfo[vid][cLock] == 11 && PlayerInfo[playerid][pJackSkill] >= 400)
                {
					carid = vid;
					break;
                }
               	else if(VehInfo[vid][cLock] == 0 || VehInfo[vid][cLock] == 1 || VehInfo[vid][cLock] == 10)
               	{
   					carid = vid;
					break;
                }
			}
			if(carid != 0)
			{
				new sRegion[20], sRegion_ru[32];//17+2+20
				for(new j=0; j<MAX_TURFS; j++)
				{
					if(IsVehicleInZone(carid, j))
					{
						strmid(sRegion, regions[j][region_name], 0, strlen(regions[j][region_name]), 20);
						strmid(sRegion_ru, regions[j][region_RUS_name], 0, strlen(regions[j][region_RUS_name]), 32);
					}
				}
				//new strtmp[146];//59+32+3+20+32 = 146
				format(strcmd, sizeof(strcmd), "Ищите {FFFFFF}%s[%d]{0080FF} в районе {FFFFFF}%s(%s)",
					VehicleArray[modelid-400][Vehicle_Name], carid, sRegion, sRegion_ru);//nCarID[playerid]
				SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			}
			else SendClientMessage(playerid, COLOR_GREY, "   За пределами радара нету транспорта, что можно взломать.");
			return 1;
		}
		/*if( VehicleArray[VehInfo[carid][cModel]-400][Category] == Boats )
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот транспорт не подлежит угону.");
			return 1;
		}*/
		//----------------------------------------------------------------------
		//для противоугона свеже купленной тачки
		//new temp = getdate();
		/*if(VehInfo[carid][cDate] == getdate())
		{   //если это тачка куплена сегодня
			SendClientMessage(playerid, COLOR_GREY, "   Сегодня Вы не можете взламать замок этой тачки.");
			return 1;
		}*/
		//return 1;
	}
	else if(!strcmp(cmd, "/showparking", true))//для скупщиков
	{
        if(PlayerInfo[playerid][pJob] != AUTOBUYER)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы - не Скупщик Авто !");
		    return 1;
		}

		/*new ToBase[69+24+2+2];
		//format(ToBase, sizeof(ToBase), "SELECT `ID` FROM `sbizz` WHERE `Owner`='%s' AND `ID`>%d AND `ID`<=%d",
		//	PlayerName(playerid), PARKING, PARKING+sizeof(Parking));//PARKING = 40 //sizeof(Parking) = 11
		format(ToBase, sizeof(ToBase), "SELECT `ID` FROM `sbizz` WHERE `Owned`=%d AND `ID`>%d AND `ID`<=%d LIMIT 1",
			PlayerInfo[playerid][pSQLID], PARKING, PARKING+sizeof(Parking));
		mysql_query(ToBase); mysql_store_result();
		if(mysql_num_rows() > 0 && mysql_retrieve_row())
	 	{
	 		new Field[20];
			mysql_fetch_field_row(Field, "ID");	PlayerInfo[playerid][pBizz] = strval(Field)-1+100;
		}
		mysql_free_result();

		//для владения несколькими бизами
		if( PlayerInfo[playerid][pBizz] < (PARKING+100) || PlayerInfo[playerid][pBizz] >= (PARKING+sizeof(Parking)+100))
		{
  		    SendClientMessage(playerid, COLOR_GREY, "   У вас нет автостоянки в паркинге Emerald Isle в Las Venturas !");
			return 1;
		}*/
		new sbouse = NOT_KEY, found;
		for(new limit = 0; limit < 20; limit++)
		{
			if(MyCompany[playerid][limit] == NOT_KEY) continue;
			sbouse = MyCompany[playerid][limit];
			if(sbouse >= PARKING && sbouse < PARKING+sizeof(Parking)) { found = 1; break; }
		}
		if(!found)
		{
  		    SendClientMessage(playerid, COLOR_GREY, "   У вас нет автостоянки в паркинге Emerald Isle в Las Venturas !");
			return 1;
		}

		new sb;
		for(new j = 0; j < sizeof(Parking); j++)
		{
			if(IsPlayerInArea(playerid, Parking[j]))
			{
				sb = PARKING+j;
				break;
			}
		}
		if(PlayerInfo[playerid][pSQLID] != SBizInfo[sb][sbOwned] )
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться на своей автостоянке !");
			return 1;
		}
		new count;
		for(new carid = 1; carid<=GetMaxVehicles; carid++)
		{
			if( VehInfo[carid][cPark] == sb)
			{	//carid != nCarID[playerid] &&
				SetVehiclePosEx(carid, VehInfo[carid][cLocX], VehInfo[carid][cLocY], VehInfo[carid][cLocZ]);
		    	SetVehicleZAngleEx(carid, VehInfo[carid][cAng]);
				UnLockCar(carid);
				GameTextForPlayerEx(playerid, "~w~All Vehicle In ~g~Parking", 5000, 6);
				count++;
			}
		}
		SBizInfo[sb][sbProducts] = count;
	    SendClientMessage(playerid, COLOR_GREY, "   Все тачки возвращены на вашу стоянку и открыты !");
		//return 1;
	}
	else if(!strcmp(cmd, "/saveparking", true))//для скупщиков
	{
        if(PlayerInfo[playerid][pJob] != AUTOBUYER)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы - не Скупщик Авто !");
		    return 1;
		}
		new sbouse = NOT_KEY, found;
		for(new limit = 0; limit < 20; limit++)
		{
			if(MyCompany[playerid][limit] == NOT_KEY) continue;
			sbouse = MyCompany[playerid][limit];
			if(sbouse >= PARKING && sbouse < PARKING+sizeof(Parking)) { found = 1; break; }
		}
		if(!found)
		{
  		    SendClientMessage(playerid, COLOR_GREY, "   У вас нет автостоянки в паркинге Emerald Isle в Las Venturas !");
			return 1;
		}
		new sb;
		for(new j = 0; j < sizeof(Parking); j++)
		{
			if(IsPlayerInArea(playerid, Parking[j]))
			{
				sb = PARKING+j;
				break;
			}
		}
		if(PlayerInfo[playerid][pSQLID] != SBizInfo[sb][sbOwned] )
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться на своей автостоянке !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			format(strcmd, sizeof(strcmd), "USE: /saveparking [carid < %d]", GetMaxVehicles);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		new carid = strval(tmp);
		if(VehInfo[carid][cPark] != sb)//чтобы распарковывать свои тачки
		{   //и это не личная машина
	    	SendClientMessage(playerid, COLOR_GREY, "   Этот транспорт НЕ запаркован на вашей стоянке!");
			return 1;
		}
		//SetVehiclePosEx(carid, VehInfo[carid][cLocX], VehInfo[carid][cLocY], VehInfo[carid][cLocZ]+0.1);
    	//SetVehicleZAngleEx(carid, VehInfo[carid][cAng]);

    	UnLockCar(carid);
		SaveCarParameters(carid);
		GameTextForPlayerEx(playerid, "~w~Vehicle ~g~Saved", 5000, 6);
		//return 1;
	}
	else if(!strcmp(cmd, "/parking", true))
	{
       	if(!IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться в транспортном средстве!");
			return 1;
		}
		if(CurState[playerid] != PLAYER_STATE_DRIVER)
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться за рулём транспортного средства!");
			return 1;
		}
		OnPlayerKeyParking(playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/unparking", true))
	{
       	if(IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться ВНЕ транспортного средства!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			format(strcmd, sizeof(strcmd), "USE: /unparking [carid < %d]", GetMaxVehicles);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
			return 1;
		}
		new	carid = strval(tmp);
		if(carid < 1 || carid > GetMaxVehicles)
		{
			format(strcmd, sizeof(strcmd), "USE: /unparking [carid < %d]", GetMaxVehicles);
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
		    return 1;
		}
		/*if(GetDistanceToCar(playerid, carid) > 30.0)
		  )
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы слишком далеко от Транспортного Средства или от места парковки!");
		    return 1;
		}*/
		if(VehInfo[carid][cOwned] > 0 &&
			PlayerInfo[playerid][pSQLID] != VehInfo[carid][cOwned]
			//strcmp(VehInfo[carid][cOwner], PlayerName(playerid), true)
		 )
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Это Транспортное Средство не принадлежит Вам!");
		    return 1;
		}
		if(VehInfo[carid][cPark] == 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Ваш транспорт НЕ запаркован !");
			return 1;
		}
		if(VehInfo[carid][cPark] == 2 && !IsPlayerInArea(playerid, specialzone[12]))//свалка scramble)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Ваш транспорт находится на Свалке (USE: /gps 1031)!");
			return 1;
		}
//для владения несколькими бизами
		if(PlayerInfo[playerid][pJob] == AUTOBUYER && PlayerInfo[playerid][pBizz] >= 100+PARKING && PlayerInfo[playerid][pBizz] < 100+PARKING+sizeof(Parking))
		{   //для скупщиков//скупщик не должен распарковывать тачки не принадлежащие его парковке
			if(VehInfo[carid][cPark] != PlayerInfo[playerid][pBizz]-100
				 && carid != MyCar[playerid][0] && carid != MyCar[playerid][1] && carid != MyCar[playerid][2])//чтобы распарковывать свои тачки
			{   //и это не личная машина
		    	SendClientMessage(playerid, COLOR_GREY, "   Этот транспорт НЕ запаркован на вашей стоянке!");
				return 1;
			}
		}
		else
		{
			if(VehInfo[carid][cPark] >= PARKING)
			{   //и это не личная машина
				format(strcmd, sizeof(strcmd), "   Этот транспорт запаркован по автостоянке: %s[%d]", SBizInfo[ VehInfo[carid][cPark] ][sbDiscription], VehInfo[carid][cPark]);
		    	SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
			}
		}

		if(SBizInfo[5][sbProducts] <= 0 && !gRealWar)
		{
			GameTextForPlayerEx(playerid, "~r~Out Of Stock in ~p~Car Delivery", 5000, 1);
	    	PlaySoundForPlayer(playerid, SOUND_BASEBALL_BAT_HIT_PED);
			return 1;
		}

	    VehInfo[carid][cPark] = 0;
		SetVehiclePosEx(carid, VehInfo[carid][cLocX], VehInfo[carid][cLocY], VehInfo[carid][cLocZ]);
    	SetVehicleZAngleEx(carid, VehInfo[carid][cAng]);
    	SetVehicleHealthEx(playerid, carid, VehInfo[carid][cHealth]);

		if(PlayerInfo[playerid][pLevel] > 1)
		{
			GameTextForPlayerEx(playerid, "~w~Vehicle ~g~UnParking", 1000, 1);
		}
		else
		{
			GameTextForPlayerEx(playerid, "~w~Vehicle ~g~UnParking", 1000, 1);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/lock", true))
	{
		OnPlayerLockCar(playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/switchkey", true))
	{   //для переключения ключиков с домашнего авто на ренткар
		if(HireCarID[playerid] == MAX_VEHICLES-1)
		{   //если у игрока нет рент кара
			SendClientMessage(playerid, COLOR_GREY, "   У вас нет ключей от прокатного автомобиля.");
			return 1;
		}
		if(GetPVarInt(playerid, "gSwitchKey") == 0)
		{
			if(HireCarID[playerid] < MAX_VEHICLES-1)
			{   //если у вас есть автомобиль проката
				SetPVarInt(playerid, "gSwitchKey", 2);//то переключиться на автомобиль проката
				GameTextForPlayerEx(playerid, "~w~You control now your ~n~~y~Rent Car", 5000, 6);
			}
			else
			{
				SetPVarInt(playerid, "gSwitchKey", 0);
				GameTextForPlayerEx(playerid, "~w~You control now your ~n~~y~Buy Car", 5000, 6);
			}
		}
		else if(GetPVarInt(playerid, "gSwitchKey") == 1)
		{
			if(HireCarID[playerid] < MAX_VEHICLES-1)
			{   //если у вас есть автомобиль проката
				SetPVarInt(playerid, "gSwitchKey", 2);//то переключиться на автомобиль проката
				GameTextForPlayerEx(playerid, "~w~You control now your ~n~~y~Rent Car", 5000, 6);
			}
			else
			{
				SetPVarInt(playerid, "gSwitchKey", 0);
				GameTextForPlayerEx(playerid, "~w~You control now your ~n~~y~Buy Car", 5000, 6);
			}
		}
		else if(GetPVarInt(playerid, "gSwitchKey") == 2)
		{
			SetPVarInt(playerid, "gSwitchKey", 0);
			GameTextForPlayerEx(playerid, "~w~You control now your ~n~~y~Buy Car", 5000, 6);
		}
		//return 1;
	}
	/*else if(!strcmp(cmd, "/rentcar", true))
	{
       	if(!IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться в транспортном средстве!");
			return 1;
		}
		if(CurState[playerid] != PLAYER_STATE_DRIVER)
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться за рулём транспортного средства!");
			return 1;
		}
		if( IsInRentCar(nCarID[playerid]) )//SLadd недоделка
		{
			if(HireCarID[playerid] < MAX_VEHICLES-1)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   У вас уже есть арендованный автомобиль (USE: /cancel rentcar)");
				TogglePlayerControllableEx(playerid, 1);
				RemovePlayerFromVehicleEx(playerid);
				return 1;
			}
			for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
			    if( !IsPlayerConnectedEx(i) ) continue;
				if(nCarID[playerid] == HireCarID[i])
			    {
				    format(strcmd, sizeof(strcmd), "RentCarID: %d уже арендован !", nCarID[playerid]);
				    SendClientMessage(playerid, COLOR_GREY, strcmd);
					TogglePlayerControllableEx(playerid, 1);
					RemovePlayerFromVehicleEx(playerid);
					return 1;
			    }
			}
			new hirefee = HireCost(nCarID[playerid]);//получаем цену арендованной тачки
			if(nCarID[playerid] >= RentCar[0] && nCarID[playerid] <= RentCar[2])//SLadd недоделка
			{
				if(SBizInfo[0][sbProducts] <= 0 && !gRealWar)
				{
					GameTextForPlayerEx(playerid, "~r~Out Of Stock in ~p~Car Renting", 5000, 1);
					PlaySoundForPlayer(playerid, SOUND_BASEBALL_BAT_HIT_PED);
					return 1;
				}
				//для владения несколькими бизами
				if(PlayerInfo[playerid][pBizz] == (0+100) )
				{
					GameTextForPlayerEx(playerid, "~w~No charge for the boss", 5000, 3);//Бесплатно для босса
					TogglePlayerControllableEx(playerid, 1);
					return 1;
				}
				if(GetPlayerMoneyH(playerid) < SBizInfo[0][sbEntranceCost])
				{
					SendClientMessage(playerid, COLOR_GREY, "   У вас нет столько наличных для этого !");
					return 1;
				}
				//new hirefee = HireCost(GetPlayerVehicleID(playerid));//получаем цену арендованной тачки
				if(SBizInfo[0][sbOwned] == 0)
				{   //если нет владельца то просто перечислить в биз цену тачки
					GivePlayerMoneyH(fsbiz+0, playerid, -hirefee);
					OnGangsExtortionSBiz(0, hirefee);
				}
				else//иначе перечислить в биз установленную стоимость владельцем
				{
					GivePlayerMoneyH(fsbiz+0, playerid, -SBizInfo[0][sbEntranceCost]);
					OnGangsExtortionSBiz(0, SBizInfo[0][sbEntranceCost]);
				}
				SBizInfo[0][sbProducts] --;
			}
			else if(nCarID[playerid] >= RentCar[3] && nCarID[playerid] <= RentCar[5])
			{
				if(SBizInfo[1][sbProducts] <= 0 && !gRealWar)
				{
					GameTextForPlayerEx(playerid, "~r~Out Of Stock in ~p~Wang Cars", 5000, 1);
					PlaySoundForPlayer(playerid, SOUND_BASEBALL_BAT_HIT_PED);
					return 1;
				}
				if(PlayerInfo[playerid][pBizz] == (1+100) )
				{
					GameTextForPlayerEx(playerid, "~w~No charge for the boss", 5000, 3);//Бесплатно для босса
					TogglePlayerControllableEx(playerid, 1);
					return 1;
				}
				if(GetPlayerMoneyH(playerid) < SBizInfo[1][sbEntranceCost])
				{
					SendClientMessage(playerid, COLOR_GREY, "   У вас нет столько наличных для этого !");
					return 1;
				}
				if(SBizInfo[1][sbOwned] == 0)
				{
					GivePlayerMoneyH(fsbiz+1, playerid, -hirefee);
					OnGangsExtortionSBiz(1, hirefee);
				}
				else
				{
					GivePlayerMoneyH(fsbiz+1, playerid, -SBizInfo[1][sbEntranceCost]);
					OnGangsExtortionSBiz(1, SBizInfo[1][sbEntranceCost]);
				}
				//GivePlayerMoneyH(1, playerid, hirefee);
				//SBizInfo[1][sbTill] += hirefee;
				SBizInfo[1][sbProducts] --;
			}
			//--------------------------------------------------------------
			//для картингов
			else if(nCarID[playerid] >= RentCar[6] && nCarID[playerid] <= RentCar[11])
			{
				if(SBizInfo[11][sbProducts] <= 0 && !gRealWar)
				{
					GameTextForPlayerEx(playerid, "~r~Out Of Stock in ~p~Kart Track", 5000, 1);
					PlaySoundForPlayer(playerid, SOUND_BASEBALL_BAT_HIT_PED);
					return 1;
				}
				if(PlayerInfo[playerid][pBizz] == (11+100) )
				{
					GameTextForPlayerEx(playerid, "~w~No charge for the boss", 5000, 3);//Бесплатно для босса
					TogglePlayerControllableEx(playerid, 1);
					return 1;
				}
				if(GetPlayerMoneyH(playerid) < SBizInfo[11][sbEntranceCost])
				{
					SendClientMessage(playerid, COLOR_GREY, "   У вас нет столько наличных для этого !");
					return 1;
				}
				if(SBizInfo[11][sbOwned] == 0)
				{
					GivePlayerMoneyH(fsbiz+11, playerid, -hirefee);
					OnGangsExtortionSBiz(11, -hirefee);
				}
				else
				{
					GivePlayerMoneyH(fsbiz+11, playerid, -SBizInfo[11][sbEntranceCost]);
					OnGangsExtortionSBiz(11, SBizInfo[11][sbEntranceCost]);
				}
				SBizInfo[11][sbProducts] --;
			}
			//--------------------------------------------------------------
			HireCarID[playerid] = nCarID[playerid];
			//записать в переменную HireCarID ID машины и больше ни где не перезаписывать её
			TogglePlayerControllableEx(playerid, 1);
		}
		//return 1;
	}*/
	else if(!strcmp(cmd, "/oldcar", true))
	{
	    format(strcmd, sizeof(strcmd), "Your LastCar: %d, CurrentCar: %d", LastCar[playerid], GetPlayerVehicleID(playerid));
	    SendClientMessage(playerid, COLOR_GREY, strcmd);
		//return 1;
	}
	//==========================================================================
	//JOB COMMANDS
	//==========================================================================
	else if(!strcmp(cmd, "/quitjob", true))
	{
	    if(PlayerInfo[playerid][pJob] <= 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы безработный !");
			return 1;
		}
        if(	PlayerInfo[playerid][pAccount] != 0 ||
			PlayerInfo[playerid][pJob] == MINER ||
			PlayerInfo[playerid][pJob] == FARMER ||
			PlayerInfo[playerid][pJob] == BOOKMAKER ||
			PlayerInfo[playerid][pJob] == LOADER  ||
			PlayerInfo[playerid][pJob] == WOODSMAN  ||
			PlayerInfo[playerid][pJob] == FISHER  ||
			PlayerInfo[playerid][pJob] == COOKER)
        {
        	QuitJob(playerid);
		    SendClientMessage(playerid, COLOR_GREEN, "* Вы покинули работу.");
        }
        else
        {
			if(PlayerInfo[playerid][pContractTime] >= 2)
			{
			    //InviteList(MAX_PLAYERS-1, PlayerName(playerid), PlayerInfo[playerid][pJob], PlayerInfo[playerid][pContractTime], 0);
				QuitJob(playerid);
			    SendClientMessage(playerid, COLOR_GREEN, "* Вы отработали >2 часов по контракту и ушли с работы.");
			}
			else
			{
			    new chours = 2 - PlayerInfo[playerid][pContractTime];
			    format(strcmd, sizeof(strcmd), "* Вам осталось %d час(ов)а до окончания вашего контракта.", chours);
				SendClientMessage(playerid, COLOR_GREEN, strcmd);
				return 1;
			}
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/skill", true))
	{
		SkillInfo(playerid);
		//return 1;
	}
	/*else if(!strcmp(cmd, "/buylevel", true))
	{
		//BuyLevel(playerid);
		//return 1;
	}*/
	else if(!strcmp(cmd, "/upgrade", true))
	{
		PlayerUpgrade(playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/records", true))
	{
		Records(playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/dutylist", true))
	{
		DutyList(playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/duty", true))
	{
		if(	//!IsAgentCID(playerid) &&
			//PlayerInfo[playerid][pLeader] == 0 &&
			//PlayerInfo[playerid][pLeader] != 5 &&
			//PlayerInfo[playerid][pLeader] != 6 &&
			PlayerInfo[playerid][pAdmin] != 6 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}

		if(gOnDuty[playerid] == 0)
		{
			if(PlayerInfo[playerid][pMember] == DoT)//IsACop(playerid)
			{
				SetPlayerSkinEx(playerid, PlayerInfo[playerid][pChar]);
				TogglePlayerControllableEx(playerid, 1);
				gOnDuty[playerid] = 1;
		    	format(strcmd, sizeof(strcmd), "* Инспектор ДПС %s получил Оружие.", PlayerName(playerid));
				ProxDetector(playerid, 30.0, strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
				OnPlayerSetDutyWeapons(playerid);//запускаем ф-ию установки членам фракций оружия при спауне,
			}
			if(PlayerInfo[playerid][pMember] == FBI)//IsACop(playerid)
			{
				SetPlayerSkinEx(playerid, PlayerInfo[playerid][pChar]);
				TogglePlayerControllableEx(playerid, 1);
				gOnDuty[playerid] = 1;
		    	format(strcmd, sizeof(strcmd), "* Агент ФБР %s получил Оружие.", PlayerName(playerid));
				ProxDetector(playerid, 30.0, strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
				OnPlayerSetDutyWeapons(playerid);//запускаем ф-ию установки членам фракций оружия при спауне,
			}
			if(PlayerInfo[playerid][pMember] == DoD)
			{
				SetPlayerSkinEx(playerid, PlayerInfo[playerid][pChar]);
				gOnDuty[playerid] = 1;
				MilitaryCounter ++;
				FamilyInfo[DoD][fMaterial] --;
		    	format(strcmd, sizeof(strcmd), "%s получил Оружие.", PlayerName(playerid));
				ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
				OnPlayerSetDutyWeapons(playerid);//запускаем ф-ию установки членам фракций оружия при спауне,
			}
			else if(PlayerInfo[playerid][pMember] == DoH)
			{
		        //SendClientMessage(playerid, COLOR_ORANGE, "   Вы теперь на Дежурстве вашей Медицинской Службы и получаете вызовы от нуждающихся людей.");
				SetPlayerSkinEx(playerid, PlayerInfo[playerid][pChar]);
		        gOnDuty[playerid] = 1;
		        MedicCounter ++;
				OnPlayerSetDutyWeapons(playerid);
   				format(strcmd, sizeof(strcmd), "Mедик {FFFFFF}%s[%d]", PlayerName(playerid), playerid);
   				SendClientMessage(playerid, COLOR_MAUVE, strcmd);
				new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
				//format(strcmd, sizeof(strcmd), "{AFAFAF}[%d:%02d:%02d] {FF00FF}%s\n", lH,lM,lS, strcmd);
				//SetPVarString(playerid, "dutylist", strcmd);
				format(dutylist[playerid], sizeof(dutylist), "{AFAFAF}[%d:%02d:%02d] {FF00FF}%s\n", lH,lM,lS, strcmd);
				//strmid(dutylist[playerid], strcmd, 0, 70, 255);
			}
			else if(PlayerInfo[playerid][pMember] == DoJ)
			{
		    	/*PlayerInfo[playerid][pTeam] = 1;*/
				if(PlayerInfo[playerid][pSex] == Male)
				{
					if(PlayerInfo[playerid][pRank] == 1) PlayerInfo[playerid][pChar] = 163;//217
					else if(PlayerInfo[playerid][pRank] == 2) PlayerInfo[playerid][pChar] = 17;//217
					else if(PlayerInfo[playerid][pRank] == 3) PlayerInfo[playerid][pChar] = 17;
					else if(PlayerInfo[playerid][pRank] == 4) PlayerInfo[playerid][pChar] = 163;
					else if(PlayerInfo[playerid][pRank] == 5) PlayerInfo[playerid][pChar] = 17;
					else if(PlayerInfo[playerid][pRank] == 6) PlayerInfo[playerid][pChar] = 57;
					else if(PlayerInfo[playerid][pRank] == 7) PlayerInfo[playerid][pChar] = 57;
					else if(PlayerInfo[playerid][pRank] == 8) PlayerInfo[playerid][pChar] = 57;
					else if(PlayerInfo[playerid][pRank] == 9) PlayerInfo[playerid][pChar] = 295;//166
					else if(PlayerInfo[playerid][pRank] == 10) PlayerInfo[playerid][pChar] = 295;
					else if(PlayerInfo[playerid][pRank] == 11) PlayerInfo[playerid][pChar] = 295;
					else if(PlayerInfo[playerid][pRank] == 12) PlayerInfo[playerid][pChar] = 147;
					else PlayerInfo[playerid][pChar] = 163;
				}
				SetPlayerSkinEx(playerid, PlayerInfo[playerid][pChar]);
		        SendClientMessage(playerid, COLOR_ORANGE, "   Вы теперь на Дежурстве.");
		        gOnDuty[playerid] = 1;
		        //MedicCounter ++;
				OnPlayerSetDutyWeapons(playerid);

   				format(strcmd, sizeof(strcmd), "Член правительства {FFFFFF}%s[%d]", PlayerName(playerid), playerid);
   				SendClientMessage(playerid, COLOR_MAUVE, strcmd);
				new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
				//format(strcmd, sizeof(strcmd), "{AFAFAF}[%d:%02d:%02d] {FF00FF}%s\n", lH,lM,lS, strcmd);
				//SetPVarString(playerid, "dutylist", strcmd);
				format(dutylist[playerid], sizeof(dutylist), "{AFAFAF}[%d:%02d:%02d] {FF00FF}%s\n", lH,lM,lS, strcmd);
				//strmid(dutylist[playerid], strcmd, 0, 70, 255);
			}
			else if(PlayerInfo[playerid][pMember] == SAN)
			{
				SetPlayerSkinEx(playerid, PlayerInfo[playerid][pChar]);
		        gOnDuty[playerid] = 1;
				OnPlayerSetDutyWeapons(playerid);
  				format(strcmd, sizeof(strcmd), "Репортёр {FFFFFF}%s[%d]", PlayerName(playerid), playerid);
				SendClientMessage(playerid, COLOR_GOLDEN, strcmd);
				new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
				//format(strcmd, sizeof(strcmd), "{AFAFAF}[%d:%02d:%02d] {FFCC00}%s\n", lH,lM,lS, strcmd);
				//SetPVarString(playerid, "dutylist", strcmd);
				format(dutylist[playerid], sizeof(dutylist), "{AFAFAF}[%d:%02d:%02d] {FFCC00}%s\n", lH,lM,lS, strcmd);
			}
			else if(PlayerInfo[playerid][pMember] == DoE)
			{
				SetPlayerSkinEx(playerid, PlayerInfo[playerid][pChar]);
		        gOnDuty[playerid] = 1;
				//OnPlayerSetDutyWeapons(playerid);
  				format(strcmd, sizeof(strcmd), "Инструктор {FFFFFF}%s[%d]", PlayerName(playerid), playerid);
				SendClientMessage(playerid, COLOR_GOLDEN, strcmd);
				new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
				//format(strcmd, sizeof(strcmd), "{AFAFAF}[%d:%02d:%02d] {FFCC99}%s\n", lH,lM,lS, strcmd);
				//SetPVarString(playerid, "dutylist", strcmd);
				format(dutylist[playerid], sizeof(dutylist), "{AFAFAF}[%d:%02d:%02d] {FFCC99}%s\n", lH,lM,lS, strcmd);
			}
		}
		else if(gOnDuty[playerid] == 1)
		{
			if(IsACop(playerid))
			{
				//SetPlayerSkinEx(playerid, PlayerInfo[playerid][pModel]);
				ResetPlayerWeaponsEx(playerid);
				gOnDuty[playerid] = 2;
				TogglePlayerControllableEx(playerid, 1);
				format(strcmd, sizeof(strcmd), "* Офицер %s сдал Оружие.", PlayerName(playerid));
				ProxDetector(playerid, 30.0, strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
				//DeletePVar(playerid, "dutylist");
			}
			else if(PlayerInfo[playerid][pMember] == DoD)
			{
				//SetPlayerSkinEx(playerid, PlayerInfo[playerid][pModel]);
				ResetPlayerWeaponsEx(playerid);
				SetPlayerArmourEx(playerid, 0.0);//armour
				gOnDuty[playerid] = 2;
				//MilitaryCounter --;
				//gJobDuty[playerid] = 0;
				//FamilyInfo[DoD][fMaterial] ++;
				format(strcmd, sizeof(strcmd), "%s сдал Оружие.", PlayerName(playerid));
				ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
				//DeletePVar(playerid, "dutylist");
			}
			else if(PlayerInfo[playerid][pMember] == DoH)
			{
				SetPlayerSkinEx(playerid, PlayerInfo[playerid][pModel]);
		        SendClientMessage(playerid, COLOR_ORANGE, "   Вы теперь Не на Дежурстве вашей Медицинской Службы и не получаете вызовы больше.");
		        gOnDuty[playerid] = 0;//	gOnDuty[playerid] = 1;
		        MedicCounter --;
				//DeletePVar(playerid, "dutylist");
				strdel(dutylist[playerid], 0, sizeof(dutylist));
			}
			else if(PlayerInfo[playerid][pMember] == DoJ)
			{
		    	/*PlayerInfo[playerid][pTeam] = 3;*/
		        SendClientMessage(playerid, COLOR_ORANGE, "   Вы теперь Не на Дежурстве.");
		        gOnDuty[playerid] = 0;
  				SetPlayerSkinEx(playerid, PlayerInfo[playerid][pModel]);
  				//DeletePVar(playerid, "dutylist");
			}
			else if(PlayerInfo[playerid][pMember] == SAN)
			{
				SetPlayerSkinEx(playerid, PlayerInfo[playerid][pModel]);
		        SendClientMessage(playerid, COLOR_ORANGE, "   Вы теперь Не на Дежурстве Агентства Новостей.");
		        gOnDuty[playerid] = 0;
				//DeletePVar(playerid, "dutylist");
				strdel(dutylist[playerid], 0, sizeof(dutylist));
			}
			else if(PlayerInfo[playerid][pMember] == DoE)
			{
				SetPlayerSkinEx(playerid, PlayerInfo[playerid][pModel]);
		        SendClientMessage(playerid, COLOR_ORANGE, "   Вы теперь Не на Дежурстве.");
		        gOnDuty[playerid] = 0;
				//DeletePVar(playerid, "dutylist");
				strdel(dutylist[playerid], 0, sizeof(dutylist));
			}
		}
		else if(gOnDuty[playerid] == 2)
		{
			if(IsACop(playerid))
			{
				SetPlayerSkinEx(playerid, PlayerInfo[playerid][pModel]);
				//ResetPlayerWeaponsEx(playerid);
				gOnDuty[playerid] = 0;
				TogglePlayerControllableEx(playerid, 1);
				format(strcmd, sizeof(strcmd), "* Офицер %s сдал Дежурство.", PlayerName(playerid));
				ProxDetector(playerid, 30.0, strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
				//DeletePVar(playerid, "dutylist");
			}
			else if(PlayerInfo[playerid][pMember] == DoD)
			{
				SetPlayerSkinEx(playerid, PlayerInfo[playerid][pModel]);
				//ResetPlayerWeaponsEx(playerid);
				SetPlayerArmourEx(playerid, 0.0);//armour
				gOnDuty[playerid] = 0;
				MilitaryCounter --;
				gJobDuty[playerid] = 0;
				FamilyInfo[DoD][fMaterial] ++;
				format(strcmd, sizeof(strcmd), "%s сдал Дежурство.", PlayerName(playerid));
				ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
				//DeletePVar(playerid, "dutylist");
			}
		}

	    if(gJobDuty[playerid] == 0)
	    {
			if(PlayerInfo[playerid][pJob] == ROADWORKER)//для ремонтников
			{
		        //SendClientMessage(playerid, COLOR_ORANGE, "   Вы теперь на Дежурстве вашей АвтоРемонтной Службы и получаете вызовы от нуждающихся людей.");
		        gJobDuty[playerid] = 1;
		        //RoadWorkerCounter += 1;
   				format(strcmd, sizeof(strcmd), "Дорожный ремонтник {FFFFFF}%s[%d]", PlayerName(playerid), playerid);
   				//JobNews(COLOR_ORANGE,strcmd);
				SendClientMessage(playerid, COLOR_ORANGE, strcmd);
				new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
				//format(strcmd, sizeof(strcmd), "{AFAFAF}[%d:%02d:%02d] {B8860B}%s\n", lH,lM,lS, strcmd);
				//SetPVarString(playerid, "dutylist", strcmd);
				format(dutylist[playerid], sizeof(dutylist), "{AFAFAF}[%d:%02d:%02d] {B8860B}%s\n", lH,lM,lS, strcmd);
			}
			else if(PlayerInfo[playerid][pJob] == CARMECHANIC)
			{
		        //SendClientMessage(playerid, COLOR_ORANGE, "   Вы теперь на Дежурстве вашей АвтоРемонтной Службы и получаете вызовы от нуждающихся людей.");
		        gJobDuty[playerid] = 1;
		        MechanicsCounter += 1;
   				format(strcmd, sizeof(strcmd), "Mеханик {FFFFFF}%s[%d]", PlayerName(playerid), playerid);
   				//JobNews(COLOR_ORANGE,strcmd);
   				SendClientMessage(playerid, COLOR_ORANGE, strcmd);
				new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
				//format(strcmd, sizeof(strcmd), "{AFAFAF}[%d:%02d:%02d] {FFCC00}%s\n", lH,lM,lS, strcmd);
				//SetPVarString(playerid, "dutylist", strcmd);
				format(dutylist[playerid], sizeof(dutylist), "{AFAFAF}[%d:%02d:%02d] {FFCC00}%s\n", lH,lM,lS, strcmd);
			}
			else if(PlayerInfo[playerid][pJob] == TAXIDRIVER)
			{
		        gJobDuty[playerid] = 1;
		        TaxiDriversCounter += 1;
				TransportValue[playerid] = TaxiValue;
   				format(strcmd, sizeof(strcmd), "Tаксист {FFFFFF}%s[%d]. Плата за проезд: $%d.",
				   PlayerName(playerid), playerid, TransportValue[playerid]);
				SendClientMessage(playerid, COLOR_ORANGE, strcmd);
				new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
				//format(strcmd, sizeof(strcmd), "{AFAFAF}[%d:%02d:%02d] {FF6600}%s\n", lH,lM,lS, strcmd);
				//SetPVarString(playerid, "dutylist", strcmd);
				format(dutylist[playerid], sizeof(dutylist), "{AFAFAF}[%d:%02d:%02d] {FF6600}%s\n", lH,lM,lS, strcmd);
			}
	    }
	    else //if(gJobDuty[playerid] == 1)
	    {
			if(PlayerInfo[playerid][pJob] == ROADWORKER)//для ремонтников
			{
		        SendClientMessage(playerid, COLOR_ORANGE, "   Вы теперь Не на Дежурстве вашей Дорожной Службы и не получаете вызовы больше.");
		        gJobDuty[playerid] = 0;
		        //RoadWorkerCounter -= 1;
				//DeletePVar(playerid, "dutylist");
				strdel(dutylist[playerid], 0, sizeof(dutylist));
			}
			else if(PlayerInfo[playerid][pJob] == CARMECHANIC)
			{
		        SendClientMessage(playerid, COLOR_ORANGE, "   Вы теперь Не на Дежурстве вашей АвтоРемонтной Службы и не получаете вызовы больше.");
		        gJobDuty[playerid] = 0;
		        MechanicsCounter -= 1;
				//DeletePVar(playerid, "dutylist");
				strdel(dutylist[playerid], 0, sizeof(dutylist));
			}
			else if(PlayerInfo[playerid][pJob] == TAXIDRIVER)
			{
		        SendClientMessage(playerid, COLOR_ORANGE, "   Вы теперь Не на Дежурстве вашей Службы и не получаете вызовы больше.");
		        gJobDuty[playerid] = 0;
				TransportValue[playerid] = 0;//цена за проезд на такси
				TransportEarning[playerid] = 0;//полная выручка таксиста и автобуса
		        TaxiDriversCounter -= 1;
				//DeletePVar(playerid, "dutylist");
				strdel(dutylist[playerid], 0, sizeof(dutylist));
			}
	    }
		//return 1;
	}
	//--------------------------------------------------------------------------
    else if(!strcmp(cmd, "/find", true))//для детективов
	{
	    if(PlayerInfo[playerid][pGPS] == 0)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   У вас отсутствует GPS-Навигатор !");
			return 1;
	    }
		if(	!IsACop(playerid) &&
			PlayerInfo[playerid][pMember] != DoD &&
			PlayerInfo[playerid][pMember] != DoJ &&
			PlayerInfo[playerid][pMember] != Hitman &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		if(CP[playerid] != 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете в данный момент воспользоваться поисковой системой !");
			return 1;
		}
       	if(PlayerInfo[playerid][pInt] != 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны находится Не в Интерьере !");
			return 1;
		}
	    if(nCarModel[playerid] == 428 || Offer[playerid] < MAX_PLAYERS-1)
		{   //если игрок в инкассаторской тачке и ему поступило предложение
		    SendClientMessage(playerid, COLOR_GREY, "   Вам пока запрещена данная команда !");
		    return 1;
		}
		if(PlayerInfo[playerid][pJailed] > 0)
		{
			SendClientMessage(playerid,  COLOR_GREY, "   Вам пока запрещена данная команда !");
			return 1;
		}
		if(gTakingLesson[playerid] == 1 || DriveProgress[playerid] > 0)
		{
			SendClientMessage(playerid,  COLOR_GREY, "   Вам пока запрещена данная команда !");
			return 1;
		}
	    tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /find [playerid/PartOfName]");

			if(	IsACop(playerid) )
			{
				if(!gOnDuty[playerid])
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться на дежурстве.");
					return 1;
				}
				if(!gWantedSystem[playerid])
				{
					gWantedSystem[playerid] = 1;
					SendClientMessage(playerid, COLOR_LIGHTBLUE, "Активирован режим розыска.");
					SendClientMessage(playerid, COLOR_GREY, "   Вам не надо вводить ID преступников. Система будет за вас проверять ваш район и искать тех на ком висит статья.");
				}
				else
				{
					SetPlayerMarkerForPlayer(playerid, MarkerToPlayer[playerid], OldPlayerColorMarker[MarkerToPlayer[playerid]]);//COLOR_ALIVE //вернули старый цвет
					MarkerToPlayer[playerid] = MAX_PLAYERS-1;

					gWantedSystem[playerid] = 0;
					SendClientMessage(playerid, COLOR_LIGHTBLUE, "ДеАктивирован режим розыска.");
					SendClientMessage(playerid, COLOR_GREY, "   Вам не надо вводить ID преступников. Система будет за вас проверять ваш район и искать тех на ком висит статья.");
				}
			}
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы не можете Искать самого себя!"); return 1; }
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if( (PlayerInfo[giveplayerid][pMember] == FBI && PlayerInfo[playerid][pMember] != FBI) ||
			(PlayerInfo[giveplayerid][pMember] == Hitman && PlayerInfo[playerid][pMember] != Hitman) )
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете Искать этого человека !");
			return 1;
		}
		if(PlayerInfo[giveplayerid][pInt] != 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Игрок находится в интерьере !");
			return 1;
		}
		if(IsAtHospital(giveplayerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "   Игрок находится в больнице !");
			return 1;
		}
		if(AFK_IdleTime[giveplayerid] >= 3)
		{
	   		SendClientMessage(playerid, COLOR_GREY, "   Игрок находится в AFK !");
		    return 1;
		}
	    new Float:F_x,Float:F_y,Float:F_z;
	    GetPlayerPos(giveplayerid,F_x,F_y,F_z);
		new tcity[20], tregion[20];
		for(new j=0; j<MAX_ZONES; j++)
		{
			if(IsPointInZone(F_x,F_y,F_z, j))
			{
				strmid(tcity, zones[j][zone_name], 0, strlen(zones[j][zone_name]), 20);
				break;
			}
		}
		for(new j=0; j<MAX_TURFS; j++)
		{
			if( IsPointInRegion(F_x,F_y,F_z, j) )
			{
				strmid(tregion, regions[j][region_name], 0, strlen(regions[j][region_name]), 20);
				break;
			}
		}
		gWantedSystem[playerid] = 0;
		SetPlayerMarkerForPlayerEx(playerid, giveplayerid, COLOR_MAROON);//COLOR_BLUEGREY //COLOR_RED - 0xFF0000FF
		format(strcmd, sizeof(strcmd), "Вы начали поиск %s[%d]. Место: %s[%s]", PlayerName(giveplayerid), giveplayerid, tcity, tregion);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		SendClientMessage(playerid, COLOR_GREY, "   При возникновении его в пределах видимости, он будет показан на радаре бордовым цветом.");
		//return 1;
	}
	//--------------------------------------------------------------------------
	else if(!strcmp(cmd, "/free", true))
	{
	    if(PlayerInfo[playerid][pJob] != 2)//my add  || PlayerInfo[playerid][pAdmin] < 2
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Вы не Адвокат!");
	        return 1;
	    }
		if(PlayerInfo[playerid][pJailed] > 0)
		{
			SendClientMessage(playerid,  COLOR_GREY, "   Вам пока запрещена данная команда !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /free [playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы не можете освободить самого себя!"); return 1; }
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(PlayerInfo[giveplayerid][pJailed] != 10)
		{// || gGotOrder[playerid] == MAX_PLAYERS-1) //PlayerInfo[playerid][pLawSkill] < 400 &&
			SendClientMessage(playerid, COLOR_GREY, "   Игрок Не Заключенный !");// или У Вас нет Разрешения от Военных на освобождение
			//SendClientMessage(playerid, COLOR_GREY, "   Попросите его на КПП военной базы зоны 51 у любого охранника !");
			return 1;
		}
	    if(PlayerInfo[giveplayerid][pJailPrice] <= 0)
	    {
			SendClientMessage(playerid, COLOR_GREY, "   Выход под залог этого игрока невозможен !");
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
		if( !IsPlayerInArea(giveplayerid, specialzone[2]) )//военная база только нижний уровень
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не находится на зоне !");
			return 1;
		}

		new found;
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) ) continue;
			if(PlayerInfo[i][pMember] != DoD) continue;
			if(IsPlayerInArea(i, specialzone[0]))
			{
				found ++;
			}
		}
		//if(!found) return 1;
		if(PlayerInfo[playerid][pLawSkill] < 400 && gGotOrder[playerid] != giveplayerid && found)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   у вас Нет Ордера на выход под залог этого человека !");
			SendClientMessage(playerid, COLOR_GREY, "   Попросите его на КПП военной базы зоны 51 у любого охранника !");
		    return 1;
		}
        if(	GetPlayerMoneyH(giveplayerid) < PlayerInfo[giveplayerid][pJailPrice] &&
			PlayerInfo[giveplayerid][pBank] < PlayerInfo[giveplayerid][pJailPrice])
        {
            SendClientMessage(playerid, COLOR_GREY, "   Игрок не может позволить себе оплатить залог !");
			return 1;
        }
   		format(strcmd, sizeof(strcmd), "* Вы предложили %s выход под залог за $%d.", PlayerName(giveplayerid), PlayerInfo[giveplayerid][pJailPrice]);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
        Offer[giveplayerid] = playerid;
        MenuOperation[giveplayerid] = 21;
        new msgitem[170+8*2];
	   	format(msgitem, sizeof(msgitem), "\t\t%s \nк вам адвокат %s\n\
Сумма ваше залога составляет {33AA33}$%d{A9C4E4}.\n\
Оставшее время заключения составляет %d минут.\n\
\nВы согласны выйти под залог?",
			PlayerName(giveplayerid),
			PlayerName(playerid),
			PlayerInfo[giveplayerid][pJailPrice],
			PlayerInfo[giveplayerid][pJailTime]);
		ShowPlayerDialogEx(giveplayerid, ACCEPT_DIALOG, DIALOG_STYLE_MSGBOX, "Want Lawyer", msgitem, "YES", "NO");
		//return 1;
	}
	else if(!strcmp(cmd, "/selldrugs", true))//для наркодилеров
	{
		if(PlayerInfo[playerid][pJob] != 4)
	    {
			SendClientMessage(playerid, COLOR_GREY, "   Вы не продавец наркотиков!");
			return 1;
	    }
		if(PlayerInfo[playerid][pJailed] > 0)
		{
			SendClientMessage(playerid,  COLOR_GREY, "   Заключённым Запрещено продовать наркотики !");
			return 1;
		}
        if(IsPlayerInRangeOfPoint(playerid, 15.0, 764.9067,6.4177,1000.7171) ||
			IsPlayerInRangeOfPoint(playerid, 15.0, 766.7358,-68.5967,1001.5692) ||
			IsPlayerInRangeOfPoint(playerid, 100.0,-2032.6810,-117.4816,1035.1719))
        {
            SendClientMessage(playerid, COLOR_GREY, "   Здесь Запрещено продовать наркотики!");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /selldrugs [playerid/PartOfName] [ammount] [price]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if(giveplayerid == playerid)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете продавать Наркотики самому себе !");
			return 1;
		}
		if((GetTickCount()-iOfferTime[playerid]) < 60000)
		{   //если прошло время меньше 60 секунд с момента нажатия Cancel другим игроком
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы можете делать предложение раз в 60 секунд.");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) { return 1; }
		new needed = strval(tmp);
		if(needed < 1 || needed > 100) { SendClientMessage(playerid, COLOR_GREY, "   Граммов должно быть от 1 до 100!"); return 1; }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) { return 1; }
		new money = strval(tmp);//для экономики
		if(money < needed*1 || money > needed*1000)//100$ за грамм
		{
		    format(strcmd, sizeof(strcmd), "   Цена должна быть от $%d до $%d", needed*1, needed*1000);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(needed > PlayerInfo[playerid][pDrugs]) { SendClientMessage(playerid, COLOR_GREY, "   У вас нет столько наркоты с собой!"); return 1; }
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
	    if(PlayerInfo[giveplayerid][pJob] == DRUGDEALER)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете продавать Наркотики наркодилеру !");
			return 1;
		}

		if(!IsPlayerInRangeOfPlayer(2.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
		if(GetPVarInt(giveplayerid, "gShowDialog") != -1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   У игрока открыто диалоговое окно!");
			SendClientMessage(playerid, COLOR_GREY, "   Подождите когда игрок закроет Диалоговое окно !");
			return 1;
		}

		if(PlayerInfo[playerid][pMember] == LCN)
		{
			new ToBase[74+24+2+2];
			format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", PlayerName(giveplayerid), LCN);
			mysql_query(ToBase); mysql_store_result();
			if(mysql_num_rows() > 0)
		 	{
	       		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете продавать человеку находящемуся в Чёрном Списке LCN!");
				mysql_free_result();
				return 1;
			}
			mysql_free_result();
		}
		else if(PlayerInfo[playerid][pMember] == Yakuza)
		{
			new ToBase[74+24+2+2];
			format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", PlayerName(giveplayerid), Yakuza);
			mysql_query(ToBase); mysql_store_result();
			if(mysql_num_rows() > 0)
		 	{
	       		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете продавать человеку находящемуся в Чёрном Списке Yakuza!");
				mysql_free_result();
				return 1;
			}
			mysql_free_result();
		}

	    format(strcmd, sizeof(strcmd), "* Вы предложили %s купить %d граммов наркотиков за $%d .", PlayerName(giveplayerid), needed, money);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		new msgitem[92+24+3+10];
		format(msgitem, sizeof(msgitem), "* Продавец наркотиков %s\nпредложил вам %d граммов за $%d.\n\nНажмите Accept, чтобы купить.", PlayerName(playerid), needed, money);
		//SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
		Offer[giveplayerid] = playerid;
		DrugPrice[giveplayerid] = money;
		DrugGram[giveplayerid] = needed;
		MenuOperation[giveplayerid] = 6;
		ShowPlayerDialogEx(giveplayerid, ACCEPT_DIALOG, DIALOG_STYLE_MSGBOX, "Drugs Diller", msgitem, "Accept", "Cancel");
		//return 1;
	}
	else if(!strcmp(cmd, "/live", true))
	{
		if(PlayerInfo[playerid][pMember] != SAN)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не корреспондент !");
	        return 1;
	    }
	    if(TalkingLive[playerid] != MAX_PLAYERS-1)
	    {
	    	FamilyInfo[SAN][fBank] += WatchingTVCounter[playerid];

	        SendClientMessage(playerid, COLOR_ORANGE, "* Прямой эфир окончен.");
	        SendClientMessage(TalkingLive[playerid], COLOR_ORANGE, "* Прямой эфир окончен.");
	        //TogglePlayerControllableEx(playerid, 1);
	        //TogglePlayerControllableEx(TalkingLive[playerid], true);
            TalkingLive[TalkingLive[playerid]] = MAX_PLAYERS-1;
	        TalkingLive[playerid] = MAX_PLAYERS-1;
	        return 1;
	    }
	    if(PlayerInfo[playerid][pProfSkill] < 200)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Ваш навык репортёра менее 200, чтобы общаться с людьми !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /live [playerid/PartOfName]");
			return 1;
		}
        giveplayerid = ReturnUser(tmp);
	    if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы неможете говорить с самим собой"); return 1; }
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(5.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
		if(gLoading[giveplayerid] || gUnLoading[giveplayerid])
		{
			SendClientMessage(playerid, COLOR_GREY, "   Подождите окончания загрузки/выгрузки !");
			return 1;
		}
		format(strcmd, sizeof(strcmd), "* Вы предложили %s поболтать с вами.", PlayerName(giveplayerid));
		SendClientMessage(playerid, COLOR_ORANGE, strcmd);
		new msgitem[64+24];
		format(msgitem, sizeof(msgitem), "* %s предложил вам поболтать,\n\nНажмите Accept, чтобы принять.", PlayerName(playerid));
		//SendClientMessage(giveplayerid, COLOR_ORANGE, strcmd);
		Offer[giveplayerid] = playerid;
		MenuOperation[giveplayerid] = 7;
		ShowPlayerDialogEx(giveplayerid, ACCEPT_DIALOG, DIALOG_STYLE_MSGBOX, "Репортёр", msgitem, "Accept", "Cancel");
		//return 1;
	}
	//==========================================================================
	else if(!strcmp(cmd, "/refill", true))
	{   //для автомехаников
	    if(PlayerInfo[playerid][pJob] != CARMECHANIC && PlayerInfo[playerid][pMember] != DoD)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Вы - не АвтоМеханик!");
	        return 1;
	    }
	    if(PlayerInfo[playerid][pJob] == CARMECHANIC && !gJobDuty[playerid] )
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Вы Не на Дежурстве вашей АвтоРемонтной Службы !");
	        return 1;
	    }
	    if(PlayerInfo[playerid][pMember] == DoD && !gOnDuty[playerid] )
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 1;
		}
		if(PlayerInfo[playerid][pMember] == DoD && PlayerInfo[playerid][pRank] < 7)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть не ниже 7 Ранга!");
		    return 1;
		}
       	if(IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы НЕ должны находиться в транспортном средстве!");
			return 1;
		}
		/*if(CurState[playerid] != PLAYER_STATE_DRIVER)
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться за рулём транспортного средства!");
			return 1;
		}*/
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /refill [playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		if(giveplayerid == playerid)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете заправлять свой транспорт!");
			return 1;
		}
		/*if(giveplayerid == playerid)
		{
			if( VehInfo[nCarID[giveplayerid]][cFuel] >= VehicleArray[nCarModel[giveplayerid]-400][GasMax] )
			{
				SendClientMessage(playerid, COLOR_GREY, "   Бак автомобиля полный!");
				VehInfo[nCarID[giveplayerid]][cFuel] = float(VehicleArray[nCarModel[giveplayerid]-400][GasMax]);
				return 1;
			}
			//gRefueling[playerid] = 1;//поднимаем флаг
			new vehicleid = nCarID[playerid];
			PlaySoundForPlayer(playerid, SOUND_BUY_CAR_RESPRAY);//звук спрэя
	    	new Float: FillUp = floatsub(VehicleArray[nCarModel[playerid]-400][GasMax], VehInfo[vehicleid][cFuel]);
//отнимаем от максимального текущее значение топлива, чтобы найти сколько надо долить до краев
			//new CostFuel = FillUp * SBizInfo[3][sbEntranceCost];//литры * стоимость 1 литра = стоимость заправки
			new CostFuel = floatround(FillUp * SBizInfo[3][sbEntranceCost]);//литры * стоимость 1 литра * процент продажи = стоимость заправки
			if(GetPlayerMoneyH(playerid) >= CostFuel+4)
			{
				if(SBizInfo[3][sbProducts] <= 0)
				{
					GameTextForPlayerEx(playerid, "~r~Out Of Stock in ~p~Gas Company", 5000, 1);
					PlaySoundForPlayer(playerid, SOUND_BASEBALL_BAT_HIT_PED);
					return 1;
				}

				VehInfo[vehicleid][cFuel] = float(VehicleArray[nCarModel[playerid]-400][GasMax]);//floatadd(VehInfo[vehicleid][cFuel], FillUp);//FillUp;//добавить к текущему значение топлива недостающую разницу
				GivePlayerMoneyH(1, playerid, -CostFuel);//отнимаем у игрока стоимость заправки
			    format(strcmd, sizeof(strcmd), "* ПЛАТА ЗА ЗАПРАВКУ НА %.1f л. $%d.", FillUp, CostFuel);
			    SendClientMessage(playerid, COLOR_LIGHTBLUE,strcmd);

				SBizInfo[3][sbProducts] -= floatround(FillUp);
				OnGangsExtortionSBiz(3, CostFuel);
			}
		   	else
		   	{
		   	    format(strcmd, sizeof(strcmd), "   Нет денег для того, чтобы заправить машину. Необходимо $%d для заправки. ", CostFuel);
		    	SendClientMessage(playerid, COLOR_GREY,strcmd);
	   		}
			TogglePlayerControllableEx(playerid, 1);//игрок сможет двигаться

			return 1;
		}*/

		if((GetTickCount()-iOfferTime[playerid]) < 60000)
		{   //если прошло время меньше 60 секунд с момента нажатия Cancel другим игроком
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы можете делать предложение раз в 60 секунд.");
		    return 1;
		}
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
        if(	!IsPlayerInAnyVehicle(giveplayerid) || GetPlayerState(giveplayerid) != PLAYER_STATE_DRIVER)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не за рулём автомобиля.");
			return 1;
		}
		nCarID[giveplayerid] = GetPlayerVehicleID(giveplayerid);
		nCarModel[giveplayerid] = VehInfo[nCarID[giveplayerid]][cModel];//GetVehicleModel(nCarID[giveplayerid]);
		if(	IsInBoat(nCarID[giveplayerid]) ||
			VehicleArray[nCarModel[giveplayerid]-400][Category] == Rail_Transport ||
			VehicleArray[nCarModel[giveplayerid]-400][Category] == Bicycle ||
			IsInIntCar(nCarID[giveplayerid]) )
		{
			SendClientMessage(playerid, COLOR_GREY, "   Это транспортное средство не подлежит заправке!");
			return 1;
		}
	    if(PlayerCuffed[giveplayerid] < MAX_PLAYERS-1)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете заправлять автомобиль когда у игрока надеты наручники !");
	        return 1;
	    }
        if(PlayerTied[giveplayerid] > 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете заправлять автомобиль когда игрок связан !");
	        return 1;
        }
		if(GetVehicleSpeed(nCarID[giveplayerid]) > 0)
		{
			format(strcmd, sizeof(strcmd), "   Этот транспорт находится в движении (%d км/ч) !", GetVehicleSpeed(nCarID[giveplayerid]));
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
		//if(VehInfo[nCarID[giveplayerid]][cFuel] >= VehicleArray[nCarModel[giveplayerid]-400][GasMax])
		if(floatcmp(VehInfo[nCarID[giveplayerid]][cFuel], VehicleArray[nCarModel[giveplayerid]-400][GasMax]) >= 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Бак автомобиля полный!");
			VehInfo[nCarID[giveplayerid]][cFuel] = float(VehicleArray[nCarModel[giveplayerid]-400][GasMax]);
			return 1;
		}
		if(GetPVarInt(giveplayerid, "gShowDialog") != -1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   У игрока открыто диалоговое окно!");
			SendClientMessage(playerid, COLOR_GREY, "   Подождите когда игрок закроет Диалоговое окно !");
			return 1;
		}
		if(gLoading[giveplayerid] || gUnLoading[giveplayerid])
		{
			SendClientMessage(playerid, COLOR_GREY, "   Подождите окончания загрузки/выгрузки !");
			return 1;
		}

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /refill [playerid/PartOfName] [price]");
			return 1;
		}
		new money = strval(tmp);
		if(money < 100 || money > 100000) { SendClientMessage(playerid, COLOR_GREY, "   Цена не ниже 100$, и не выше 100000$!"); return 1; }

	    format(strcmd, sizeof(strcmd), "* Вы предложили %s заправить его автомобиль за $%d.", PlayerName(giveplayerid),money);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		new msgitem[93+24+10];
		format(msgitem, sizeof(msgitem), "* АвтоМеханик %s \nхочет заправить ваш автомобиль за $%d.\n\nВыберите Accept, чтобы принять.", PlayerName(playerid),money);
		//SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
		Offer[giveplayerid] = playerid;
		SetPVarInt(giveplayerid, "RefillPrice", money);
		MenuOperation[giveplayerid] = 8;
		new TrafficManager[65];
		new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
		format(TrafficManager, sizeof(TrafficManager), "[%02d:%02d:%02d] Диспетчер", lH,lM,lS);
		ShowPlayerDialogEx(giveplayerid, CARMECHANIC_DIALOG, DIALOG_STYLE_MSGBOX, TrafficManager,msgitem, "Accept", "Cancel");
		//return 1;
	}
	else if(!strcmp(cmd, "/repair", true))
	{   //для автомехаников
	    if(PlayerInfo[playerid][pJob] != CARMECHANIC && PlayerInfo[playerid][pMember] != DoD)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Вы - не АвтоМеханик!");
	        return 1;
	    }
	    if(PlayerInfo[playerid][pJob] == CARMECHANIC && !gJobDuty[playerid] )
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Вы Не на Дежурстве вашей АвтоРемонтной Службы !");
	        return 1;
	    }
	    if(PlayerInfo[playerid][pMember] == DoD && !gOnDuty[playerid] )
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 1;
		}
		if(PlayerInfo[playerid][pMember] == DoD && PlayerInfo[playerid][pRank] < 7)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 7 Ранга или выше !");
		    return 1;
		}
       	if(IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы НЕ должны находиться в транспортном средстве!");
			return 1;
		}
		/*if(CurState[playerid] != PLAYER_STATE_DRIVER)
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться за рулём транспортного средства!");
			return 1;
		}*/
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /repair [playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		new Float:VehicleHealth;
		if(giveplayerid == playerid)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете чинить свой транспорт!");
			return 1;
		}
		if((GetTickCount()-iOfferTime[playerid]) < 60000)
		{   //если прошло время меньше 60 секунд с момента нажатия Cancel другим игроком
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы можете делать предложение раз в 60 секунд.");
		    return 1;
		}
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
        if(	!IsPlayerInAnyVehicle(giveplayerid) && GetPlayerState(giveplayerid) != PLAYER_STATE_DRIVER)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не за рулём автомобиля.");
			return 1;
		}
		if(GetVehicleSpeed(nCarID[giveplayerid]) > 0)
		{
			format(strcmd, sizeof(strcmd), "   Этот транспорт находится в движении (%d км/ч) !", GetVehicleSpeed(nCarID[giveplayerid]));
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		GetVehicleHealth(nCarID[giveplayerid], VehicleHealth);
		if(VehicleHealth > 990.0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Автомобиль игрока не требует ремонта !");
			return 1;
		}
		if(VehicleHealth < 260.0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Автомобиль игрока не поддаётся ремонту !");
			return 1;
		}
		if(GetPVarInt(giveplayerid, "gShowDialog") != -1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   У игрока открыто диалоговое окно!");
			SendClientMessage(playerid, COLOR_GREY, "   Подождите когда игрок закроет Диалоговое окно !");
			return 1;
		}
		if(gLoading[giveplayerid] || gUnLoading[giveplayerid])
		{
			SendClientMessage(playerid, COLOR_GREY, "   Подождите окончания загрузки/выгрузки !");
			return 1;
		}

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /repair [playerid/PartOfName] [price]");
			return 1;
		}
		new money = strval(tmp);
		if(money < 100 || money > 10000) { SendClientMessage(playerid, COLOR_GREY, "   Цена не ниже 100, или не выше 10000!"); return 1; }

	    format(strcmd, sizeof(strcmd), "* Вы предложили %s отремонтировать его автомобиль за $%d.", PlayerName(giveplayerid),money);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		new msgitem[98+24+10];
		format(msgitem, sizeof(msgitem), "* АвтоМеханик %s \nхочет отремонтировать ваш автомобиль за $%d\n\n Нажмите Accept, чтобы принять.", PlayerName(playerid),money);
		//SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
		Offer[giveplayerid] = playerid;
		SetPVarInt(giveplayerid, "RepairPrice", money);
		MenuOperation[giveplayerid] = 9;
		new TrafficManager[65];
		new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
		format(TrafficManager, sizeof(TrafficManager), "[%02d:%02d:%02d] Диспетчер", lH,lM,lS);
		ShowPlayerDialogEx(giveplayerid, CARMECHANIC_DIALOG, DIALOG_STYLE_MSGBOX, TrafficManager,msgitem, "Accept", "Cancel");
		//return 1;
	}
	else if(!strcmp(cmd, "/tuning", true) || !strcmp(cmd, "/tun", true))//для тюнинга
	{   //просто для тюна, но без увеличения навыка
		//SendClientMessage(playerid, COLOR_GREY, "   Временно не работает !");
		//if(TEST[MAX_FUNCTION-1] == 1) { return 1; }
	    if(PlayerInfo[playerid][pJob] != CARMECHANIC && PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 9)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Вы не АвтоМеханик!");
	        return 1;
	    }
	    if(!gJobDuty[playerid] && PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 9)//&& PlayerInfo[playerid][pAdmin] != 9
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Вы Не на Дежурстве вашей АвтоРемонтной Службы !");
	        return 1;
	    }
		if(PlayerCuffed[playerid] < MAX_PLAYERS-1 || PlayerTied[playerid] > 0)
		{
	        SendClientMessage(playerid, COLOR_GREY, "   Вы связаны или на Вас надеты наручники!");
	        return 1;
	    }
		if( IsInRentCar(nCarID[playerid]) && HireCarID[playerid] == MAX_VEHICLES-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете Тюнинговать автомобиль проката, пока не оплатите аренду!");
			return 1;
		}
		if(PlayerInfo[playerid][pMats] < 70 && PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   У вас недостаточное количество материалов! Необходимо 70 материалов для полного тюнинга одной тачки!");
			return 1;
		}
    	if(	CurState[playerid] == PLAYER_STATE_DRIVER &&
			!IsInPlane(nCarID[playerid]) && !IsInBoat(nCarID[playerid]) &&
			VehicleArray[nCarModel[playerid]-400][Category] != Rail_Transport && //не поезд
			VehicleArray[nCarModel[playerid]-400][Category] != Bicycle && //не велик
			!IsInIntCar(nCarID[playerid])//не дерби
		  )
    	{
    	    TogglePlayerControllableEx(playerid, 0);//обездвиживает нельзя двигаться
			ShowMenuForPlayerEx(mTuningMenu, playerid);
		}
		else SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться за рулём транспортного средства!");
		//return 1;
	}//для тюнинга конец
	else if(!strcmp(cmd, "/moding", true) || !strcmp(cmd, "/mod", true))//для тюнинга
	{	//для автомехаников - просто комерческое предложение для повышения навыка
		//if(TEST[MAX_FUNCTION-1] == 1) { return 1; }
		//SendClientMessage(playerid, COLOR_GREY, "   Временно не работает !");
	    if(PlayerInfo[playerid][pJob] != CARMECHANIC)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Вы - не АвтоМеханик!");
	        return 1;
	    }
	    if(!gJobDuty[playerid])
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Вы Не на Дежурстве вашей АвтоРемонтной Службы !");
	        return 1;
	    }
       	if(!IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться в транспортном средстве !");
			return 1;
		}
		if(CurState[playerid] != PLAYER_STATE_PASSENGER)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться на пассажирском сидении !");
			return 1;
		}
		if( IsInRentCar(nCarID[playerid]) && HireCarID[playerid] == MAX_VEHICLES-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете Модернизировать автомобиль проката, пока не оплатите аренду !");
			return 1;
		}
		if(PlayerInfo[playerid][pMats] < 707)
		{
			SendClientMessage(playerid, COLOR_GREY, "   У вас недостаточное количество материалов! Необходимо 707 материалов!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /moding [playerid/PartOfName] [price]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы Не Можете модифицировать свою домашнюю тачку!"); return 1; }

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /moding [playerid/PartOfName] [price]");
			return 1;
		}
		new money = strval(tmp);
		if(money < 100 || money > 100000) { SendClientMessage(playerid, COLOR_GREY, "   Цена не ниже 100, или не выше 100000!"); return 1; }
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(GetPlayerState(giveplayerid) != PLAYER_STATE_DRIVER)
		{   //если заказчик в машине
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не за рулём автомобиля.");
			return 1;
		}
		if( !IsPlayerInVehicle(playerid, nCarID[giveplayerid]) )
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не в Вашей машине!");
			return 1;
		}
		if(gLoading[giveplayerid] || gUnLoading[giveplayerid])
		{
			SendClientMessage(playerid, COLOR_GREY, "   Подождите окончания загрузки/выгрузки !");
			return 1;
		}
		//если указанный ID совпадает с ID игрока и игрок сидит на пассажирском сидении
	    format(strcmd, sizeof(strcmd), "* Вы предложили %s модифицировать домашний автомобиль за $%d.", PlayerName(giveplayerid),money);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		new msgitem[107+24+10];
		format(msgitem, sizeof(msgitem), "* АвтоМеханик %s\nхочет модифицировать ваш домашний автомобиль за $%d.\n\n, Нажмите Accept, чтобы принять.", PlayerName(playerid),money);
		//SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
		Offer[giveplayerid] = playerid;//записываем ID игрока которому собираемся тюнить тачку
		SetPVarInt(giveplayerid, "TuningPrice", money);
		MenuOperation[giveplayerid] = 10;
		new TrafficManager[65];
		new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
		format(TrafficManager, sizeof(TrafficManager), "[%02d:%02d:%02d] Диспетчер", lH,lM,lS);
		ShowPlayerDialogEx(giveplayerid, CARMECHANIC_DIALOG, DIALOG_STYLE_MSGBOX, TrafficManager,msgitem, "Accept", "Cancel");
		//return 1;
	}//для тюнинга конец
	else if(!strcmp(cmd, "/guard", true))
	{
	    if(PlayerInfo[playerid][pMember] != DoJ && PlayerInfo[playerid][pRank] != 1)
	    {
			SendClientMessage(playerid, COLOR_GREY, "   Вы не Телохранитель!");
			return 1;
	    }
	    if(Offer[playerid] != MAX_PLAYERS-1)
	    {
			SendClientMessage(playerid, COLOR_GREY, "   Вы уже охраняете !");
			return 1;
	    }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /guard [playerid/PartOfName]");// [price]
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		if(giveplayerid == playerid)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Нельзя охранять самого себя !");
	        return 1;
	    }
		/*tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) { return 1; }
		new money; = strval(tmp);
		if(money < 1 || money > 10000) { SendClientMessage(playerid, COLOR_GREY, "   Цена должна быть не ниже 1, и не выше 10000!"); return 1; }
		*/
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
	    if(PlayerInfo[giveplayerid][pMember] != DoJ)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не член правительства !");
			return 1;
		}
	    //format(strcmd, sizeof(strcmd), "* You offerd protection to %s for $%d.", PlayerName(giveplayerid), money);
		//SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		//format(strcmd, sizeof(strcmd), "* Телохранитель %s хочет защищать Вас за $%d, (наберите /accept guard), чтобы принять.", PlayerName(playerid), money);
		//SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
		Offer[giveplayerid] = playerid;
		//GuardPrice[giveplayerid] = money;
		MenuOperation[giveplayerid] = 28;
        new msgitem[75+24];
	   	format(msgitem, sizeof(msgitem), "Телохранитель %s \nхочет защищать Вас \n\nНажмите Accept, чтобы принять.", PlayerName(playerid));
		new TrafficManager[65];
		new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
		format(TrafficManager, sizeof(TrafficManager), "[%02d:%02d:%02d] Диспетчер", lH,lM,lS);
		ShowPlayerDialogEx(giveplayerid, ACCEPT_DIALOG, DIALOG_STYLE_MSGBOX, TrafficManager,msgitem, "Accept", "Cancel");
		//return 1;
	}
    else if(!strcmp(cmd, "/finfo", true))//для фермеров
	{
	    if(PlayerInfo[playerid][pJob] != FARMER && PlayerInfo[playerid][pAdmin] != 9)
	    {
			//SendClientMessage(playerid, COLOR_GREY, "   Вы не Фермер!");
			SendClientMessage(playerid, COLOR_GREY, "   Чтобы начать работу подойдите к зданию (USE: /gps 1032) и переоденьтесь в рабочую одежду");
			return 1;
	    }
	    /*if(!gJobDuty[playerid] && PlayerInfo[playerid][pAdmin] != 9)
	    {
			SendClientMessage(playerid, COLOR_GREY, "   Чтобы начать работу подойдите к зданию (USE: /gps 1035) и переоденьтесь в рабочую одежду");
			return 1;
	    }*/
		new bigmsgitem[1000];//71+20+34+3*39+37+36+43+18 + 10+3*7+10 + 75+71 + 15*(37+3+24+3+2+12+1) + 75 = 1868
	    format(bigmsgitem, sizeof(bigmsgitem), "______________________________________________________________________\
\nСаженцев: \t\t\t\t\t%d\
\nВзято (TakenSeedCounter): \t\t\t%d\
\nПосажено (PlantedSeedCounter): \t\t%d\
\nКустов (StartMoveBushCounter): \t\t%d\
\nВыросло (StopMoveBushCounter): \t\t%d\
\nСкошено (MowingBushCounter): \t\t%d\
\nСобрано (TakenBushCounter): \t\t%d\
\nДоставлено (DeliveredBushCounter): \t\t%d\
\nБаланс: \t\t\t\t\t$%d",
			SBizInfo[52][sbProducts],
			TakenSeedCounter, PlantedSeedCounter, StartMoveBushCounter, StopMoveBushCounter, MowingBushCounter, TakenBushCounter, DeliveredBushCounter,
			SBizInfo[52][sbTill]);

		strins(bigmsgitem, "\n\n______________________________________________________________________\
\nid \tname \t\t\tlevel \tskill \tЦена за работу \tСтатус \nФермеры:\n", strlen(bigmsgitem));
		new plCounter;
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) ) continue;
			if(PlayerInfo[i][pJob] != FARMER) continue;
			if(plCounter > 15) break;
			//if(!IsPlayerInArea(i, specialzone[9])) continue;

			new strtmp[12];
			if(FermerStatus[i] == 1) strtmp = "Занят";
			else strtmp = "Отдыхает";
//глючит Занятp[0]
			if(strlen(PlayerName(i)) < 13) format(strcmd, sizeof(strcmd), "%d \t%s \t\t%d \t%d \t$%d \t\t%s[%d]\n",
			 i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pFarmSkill], SBizInfo[52][sbSalary], strtmp, PlaceSeed[i]);
			else format(strcmd, sizeof(strcmd), "%d \t%s \t%d \t%d \t$%d \t\t%s[%d]\n",
			 i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pFarmSkill], SBizInfo[52][sbSalary], strtmp, PlaceSeed[i]);

			strins(bigmsgitem, strcmd, strlen(bigmsgitem));
			plCounter ++;
		}
		strins(bigmsgitem, "\n______________________________________________________________________\n", strlen(bigmsgitem));
		if(strlen(bigmsgitem) >= sizeof(bigmsgitem))
		{
			//ИНФОРМИРОВАНИЕ
			format(strcmd, sizeof(strcmd), "Error29: FARM INFO - %s[%d], strlen(bigmsgitem): %d, sizeof(bigmsgitem): %d", PlayerName(playerid), playerid, strlen(bigmsgitem), sizeof(bigmsgitem));
			Log(ERROR, strcmd);
			return 1;
		}
		if(strlen(bigmsgitem) <= 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   FARM INFO пуст");
			return 1;
		}
		new strtmp[12];
		if(FermaStatus == 1) strtmp = "Посадка";
		else if(FermaStatus == 2) strtmp = "Созревание";
		else if(FermaStatus == 3) strtmp = "Покос";
		else if(FermaStatus == 4) strtmp = "Сбор";
		else strtmp = "Простаивает";
		format(strcmd, sizeof(strcmd), "Информация по ферме: %s[%d]. Кол-во трудящихся: %d", strtmp, FermaStatus, SBizInfo[52][sbWorker]);
		ShowPlayerDialogEx1(playerid, DIALOG100, DIALOG_STYLE_MSGBOX, strcmd, bigmsgitem, "OK", "");
		//return 1;
	}

	//==========================================================================
	//для оружейников начало
    else if(!strcmp(cmd, "/sellgun", true))
    {
	    if(PlayerInfo[playerid][pJob] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы - не Оружейный Дилер !");
		    return 1;
		}
		if(PlayerInfo[playerid][pJailed] > 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вам пока запрещена данная команда !");
			return 1;
		}
		if(PlayerInfo[playerid][pMats] < 1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   У вас отсутствуют материалы !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))//для оружейников STEP3 /sellgun
		{
			if( ( IsPlayerInArea(playerid, checkCoords[CP_AMMU1]) ||
				IsPlayerInArea(playerid, checkCoords[CP_AMMU2]) ||
				IsPlayerInArea(playerid, checkCoords[CP_AMMU3]) ||
				IsPlayerInArea(playerid, checkCoords[CP_AMMU4]) ||
				IsPlayerInArea(playerid, checkCoords[CP_AMMU5]) )
			  )
			{
				new biz = GetBizLocation(playerid)-100;
				if(biz < 4 || biz > 14)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться в оружейном магазине !");
					return 1;
				}
				/*new  skill;//для экономики
				new level = PlayerInfo[playerid][pGunSkill];
				if(level < 500) { skill = 1; }
				else if(level >= 500 && level < 1000) { skill = 2; }
				else if(level >= 1000 && level < 2000) { skill = 3; }
				else if(level >= 2000 && level < 4000) { skill = 4; }
				else if(level >= 4000) { skill = 5; }*/

				new Float: pricematerials = float(pricepackage)/amountmaterials;//*100;//0.23
				new price = floatround(pricematerials*PlayerInfo[playerid][pMats]);
				GivePlayerMoneyB(fjob+PlayerInfo[playerid][pJob], playerid, price);

				BizInfo[biz][bMetal] += PlayerInfo[playerid][pMats]/90;
				BizInfo[biz][bTill] -= price;
				BizInfo[biz][bImport] += price;

				format(strcmd, sizeof(strcmd), "%s, Bы передали оружие %s, потратив %d Материалов на сумму $%d.",
					PlayerName(playerid), BizInfo[biz][bDiscription], PlayerInfo[playerid][pMats], price);
				SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				Log(PACKET, strcmd);

				PlayerInfo[playerid][pGunSkill] += PlayerInfo[playerid][pMats]/1000;
				if(PlayerInfo[playerid][pGunSkill] == 50)
				{ SendClientMessage(playerid, COLOR_YELLOW, "* Ваш Навык Оружейника теперь Уровня 2, Вы можете купить больше Пакетов и Дешевле."); }
				else if(PlayerInfo[playerid][pGunSkill] == 100)
				{ SendClientMessage(playerid, COLOR_YELLOW, "* Ваш Навык Оружейника теперь Уровня 3, Вы можете купить больше Пакетов и Дешевле."); }
				else if(PlayerInfo[playerid][pGunSkill] == 200)
				{ SendClientMessage(playerid, COLOR_YELLOW, "* Ваш Навык Оружейника теперь Уровня 4, Вы можете купить больше Пакетов и Дешевле."); }
				else if(PlayerInfo[playerid][pGunSkill] == 400)
				{ SendClientMessage(playerid, COLOR_YELLOW, "* Ваш Навык Оружейника теперь Уровня 5, Вы можете купить больше Пакетов и Дешевле."); }

				PlayerInfo[playerid][pMats] = 0;
				GunPrice[playerid] = 0;
				OfferWeapon[playerid] = 0;
				OfferAmmo[playerid] = 0;
				GunMat[playerid] = 0;
				return 1;
			}
/*
			case 34: deathreason = "Снайперская винтовка";
			//case 35: deathreason = "Ракетница";
			//case 36: deathreason = "Ракетница с тепловым наведением";
			case 37: deathreason = "Сгорел";
			case 38: deathreason = "Миниган/Hunter";
			//case 39: deathreason = "Взрывпакет";
			//case 40: deathreason = "Детонатор для взрывпакетов";
			case 41: deathreason = "Баллончик";
			case 42: deathreason = "Огнетушитель";
			//case 43: deathreason = "Фотоаппарат";
			//case 44: deathreason = "Очки ночного видения";
			//case 45: deathreason = "Инфракрасные очки";
			//case 46: deathreason = "Парашют";
			case 47: deathreason = "Fake Pistol";
			case 49: deathreason = "Сбила машина/Задавил Вертолёт";
			case 50: deathreason = "Задавлен машиной/Зарезан Лопастями";
			case 51: deathreason = "Взорвался/Rhino";
			//case 52: deathreason = "Пулемёт(вертолёта)";//с полицейского вертолёта
			case 53: deathreason = "Утонул";
			case 54: deathreason = "Упал";
			//case 57: deathreason = "любой";
			//case 200: deathreason = "Присоединился к игре";
			//case 201: deathreason = "Вышел из игры";
			//case 255: deathreason = "Умер собственной смертью";
			default: deathreason = "Unknown";
*/
			//SendClientMessage(playerid, COLOR_GRAD1, "35(Ракетница) 36(Ракетница с наведением) 37(Огнемёт) 38(Миниган)");
			//SendClientMessage(playerid, COLOR_GRAD1, "39(Взрывпакет) 40(Детонатор) 41(Баллончик) 42(Огнетушитель) 43(Фотоаппарат) 46(Парашют)");

			SendClientMessage(playerid, COLOR_GREEN, "________________________________________________");
			SendClientMessage(playerid, COLOR_WHITE, "*** Sell Guns ***");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /sellgun [playerid/PartOfName] [weaponname] [price]");
			SendClientMessage(playerid, COLOR_GREY, "Near Weapons: brassknuckle(100) GolfClub(100) knife(100) Bat(100) Shovel(100) Poolcue(100) Catana(100) Cane(100)");//flowers(25)
			SendClientMessage(playerid, COLOR_GREY, "Pistols/Shotguns: Colt45(100) Silenced(100) Eagle(500) Shotgun(200) Sawnoff(1200) Spas12(1000)");
			SendClientMessage(playerid, COLOR_GREY, "Distant Weapons: UZI(1200) MP5(800) TEC9(1000) AK47(1600) M4(2000) Rifle(400) Sniper(12000)");
			SendClientMessage(playerid, COLOR_GREY, "Thrown Weapons: GRENADE(100) TEARGAS(100) MOLOTOV(100)");
			SendClientMessage(playerid, COLOR_GREY, "Explosive Weapons: ROCKETLAUNCHER(8000) HEATSEEKER(12000) FLAMETHROWER(4000)");//MINIGUN()
			SendClientMessage(playerid, COLOR_GREY, "Explosive Weapons: BlastPackage+Detonator(3000) ");//Detonator(6000)
			SendClientMessage(playerid, COLOR_GREEN, "________________________________________________");
			return 1;
		}
		if(	IsPlayerInRangeOfPoint(playerid, 15.0, 764.9067,6.4177,1000.7171) ||
			IsPlayerInRangeOfPoint(playerid, 15.0, 766.7358,-68.5967,1001.5692) ||
			IsPlayerInRangeOfPoint(playerid, 100.0,-2032.6810,-117.4816,1035.1719))
		{
            SendClientMessage(playerid, COLOR_GREY, "   Здесь Запрещено продовать оружие!");
            return 1;
        }
		if((GetTickCount()-iOfferTime[playerid]) < 60000)
		{   //если прошло время меньше 60 секунд с момента нажатия Cancel другим игроком
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы можете делать предложение раз в 60 секунд.");
		    return 1;
		}

		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnectedEx(giveplayerid) && giveplayerid != MAX_PLAYERS-3)
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if((!IsPlayerInRangeOfPlayer(2.0, playerid, giveplayerid) && giveplayerid != SELLGUN)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
       	if(IsPlayerInAnyVehicle(giveplayerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Этот игрок находится в транспортном средстве!");
			return 1;
		}
		if(GetPVarInt(giveplayerid, "gShowDialog") != -1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   У игрока открыто диалоговое окно!");
			SendClientMessage(playerid, COLOR_GREY, "   Подождите когда игрок закроет Диалоговое окно !");
			return 1;
		}
		if(PlayerInfo[playerid][pMember] == LCN)
		{
			new ToBase[74+24+2+2];
			format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", PlayerName(giveplayerid), LCN);
			mysql_query(ToBase); mysql_store_result();
			if(mysql_num_rows() > 0)
		 	{
	       		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете продавать человеку находящемуся в Чёрном Списке LCN!");
				mysql_free_result();
				return 1;
			}
			mysql_free_result();
		}
		else if(PlayerInfo[playerid][pMember] == Yakuza)
		{
			new ToBase[74+24+2+2];
			format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", PlayerName(giveplayerid), Yakuza);
			mysql_query(ToBase); mysql_store_result();
			if(mysql_num_rows() > 0)
		 	{
	       		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете продавать человеку находящемуся в Чёрном Списке Yakuza!");
				mysql_free_result();
				return 1;
			}
			mysql_free_result();
		}
	    /*if(giveplayerid == playerid)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете продавать Пушки самому себе !");


			return 1;
		}*/
		new x_weapon[20];
		x_weapon = strtok(cmdtext, idx);
		if(!strlen(x_weapon))
		{
			SendClientMessage(playerid, COLOR_GREEN, "________________________________________________");
			SendClientMessage(playerid, COLOR_WHITE, "*** Sell Guns ***");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /sellgun [playerid/PartOfName] [weaponname] [price]");
			SendClientMessage(playerid, COLOR_GREY, "Near Weapons: brassknuckle(100) GolfClub(100) knife(100) Bat(100) Shovel(100) Poolcue(100) Catana(100) Cane(100)");//flowers(25)
			SendClientMessage(playerid, COLOR_GREY, "Pistols/Shotguns: Colt45(100) Silenced(100) Eagle(500) Shotgun(200) Sawnoff(1200) Spas12(1000)");
			SendClientMessage(playerid, COLOR_GREY, "Distant Weapons: UZI(1200) MP5(800) TEC9(1000) AK47(1600) M4(2000) Rifle(400) Sniper(12000)");
			SendClientMessage(playerid, COLOR_GREY, "Thrown Weapons: GRENADE(100) TEARGAS(100) MOLOTOV(100)");
			SendClientMessage(playerid, COLOR_GREY, "Explosive Weapons: ROCKETLAUNCHER(8000) HEATSEEKER(12000) FLAMETHROWER(4000)");//MINIGUN()
			SendClientMessage(playerid, COLOR_GREY, "Explosive Weapons: BlastPackage+Detonator(3000) ");//Detonator(6000)
			SendClientMessage(playerid, COLOR_GREEN, "________________________________________________");
			return 1;
		}
		if(!strcmp(x_weapon, "BrassKnuckle", true))//Кастет
		{
			if(PlayerInfo[playerid][pMats] >= 100)
			{
				OfferWeapon[giveplayerid] = 1;
				//SetPVarInt(giveplayerid, "OfferWeapon", 1);
				GunMat[giveplayerid] = 100;
				//OfferAmmo[giveplayerid] = 1;
				SetPVarInt(giveplayerid, "OfferAmmo", 1);
			} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 100 Материалов для этого Оружия!"); return 1; } }
		else if(!strcmp(x_weapon, "GolfClub", true))//Клюшка для гольфа
		{
			if(PlayerInfo[playerid][pMats] >= 100)
			{
				OfferWeapon[giveplayerid] = 2;
				GunMat[giveplayerid] = 100;
				OfferAmmo[giveplayerid] = 1;
			} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 100 Материалов для этого Оружия!"); return 1; } }
		else if(!strcmp(x_weapon, "Knife", true))//Нож
		{
			if(PlayerInfo[playerid][pMats] >= 100)
			{
				OfferWeapon[giveplayerid] = 4;
				GunMat[giveplayerid] = 100;
				OfferAmmo[giveplayerid] = 1;
			} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 100 Материалов для этого Оружия!"); return 1; } }
		else if(!strcmp(x_weapon, "Bat", true))//Бита BaseballBat
		{
			if(PlayerInfo[playerid][pMats] >= 100)
			{
				OfferWeapon[giveplayerid] = 5;
				GunMat[giveplayerid] = 100;
				OfferAmmo[giveplayerid] = 1;
			} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 100 Материалов для этого Оружия!"); return 1; } }
		else if(!strcmp(x_weapon, "Shovel", true))//Лопата
		{
			if(PlayerInfo[playerid][pMats] >= 100)
			{
				OfferWeapon[giveplayerid] = 6;
				GunMat[giveplayerid] = 100;
				OfferAmmo[giveplayerid] = 1;
			} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 100 Материалов для этого Оружия!"); return 1; } }
		else if(!strcmp(x_weapon, "Poolcue", true))//Кий
		{
			if(PlayerInfo[playerid][pMats] >= 100)
			{
				OfferWeapon[giveplayerid] = 7;
				GunMat[giveplayerid] = 100;
				OfferAmmo[giveplayerid] = 1;
			} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 100 Материалов для этого Оружия!"); return 1; } }
		else if(!strcmp(x_weapon, "Catana", true))//Катана
		{
			if(PlayerInfo[playerid][pGunSkill] < 100) { SendClientMessage(playerid, COLOR_GREY, "   Вы пока не можете изготовить это Оружие!"); return 1; }
			if(PlayerInfo[playerid][pMats] >= 100)//2 скилл
			{
				OfferWeapon[giveplayerid] = 8;
				GunMat[giveplayerid] = 100;
				OfferAmmo[giveplayerid] = 1;
			} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 100 Материалов для этого Оружия!"); return 1; } }
		else if(!strcmp(x_weapon, "Cane", true))//Трость
		{
			if(PlayerInfo[playerid][pMats] >= 100)
			{
				OfferWeapon[giveplayerid] = 15;
				GunMat[giveplayerid] = 100;
				OfferAmmo[giveplayerid] = 1;
			} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 100 Материалов для этого Оружия!"); return 1; } }
		//--------------------------------------------------------------
		else if(!strcmp(x_weapon, "Colt45", true))
		{
			if(PlayerInfo[giveplayerid][pGunLic] != 1 && !gRealWar)
			{
				SendClientMessage(playerid, COLOR_GREY, "   У этого игрока отсутствует лицензия на оружие !");
				return 1;
			}
			if(PlayerInfo[playerid][pMats] >= 100)
			{
				OfferWeapon[giveplayerid] = 22;
				GunMat[giveplayerid] = 100;
				OfferAmmo[giveplayerid] = 30;
			} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 100 Материалов для этого Оружия!"); return 1; } }
		else if(!strcmp(x_weapon, "Silenced", true))//Pistol
		{
			if(PlayerInfo[giveplayerid][pGunLic] != 1 && !gRealWar)
			{
				SendClientMessage(playerid, COLOR_GREY, "   У этого игрока отсутствует лицензия на оружие !");
				return 1;
			}
			if(PlayerInfo[playerid][pMats] >= 100)
			{
				OfferWeapon[giveplayerid] = 23;
				GunMat[giveplayerid] = 100;
				OfferAmmo[giveplayerid] = 30;
			} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 100 Материалов для этого Оружия!"); return 1; } }
		else if(!strcmp(x_weapon, "Eagle", true))
		{
			if(PlayerInfo[giveplayerid][pGunLic] != 1 && !gRealWar)
			{
				SendClientMessage(playerid, COLOR_GREY, "   У этого игрока отсутствует лицензия на оружие !");
				return 1;
			}
			if(PlayerInfo[playerid][pGunSkill] < 100) { SendClientMessage(playerid, COLOR_GREY, "   Для изготовления этого Оружия нужен опыт по изготовлению оружия не менее 100!"); return 1; }
			if(PlayerInfo[playerid][pMats] >= 500)//2 скилл
			{
				OfferWeapon[giveplayerid] = 24;
				GunMat[giveplayerid] = 500;
				OfferAmmo[giveplayerid] = 15;
			} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 500 Материалов для этого Оружия!"); return 1; } }
		else if(!strcmp(x_weapon, "Shotgun", true))
		{
			if(PlayerInfo[giveplayerid][pGunLic] != 1 && !gRealWar)
			{
				SendClientMessage(playerid, COLOR_GREY, "   У этого игрока отсутствует лицензия на оружие !");
				return 1;
			}
			if(PlayerInfo[playerid][pMats] >= 200)
			{
				OfferWeapon[giveplayerid] = 25;
				GunMat[giveplayerid] = 200;
				OfferAmmo[giveplayerid] = 15;
			} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 200 Материалов для этого Оружия!"); return 1; } }
		else if(!strcmp(x_weapon, "Sawnoff", true))
		{
			if(PlayerInfo[giveplayerid][pGunLic] != 1 && !gRealWar)
			{
				SendClientMessage(playerid, COLOR_GREY, "   У этого игрока отсутствует лицензия на оружие !");
				return 1;
			}
			if(PlayerInfo[playerid][pGunSkill] < 100) { SendClientMessage(playerid, COLOR_GREY, "   Для изготовления этого Оружия нужен опыт по изготовлению оружия не менее 100!"); return 1; }
			if(PlayerInfo[playerid][pMats] >= 1200)
			{
				OfferWeapon[giveplayerid] = 26;
				GunMat[giveplayerid] = 1200;
				OfferAmmo[giveplayerid] = 12;
			} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 1200 Материалов для этого Оружия!"); return 1; } }
		else if(!strcmp(x_weapon, "Spas12", true))
		{
			if(PlayerInfo[giveplayerid][pGunLic] != 1 && !gRealWar)
			{
				SendClientMessage(playerid, COLOR_GREY, "   У этого игрока отсутствует лицензия на оружие !");
				return 1;
			}
			if(PlayerInfo[playerid][pGunSkill] < 100) { SendClientMessage(playerid, COLOR_GREY, "   Для изготовления этого Оружия нужен опыт по изготовлению оружия не менее 100!"); return 1; }
			if(PlayerInfo[playerid][pMats] >= 1000)//2 скилл
			{
				OfferWeapon[giveplayerid] = 27;
				GunMat[giveplayerid] = 1000;
				OfferAmmo[giveplayerid] = 10;
			} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 1000 Материалов для этого Оружия!"); return 1; } }
		else if(!strcmp(x_weapon, "UZI", true))
		{
			if(PlayerInfo[giveplayerid][pGunLic] != 1 && !gRealWar)
			{
				SendClientMessage(playerid, COLOR_GREY, "   У этого игрока отсутствует лицензия на оружие !");
				return 1;
			}
			if(PlayerInfo[playerid][pGunSkill] < 100) { SendClientMessage(playerid, COLOR_GREY, "   Для изготовления этого Оружия нужен опыт по изготовлению оружия не менее 100!"); return 1; }
			if(PlayerInfo[playerid][pMats] >= 1200)//4 скилл
			{
				OfferWeapon[giveplayerid] = 28;
				GunMat[giveplayerid] = 1200;
				OfferAmmo[giveplayerid] = 60;
			} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 1200 Материалов для этого Оружия!"); return 1; } }
		else if(!strcmp(x_weapon, "MP5", true))
		{
			if(PlayerInfo[giveplayerid][pGunLic] != 1 && !gRealWar)
			{
				SendClientMessage(playerid, COLOR_GREY, "   У этого игрока отсутствует лицензия на оружие !");
				return 1;
			}
			if(PlayerInfo[playerid][pGunSkill] < 200) { SendClientMessage(playerid, COLOR_GREY, "   Для изготовления этого Оружия нужен опыт по изготовлению оружия не менее 200!"); return 1; }
			if(PlayerInfo[playerid][pMats] >= 800)//3 скилл
			{
				OfferWeapon[giveplayerid] = 29;
				GunMat[giveplayerid] = 800;
				OfferAmmo[giveplayerid] = 90;
			} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 800 Материалов для этого Оружия!"); return 1; } }
		else if(!strcmp(x_weapon, "AK47", true))
		{
			if(PlayerInfo[giveplayerid][pGunLic] != 1 && !gRealWar)
			{
				SendClientMessage(playerid, COLOR_GREY, "   У этого игрока отсутствует лицензия на оружие !");
				return 1;
			}
			if(PlayerInfo[playerid][pGunSkill] < 200) { SendClientMessage(playerid, COLOR_GREY, "   Для изготовления этого Оружия нужен опыт по изготовлению оружия не менее 200!"); return 1; }
			if(PlayerInfo[playerid][pMats] >= 1600)//3 скилл
			{
				OfferWeapon[giveplayerid] = 30;
				GunMat[giveplayerid] = 1600;
				OfferAmmo[giveplayerid] = 120;
			} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 1600 Материалов для этого Оружия!"); return 1; } }
		else if(!strcmp(x_weapon, "M4", true))
		{
			if(PlayerInfo[giveplayerid][pGunLic] != 1 && !gRealWar)
			{
				SendClientMessage(playerid, COLOR_GREY, "   У этого игрока отсутствует лицензия на оружие !");
				return 1;
			}
			if(PlayerInfo[playerid][pGunSkill] < 200) { SendClientMessage(playerid, COLOR_GREY, "   Для изготовления этого Оружия нужен опыт по изготовлению оружия не менее 200!"); return 1; }
			if(PlayerInfo[playerid][pMats] >= 2000)//3 скилл
			{
				OfferWeapon[giveplayerid] = 31;
				GunMat[giveplayerid] = 2000;
				OfferAmmo[giveplayerid] = 150;
			} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 2000 Материалов для этого Оружия!"); return 1; } }
		else if(!strcmp(x_weapon, "TEC9", true))
		{
			if(PlayerInfo[giveplayerid][pGunLic] != 1 && !gRealWar)
			{
				SendClientMessage(playerid, COLOR_GREY, "   У этого игрока отсутствует лицензия на оружие !");
				return 1;
			}
			if(PlayerInfo[playerid][pGunSkill] < 200) { SendClientMessage(playerid, COLOR_GREY, "   Для изготовления этого Оружия нужен опыт по изготовлению оружия не менее 200!"); return 1; }
			if(PlayerInfo[playerid][pMats] >= 1000)//4 скилл
			{
				OfferWeapon[giveplayerid] = 32;
				GunMat[giveplayerid] = 1000;
				OfferAmmo[giveplayerid] = 60;
			} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 1000 Материалов для этого Оружия!"); return 1; } }
		else if(!strcmp(x_weapon, "Rifle", true))
		{
			if(PlayerInfo[giveplayerid][pGunLic] != 1 && !gRealWar)
			{
				SendClientMessage(playerid, COLOR_GREY, "   У этого игрока отсутствует лицензия на оружие !");
				return 1;
			}
			if(PlayerInfo[playerid][pMats] >= 400)
			{
				OfferWeapon[giveplayerid] = 33;
				GunMat[giveplayerid] = 400;
				OfferAmmo[giveplayerid] = 20;
			} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 400 Материалов для этого Оружия!"); return 1; } }
		else if(!strcmp(x_weapon, "Sniper", true))
		{
			if(PlayerInfo[giveplayerid][pGunLic] != 1 && !gRealWar)
			{
				SendClientMessage(playerid, COLOR_GREY, "   У этого игрока отсутствует лицензия на оружие !");
				return 1;
			}
			if(PlayerInfo[playerid][pGunSkill] >= 200)
			{
				if(PlayerInfo[playerid][pMats] >= 10000)
				{
					OfferWeapon[giveplayerid] = 34;
					GunMat[giveplayerid] = 10000;
					OfferAmmo[giveplayerid] = 20;
				} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 2000 Материалов для этого Оружия!"); return 1; }
			}
			else  { SendClientMessage(playerid, COLOR_GREY, "   Для изготовления этого Оружия нужен опыт по изготовлению оружия не менее 200!"); return 1; } }
		//----------------------------------------------------------------------
		else if(!strcmp(x_weapon, "BlastPackage", true))
		{
			if(PlayerInfo[playerid][pGunSkill] >= 100)//1000
			{
				if(PlayerInfo[playerid][pMats] >= 3000)//3000
				{
					OfferWeapon[giveplayerid] = 39;
					GunMat[giveplayerid] = 3000;//3000
					OfferAmmo[giveplayerid] = 1;
				} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 3000 Материалов для этого Оружия!"); return 1; }
			}
			else  { SendClientMessage(playerid, COLOR_GREY, "   Для изготовления этого Оружия нужен опыт по изготовлению оружия не менее 100!"); return 1; } }
		/*else if(!strcmp(x_weapon, "Detonator", true))
		{
			if(PlayerInfo[playerid][pGunSkill] >= 1)//1000
			{
				if(PlayerInfo[playerid][pMats] >= 1)//100
				{
					OfferWeapon[giveplayerid] = 40;
					GunMat[giveplayerid] = 1;//100
					OfferAmmo[giveplayerid] = 1;
				} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 100 Материалов для этого Оружия!"); return 1; }
			}
			else  { SendClientMessage(playerid, COLOR_GREY, "   Для изготовления этого Оружия нужен опыт по изготовлению оружия не менее 1000!"); return 1; } }
		*/
		//----------------------------------------------------------------------
		else if(!strcmp(x_weapon, "GRENADE", true))
		{
			if(PlayerInfo[giveplayerid][pGunLic] != 1 && !gRealWar)
			{
				SendClientMessage(playerid, COLOR_GREY, "   У этого игрока отсутствует лицензия на оружие !");
				return 1;
			}
			if(PlayerInfo[playerid][pGunSkill] >= 200)
			{
				if(PlayerInfo[playerid][pMats] >= 100)
				{
					OfferWeapon[giveplayerid] = 16;
					GunMat[giveplayerid] = 100;
					OfferAmmo[giveplayerid] = 1;
				} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 100 Материалов для этого Оружия!"); return 1; }
			}
			else  { SendClientMessage(playerid, COLOR_GREY, "   Для изготовления этого Оружия нужен опыт по изготовлению оружия не менее 200!"); return 1; } }

		else if(!strcmp(x_weapon, "TEARGAS", true))
		{
			if(PlayerInfo[playerid][pGunSkill] >= 200)
			{
				if(PlayerInfo[playerid][pMats] >= 100)
				{
					OfferWeapon[giveplayerid] = 17;
					GunMat[giveplayerid] = 100;
					OfferAmmo[giveplayerid] = 1;
				} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 100 Материалов для этого Оружия!"); return 1; }
			}
			else  { SendClientMessage(playerid, COLOR_GREY, "  Для изготовления этого Оружия нужен опыт по изготовлению оружия не менее 200!"); return 1; } }
		else if(!strcmp(x_weapon, "Molotov", true))
		{
			if(PlayerInfo[giveplayerid][pGunLic] != 1 && !gRealWar)
			{
				SendClientMessage(playerid, COLOR_GREY, "   У этого игрока отсутствует лицензия на оружие !");
				return 1;
			}
			if(PlayerInfo[playerid][pGunSkill] >= 200)
			{
				if(PlayerInfo[playerid][pMats] >= 100)
				{
					OfferWeapon[giveplayerid] = 18;
					GunMat[giveplayerid] = 100;
					OfferAmmo[giveplayerid] = 1;
				} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 100 Материалов для этого Оружия!"); return 1; }
			}
			else  { SendClientMessage(playerid, COLOR_GREY, "   Для изготовления этого Оружия нужен опыт по изготовлению оружия не менее 200!"); return 1; } }
		//----------------------------------------------------------------------
		else if(!strcmp(x_weapon, "RocketLauncher", true))
		{
			if(PlayerInfo[giveplayerid][pGunLic] != 1 && !gRealWar)
			{
				SendClientMessage(playerid, COLOR_GREY, "   У этого игрока отсутствует лицензия на оружие !");
				return 1;
			}
			if(PlayerInfo[playerid][pGunSkill] >= 400)
			{
				if(PlayerInfo[playerid][pMats] >= 8000)
				{
					OfferWeapon[giveplayerid] = 35;
					GunMat[giveplayerid] = 8000;
					OfferAmmo[giveplayerid] = 1;
				} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 8000 Материалов для этого Оружия!"); return 1; }
			}
			else  { SendClientMessage(playerid, COLOR_GREY, "   Для изготовления этого Оружия нужен опыт по изготовлению оружия не менее 400!"); return 1; } }

		else if(!strcmp(x_weapon, "Heatseeker", true))
		{
			if(PlayerInfo[giveplayerid][pGunLic] != 1 && !gRealWar)
			{
				SendClientMessage(playerid, COLOR_GREY, "   У этого игрока отсутствует лицензия на оружие !");
				return 1;
			}
			if(PlayerInfo[playerid][pGunSkill] >= 400)
			{
				if(PlayerInfo[playerid][pMats] >= 12000)
				{
					OfferWeapon[giveplayerid] = 36;
					GunMat[giveplayerid] = 12000;
					OfferAmmo[giveplayerid] = 1;
				} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 12000 Материалов для этого Оружия!"); return 1; }
			}
			else  { SendClientMessage(playerid, COLOR_GREY, "   Для изготовления этого Оружия нужен опыт по изготовлению оружия не менее 400!"); return 1; } }
		else if(!strcmp(x_weapon, "FlameThrower", true))
		{
			if(PlayerInfo[giveplayerid][pGunLic] != 1 && !gRealWar)
			{
				SendClientMessage(playerid, COLOR_GREY, "   У этого игрока отсутствует лицензия на оружие !");
				return 1;
			}
			if(PlayerInfo[playerid][pGunSkill] >= 400)
			{
				if(PlayerInfo[playerid][pMats] >= 100)
				{
					OfferWeapon[giveplayerid] = 37;
					GunMat[giveplayerid] = 4000;
					OfferAmmo[giveplayerid] = 500;
				} else { SendClientMessage(playerid, COLOR_GREY, "   Необходимо 100 Материалов для этого Оружия!"); return 1; }
			}
			else  { SendClientMessage(playerid, COLOR_GREY, "   Для изготовления этого Оружия нужен опыт по изготовлению оружия не менее 400!"); return 1; } }
		//----------------------------------------------------------------------
		else
		{
			SendClientMessage(playerid, COLOR_GREY, "   Invalid Weapon name!");
			return 1;
		}

		tmp = strtok(cmdtext, idx);
		new money = strval(tmp);//для экономики
		if(money < 100 || money > 50000) { SendClientMessage(playerid, COLOR_GREY, "   Цена не ниже $100 и не выше $50000 !"); return 1; }
		GunPrice[giveplayerid] = money;

	    format(strcmd, sizeof(strcmd), "* Вы предложили %s'у купить %s за $%d.", PlayerName(giveplayerid), WeaponName(OfferWeapon[giveplayerid]), GunPrice[giveplayerid]);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		new msgitem[81+24+32+5];
		format(msgitem, sizeof(msgitem), "* Продавец оружия %s \nпредложил вам %s за $%d.\n\nНажмите Accept, чтобы купить.", PlayerName(playerid), WeaponName(OfferWeapon[giveplayerid]), GunPrice[giveplayerid]);
		//SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
		Offer[giveplayerid] = playerid;
		MenuOperation[giveplayerid] = 11;
		new TrafficManager[65];
		new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
		format(TrafficManager, sizeof(TrafficManager), "[%02d:%02d:%02d] Диспетчер", lH,lM,lS);
		ShowPlayerDialogEx(giveplayerid, ACCEPT_DIALOG, DIALOG_STYLE_MSGBOX, TrafficManager,msgitem, "Accept", "Cancel");
		//return 1;
	}
	//для оружейников конец
	//==========================================================================
	else if(!strcmp(cmd, "/sellcar", true))//для автодилеров
	{
        if(PlayerInfo[playerid][pJob] != CARDEALER)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы - не Автомобильный Дилер !");
		    return 1;
		}
		if(SBizInfo[5][sbProducts] <= 0 && !gTutorial[playerid] && !gRealWar)
		{
			GameTextForPlayerEx(playerid, "~r~Out Of Stock in ~p~Car Delivery", 5000, 1);
	    	PlaySoundForPlayer(playerid, SOUND_BASEBALL_BAT_HIT_PED);
			return 1;
		}
	    //if(VehiclesCounter > 940)
	    if(Counter3DText >= MAX_3DTEXT_GLOBAL)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Кол-во личного транспорта на сервере достигло максимума!");
			return 1;
		}
	    if(GetMaxVehicles >= MAX_VEHICLES-1-sizeof(AdminCars))
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Кол-во транспорта достигло максимума!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /sellcar [playerid/PartOfName] [modelid] [color1] [color2] [price]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		if((GetTickCount()-iOfferTime[playerid]) < 60000)
		{   //если прошло время меньше 60 секунд с момента нажатия Cancel другим игроком
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы можете делать предложение раз в 60 секунд.");
		    return 1;
		}
	    if(giveplayerid == playerid && PlayerInfo[playerid][pAdmin] != 9)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Не можете продать самому себе!");
			return 1;
		}
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
       	if(IsPlayerInAnyVehicle(giveplayerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Игрок НЕ должен находиться в транспортном средстве!");
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
		if(CarPrice[giveplayerid] != 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Подождите когда игрок согласится или откажется от вашего предожения !");
			return 1;
		}
		if(GetPVarInt(giveplayerid, "gShowDialog") != -1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   У игрока открыто диалоговое окно!");
			SendClientMessage(playerid, COLOR_GREY, "   Подождите когда игрок закроет Диалоговое окно !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /sellcar [playerid/PartOfName] [modelid] [color1] [color2] [price]");
			return 1;
		}
		new modelid = strval(tmp);
		if(modelid < 400 || modelid > 611)
		{
			SendClientMessage(playerid, COLOR_GREY, "   ID Модели Транспорта не может быть ниже 400 или выше 611 !");
			return 1;
		}
		if(modelid == 460 || modelid == 539)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот Транспорт забагован при соприкосновении с водой !");
			return 1;
		}
		if(GetPlayerMoneyH(playerid) < VehicleArray[modelid-400][Virtual_Price])
		{
			SendClientMessage(playerid, COLOR_GREY, "   У вас не достаточно денег на руках, чтобы предложить эту машину !");
			return 1;
		}
		if(	VehicleArray[modelid-400][Category] == Rail_Transport ||
			//VehicleArray[modelid-400][Category] == Trailers ||
			VehicleArray[modelid-400][Category] == Not_Used ||
			VehicleArray[modelid-400][Category] == RC_Vehicles ||
			modelid == 406 || modelid == 532
			/*VehicleArray[modelid-400][Category] == Unique_Vehicles*/)
		{   //"Dumper",Industrial
			SendClientMessage(playerid, COLOR_GREY, "   Этот транспорт запрещён к продаже !");
			return 1;
		}
		//----------------------------------------------------------------------
     	if(!IsPlayerInRangeOfPoint(playerid, 5.0,415.2944,2537.1272,19.1484)
			&& VehicleArray[modelid-400][Category] == Airplane )
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться на Заброшенном Аэро !");
			return 1;
		}
     	else if(!IsPlayerInRangeOfPoint(playerid, 5.0,415.2944,2537.1272,19.1484)
			&& VehicleArray[modelid-400][Category] == Helicopters )
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться на Заброшенном Аэро !");
			return 1;
		}
     	else if(!IsPlayerInRangeOfPoint(playerid, 5.0,-2188.1199,2415.8857,5.1563)
		 	&& VehicleArray[modelid-400][Category] == Boats)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться на Лодочной станции TR !");
			return 1;
		}
     	else if(!IsPlayerInRangeOfPoint(playerid, 5.0,-1658.0516,1206.8474,7.2500)
		 	&& VehicleArray[modelid-400][Category] != Airplane
	 		&& VehicleArray[modelid-400][Category] != Helicopters
			&& VehicleArray[modelid-400][Category] != Boats)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться в АвтоСалоне !");
			return 1;
		}

		if( (modelid==427 || modelid==430 || modelid==472 || modelid==490 ||
			modelid==497 || modelid==523 || modelid==528 ||
			(modelid>=596&&modelid<=599) || modelid==601) && !IsACop(giveplayerid) && !gRealWar )// && PlayerInfo[giveplayerid][pLeader] != DoJ
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете продать служебный транспорт этому человеку!");
			return 1;
		}
   		else if( (modelid==425 || modelid==432 || modelid==433 || modelid==470 ||
			modelid==520 || modelid==548 || modelid==595) && PlayerInfo[giveplayerid][pMember] != DoD && !gRealWar)// && PlayerInfo[giveplayerid][pLeader] != DoJ
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете продать служебный транспорт этому человеку!");
			return 1;
		}
     	else if( (modelid==416 || modelid==447 || modelid==563 || modelid==407 || modelid==544) &&
		 	PlayerInfo[giveplayerid][pMember] != DoH && PlayerInfo[playerid][pJob] != FIREMAN && !gRealWar)// && PlayerInfo[giveplayerid][pLeader] != DoJ
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете продать служебный транспорт этому человеку!");
			return 1;
		}
     	else if( (modelid==488 || modelid==582) && PlayerInfo[giveplayerid][pMember] != SAN && !gRealWar)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете продать служебный транспорт этому человеку!");
			return 1;
		}
     	else if(modelid == 405 && PlayerInfo[giveplayerid][pMember] != DoE && !gRealWar)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете продать служебный транспорт этому человеку!");
			return 1;
		}
     	else if(modelid == 552 && PlayerInfo[giveplayerid][pJob] != ROADWORKER  && PlayerInfo[giveplayerid][pJob] != TRUCKER && !gRealWar)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете продать служебный транспорт этому человеку!");
			return 1;
		}
     	else if(modelid == 525 && PlayerInfo[giveplayerid][pJob] != CARMECHANIC && PlayerInfo[giveplayerid][pLeader] != DoJ && !gRealWar)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете продать служебный транспорт этому человеку!");
			return 1;
		}
     	else if( (modelid == 428) && PlayerInfo[giveplayerid][pJob] != INKASSATOR && !gRealWar)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете продать служебный транспорт этому человеку!");
			return 1;
		}
     	else if( (modelid == 420 || modelid == 438) && PlayerInfo[giveplayerid][pJob] != TAXIDRIVER && !gRealWar)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете продать служебный транспорт этому человеку!");
			return 1;
		}
     	else if( (modelid == 431 || modelid == 437) && PlayerInfo[giveplayerid][pJob] != BUSDRIVER && !gRealWar)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете продать служебный транспорт этому человеку!");
			return 1;
		}
     	else if( (modelid == 403 || modelid == 514 || modelid == 515) && PlayerInfo[giveplayerid][pJob] != TRUCKER && !gRealWar)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете продать служебный транспорт этому человеку!");
			return 1;
		}
		//----------------------------------------------------------------------
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /sellcar [playerid/PartOfName] [modelid] [color1] [color2] [price]");
			return 1;
		}
		new color1 = strval(tmp);
		if(	color1 < -1 || color1 > 226)
		/*if(	color1 < -1 ||
			(color1 > 126 &&
			color1 != 130 &&
			color1 != 131 &&
			color1 != 144 &&
			color1 != 146 &&
			color1 != 147 &&
			color1 != 149 &&
			color1 != 151))*/
		{
			SendClientMessage(playerid, COLOR_GREY, "   Номер цвета от -1 до 226");//126(130,131,144,146,147,149,151) !");
			return 1;
		}

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /sellcar [playerid/PartOfName] [modelid] [color1] [color2] [price]");
			return 1;
		}
		new color2 = strval(tmp);
		if(	color2 < -1 ||
			(color2 > 126 &&
			color2 != 130 &&
			color2 != 131 &&
			color2 != 144 &&
			color2 != 146 &&
			color2 != 147 &&
			color2 != 149 &&
			color2 != 151))
		{ SendClientMessage(playerid, COLOR_GREY, "   Номер цвета от -1 до 126(130,131,144,146,147,149,151) !"); return 1; }
		//----------------------------------------------------------------------
		if(GetPlayerMoneyH(giveplayerid) < 0 || PlayerInfo[giveplayerid][pBank] < 0 || PlayerInfo[giveplayerid][pDeposit] < 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   У игрока зафиксирован минусовой баланс!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /sellcar [playerid/PartOfName] [modelid] [color1] [color2] [price]");
			return 1;
		}
		new money = strval(tmp);//для экономики

		//new minprice = VehicleArray[modelid-400][Virtual_Price];
		//new maxprice = ;
		//if(money < minprice || money > maxprice) {
		//	SendClientMessage(playerid, COLOR_GREY, "   Цена не ниже $100 и не выше $200000 !"); return 1; }
 		if(money < VehicleArray[modelid-400][Virtual_Price])
		{
			format(strcmd, sizeof(strcmd), "   Вы не можете продать транспорт дешевле $%d (100% от стоимости в автосалоне)!", VehicleArray[modelid-400][Virtual_Price]);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
 		if(money > floatround(1.5*VehicleArray[modelid-400][Virtual_Price]))
		{
			format(strcmd, sizeof(strcmd), "   Вы не можете продать транспорт дороже $%d (150% от стоимости в автосалоне)", floatround(1.5*VehicleArray[modelid-400][Virtual_Price]));
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(GetPlayerMoneyH(giveplayerid) < money)// && PlayerInfo[giveplayerid][pLeader] != DoJ
		{
			SendClientMessage(playerid, COLOR_GREY, "   Игрок не можете оплатить Автомобиль! Не достаточно денег на руках");
			return 1;
		}
		//----------------------------------------------------------------------
		//new ToBase[44+MAX_PLAYER_NAME];
		//new playername[MAX_PLAYER_NAME];
		//GetPlayerName(giveplayerid, playername, MAX_PLAYER_NAME);
		//mysql_real_escape_string(playername, playername);

		//format(ToBase, sizeof(ToBase), "SELECT * FROM `vehicles` WHERE `Owner` = '%s'", playername);
		/*format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `vehicles` WHERE `Owned`=%d LIMIT 3", PlayerInfo[giveplayerid][pSQLID]);
		mysql_query(ToBase); mysql_store_result();
	    if(mysql_num_rows() >= 3)// && PlayerInfo[giveplayerid][pLeader] != DoJ
	    {
			mysql_free_result();
	        SendClientMessage(playerid, COLOR_GREY, "   Игрок уже имеет максимальное кол-во транспортных средств !");
	        return 1;
	    }
	    mysql_free_result();*/
		if(	MyCar[giveplayerid][0] != 0 &&
			MyCar[giveplayerid][1] != 0 &&
			MyCar[giveplayerid][2] != 0)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Игрок уже имеет максимальное кол-во транспортных средств !");
	        return 1;
	    }

	    format(strcmd, sizeof(strcmd), "* Вы предложили %s купить этот автомобиль за $%d .", PlayerName(giveplayerid), money);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);

		Offer[giveplayerid] = playerid;
		CarModel[giveplayerid] = modelid;
		CarColor1[giveplayerid] = color1;
		CarColor2[giveplayerid] = color2;
		CarPrice[giveplayerid] = money;

#define DIALOG_WIDTH    	165.0
#define DIALOG_HEIGHT   	150.0
		new Float:BaseX = 320.0 - DIALOG_WIDTH/2.0;
		new Float:BaseY = 240.0 - (DIALOG_HEIGHT + DIALOG_HEIGHT/2.0) + 7.0;
		gSelectionItems[playerid] = CreateModelPreviewTextDraw(playerid, modelid,
			VehicleColor[color1], VehicleColor[color2],
			BaseX, BaseY, DIALOG_WIDTH, DIALOG_HEIGHT);

		new msgitem[745];//497 + 32+3+6+6 + 6+3+6+3 + 6+3+6+3 + 32+20+20+10+3+6 + 3+6+5 +60 = 745
		format(msgitem, sizeof(msgitem), "{FFFFFF}%s{0080FF} [modelid: {FFFFFF}%d{0080FF}]\
\nпо цене {33AA33}$%d. {0080FF}Рыночная цена: {33AA33}$%d.\
\n{%06x}Основной цвет - {FFFFFF}%d {%06x}Дополнительный цвет - {FFFFFF}%d",
			VehicleArray[modelid-400][Vehicle_Name],modelid,
			money,VehicleArray[modelid-400][Virtual_Price],
			VehicleColor[color1] >>> 72,color1,VehicleColor[color2] >>> 72,color2);
		format(msgitem, sizeof(msgitem), "%s\n{0080FF}Прототип:{FFFFFF}%s\
\n{0080FF}Категория:{FFFFFF}%s {0080FF}Тюн:{FFFFFF}%s\
\n{0080FF}Цена:{33AA33}$%d {0080FF}Мест:{FFFFFF}%d {0080FF}Бак:{FFFFFF}%d л\
\n{0080FF}Скорость:{FFFFFF}%d км/ч {0080FF}Расход:{FFFFFF}%d {0080FF}Грузоподъёмность:{FFFFFF}%d кг\
\n\t{AFAFAF}Нажмите Accept, чтобы принять.",msgitem,
			VehicleArray[modelid-400][Prototype],
			GetCarCategory(modelid-400),
			GetCarModifications(modelid-400),
			VehicleArray[modelid-400][Virtual_Price],
			VehicleArray[modelid-400][SeatID],
			VehicleArray[modelid-400][GasMax],
			VehicleArray[modelid-400][LineSpeed],
			VehicleArray[modelid-400][fuelConsumption],
			VehicleArray[modelid-400][Weight]/2);
		strcat(msgitem, "\n{AFAFAF}_________________________________________________");
		MenuOperation[giveplayerid] = 12;
		format(strcmd, sizeof(strcmd), "Автодилер %s предлогает Вам", PlayerName(playerid));
		ShowPlayerDialogEx(giveplayerid, ACCEPT_DIALOG, DIALOG_STYLE_MSGBOX, strcmd, msgitem, "Accept", "Cancel");
		//return 1;
	}
	//--------------------------------------------------------------------------
	else if(!strcmp(cmd, "/insurance", true))
	{
        if(PlayerInfo[playerid][pJob] != CARDEALER)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы - не Автомобильный Дилер !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /insurance [playerid/PartOfName] [price]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		if((GetTickCount()-iOfferTime[playerid]) < 60000)
		{   //если прошло время меньше 60 секунд с момента нажатия Cancel другим игроком
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы можете делать предложение раз в 60 секунд.");
		    return 1;
		}
	    if(giveplayerid == playerid)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Не можете продать самому себе!");
	        return 1;
	    }
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
       	if(!IsPlayerInAnyVehicle(giveplayerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Игрок должен находиться в транспортном средстве!");
			return 1;
		}
		if(GetPlayerState(giveplayerid) != PLAYER_STATE_DRIVER)
		{
			SendClientMessage(playerid, COLOR_GREY, "  Игрок должен находиться на водительском сидении!");
			return 1;
		}
		/*if(!IsPlayerInAnyVehicle(giveplayerid) || GetPlayerState(giveplayerid) != PLAYER_STATE_DRIVER)
		{
			SendClientMessage(playerid, COLOR_GREY, "  Игрок должен находиться на водительском сидении!");
			return 1;
		}*/
		if(VehicleArray[nCarModel[giveplayerid]-400][SeatID] == 1)
		{
			if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
				|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
				return 1;
			}
		}
		else
		{
			if(!IsPlayerInAnyVehicle(playerid) || CurState[playerid] != PLAYER_STATE_PASSENGER)
			{
				SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться на пассажирском сидении!");
				return 1;
			}
			if(!IsPlayerInVehicle(playerid, nCarID[giveplayerid]))
			{
				SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не в Вашей машине!");
				return 1;
			}
			if(IsInRentCar(nCarID[playerid]))
			{// && HireCarID[playerid] == MAX_VEHICLES-1
				SendClientMessage(playerid, COLOR_GREY, "   Вы не можете страховать автомобиль проката!");
				return 1;
			}
			if(VehInfo[nCarID[playerid]][cOwned] == 0)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы не можете страховать автомобиль без владельца!");
				return 1;
			}
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /insurance [playerid/PartOfName] [price]");
			return 1;
		}
		if(	strval(tmp) < (5*VehicleArray[nCarModel[giveplayerid]-400][Virtual_Price]/100) ||
			strval(tmp) > VehicleArray[nCarModel[giveplayerid]-400][Virtual_Price])
		{
	    	format(strcmd, sizeof(strcmd), "   Цена не ниже $%d и не выше $%d.",
				(5*VehicleArray[nCarModel[giveplayerid]-400][Virtual_Price]/100), VehicleArray[nCarModel[giveplayerid]-400][Virtual_Price]);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		new money = strval(tmp);
		if(GetPlayerMoneyH(giveplayerid) < money)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Игрок не может позволить себе оплатить это !");
			return 1;
		}
		if(VehInfo[nCarID[giveplayerid]][cInsur] >= 99)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Транспортное средство уже имеет 99 страховых полюсов !");
			return 1;
		}
		if(GetPVarInt(giveplayerid, "gShowDialog") != -1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   У игрока открыто диалоговое окно!");
			SendClientMessage(playerid, COLOR_GREY, "   Подождите когда игрок закроет Диалоговое окно !");
			return 1;
		}
	    format(strcmd, sizeof(strcmd), "* Вы предложили %s застраховать этот автомобиль за $%d .", PlayerName(giveplayerid), money);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		new msgitem[93+24+10];
		format(msgitem, sizeof(msgitem), "* Автодилер %s\n хочет застраховать Ваш автомобиль за $%d.\n\nНажмите Accept, чтобы принять.", PlayerName(playerid), money);
		//SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
		Offer[giveplayerid] = playerid;
		CarPrice[giveplayerid] = money;

		MenuOperation[giveplayerid] = 25;
		ShowPlayerDialogEx(giveplayerid, ACCEPT_DIALOG, DIALOG_STYLE_MSGBOX, "Страховая компания", msgitem, "Accept", "Cancel");
		//return 1;
	}
	else if(!strcmp(cmd, "/dropcar", true))//для автоугонщиков
	{
		if(PlayerInfo[playerid][pJob] != CARJACKER)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы - не Автоугонщик!");
			return 1;
		}
       	if(!IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться в транспортном средстве!");
			return 1;
		}
		if(CurState[playerid] != PLAYER_STATE_DRIVER)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться за рулём транспортного средства!");
			return 1;
		}
	    if(gInRacing[playerid])
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться НЕ в гонке!");
		    return 1;
		}
		//получаем заново ИД тачки, т.к. игрок после того как сел за руль мог тп в другую тачку
		nCarID[playerid] = GetPlayerVehicleID(playerid);
		nCarModel[playerid] = GetVehicleModel(nCarID[playerid]);//VehInfo[nCarID[playerid]][cModel];
		new modelid = nCarModel[playerid];

	    if(	VehInfo[nCarID[playerid]][cPark] == 1 || VehInfo[nCarID[playerid]][cPark] == 2)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Это транспортное средство не подлежит сдачи !");
		    return 1;
		}
	    if(VehInfo[nCarID[playerid]][cPark] >= PARKING)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Это транспортное средство уже продано скупщику !");
		    return 1;
		}
		if(VehInfo[nCarID[playerid]][cDate] == getdate())
		{   //если это тачка куплена сегодня
			SendClientMessage(playerid, COLOR_GREY, "   Данное транспортное средство сегодня не принимается.");
			return 1;
		}
	    if(	VehInfo[nCarID[playerid]][cOwned] == PlayerInfo[playerid][pSQLID])
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Ваше транспортное средство не принимается !");
		    return 1;
		}
	    if(	VehicleArray[modelid-400][Category] == Bicycle ||
	    	VehicleArray[modelid-400][Category] == Boats ||
			VehInfo[nCarID[playerid]][cType] < 1000)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Лодки, велосипеды и халявные тачки сервера не принимаются !");
		    return 1;
		}
	    if(	VehicleArray[modelid-400][Category] == Airplane && PlayerInfo[playerid][pFlyLic] != 1)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не можете сдавать данное транспортное средство.");
		    return 1;
		}
		if(VehicleArray[modelid-400][Category] == Motorcycle && PlayerInfo[playerid][pBikeLic] != 1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете сдавать данное транспортное средство.");
			return 1;
		}
	    if(	//VehicleArray[modelid-400][Category] == State_Transport ||
			modelid == 407 || modelid == 425 || modelid == 432 || modelid == 447 || modelid == 476 ||modelid == 520 || modelid == 564)
		{
		    //SendClientMessage(playerid, COLOR_GREY, "   Транспорт гос. служащих и военных не принимается !");
		    SendClientMessage(playerid, COLOR_GREY, "  Боевой транспорт не принимается !");
		    return 1;
		}
	    //if(	modelid == 420 || modelid == 431 || modelid == 437 || modelid == 438)
	    /*if(	VehicleArray[modelid-400][Category] == Public_Service)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Общественный маршрутный транспорт не принимается !");
		    return 1;
		}*/

		new sb;
		for(new j = 0; j < sizeof(Parking); j++)
		{
			if(IsPlayerInArea(playerid, Parking[j]))
			{
				sb = PARKING+j;
			    //format(strcmd, sizeof(strcmd), "sb %d", sb);
				//SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				break;
			}
		}
		if(sb < PARKING || sb >= PARKING+sizeof(Parking))
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться в паркинге Emerald Isle в Las Venturas (USE: /gps 1024)!");
			return 1;
		}
		if(sb != PARKING+sizeof(Parking)-1 &&//40+11-1=50
			(VehicleArray[modelid-400][Category] == Airplane ||
			VehicleArray[modelid-400][Category] == Helicopters) )
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться на 11 уровне паркинге Emerald Isle в Las Venturas (USE: /gps 1024)!");
			return 1;
		}
		if(SBizInfo[sb][sbLock] != 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот скупщик закрыл автостоянку !");
			return 1;
		}
		//----------------------------------------------------------------------
		//new vid;
		//foreachex(StreamedVehicle[playerid], vid)
		//for(new vid = 1; vid<=GetMaxVehicles; vid++)
		new vid = 1, count;
		for(new v=0; v!=-1; v=StreamedVehicle[playerid][v])	{
			if(StreamedVehicle[playerid][v] == -1) continue;
			vid = StreamedVehicle[playerid][v];

			if(VehInfo[vid][cPark] == sb) count ++;//подсчитали ко-во машина на данной парковке
			if( GetDistanceToCar(playerid, vid) < 5.0 && vid != nCarID[playerid] )
			{
				SendClientMessage(playerid, COLOR_GREY, "   Нет места для парковки транспорта !");
				return 1;
			}
		}
		if( count >= 72 )
		{
			SendClientMessage(playerid, COLOR_GREY, "   Данная парковка полностью заставлена машинами ! Максимальное кол-во 72");
			return 1;
		}
		//----------------------------------------------------------------------
		/*new money, rand;
		if(level < 50) {  rand = random(sizeof(RANDMONEY1)); money = RANDMONEY1[rand]; PlayerInfo[playerid][pCarTime] = 1200;}
		else if(level >= 50 && level < 100) {  rand = random(sizeof(RANDMONEY2)); money = RANDMONEY2[rand]; PlayerInfo[playerid][pCarTime] = 1080;}
		else if(level >= 100 && level < 200) {  rand = random(sizeof(RANDMONEY3)); money = RANDMONEY3[rand]; PlayerInfo[playerid][pCarTime] = 960;}
		else if(level >= 200 && level < 400) {  rand = random(sizeof(RANDMONEY4)); money = RANDMONEY4[rand]; PlayerInfo[playerid][pCarTime] = 840;}
		else if(level >= 400) { money = RANDMONEY5; PlayerInfo[playerid][pCarTime] = 720;}
		*/
		//------------------------------------------------------------------

		GetVehicleHealth(nCarID[playerid], VehHealth[nCarID[playerid]]);
		if(VehHealth[nCarID[playerid]] > 1000.0 || VehHealth[nCarID[playerid]] < 1.0)
		{
			VehHealth[nCarID[playerid]] = 300.0;
		}
		//new price = floatround( VehicleArray[modelid-400][Virtual_Price]*SBizInfo[sb][sbEntranceCost]/100);//10% стоимости тачки
		new price = floatround( VehicleArray[modelid-400][Virtual_Price]*SBizInfo[sb][sbBuyProd]/100.0);//10% стоимости тачки
		new damage = floatround( VehHealth[nCarID[playerid]]*100/1000.0 );//% состояния
		new money = price*damage/100;// 1%
		//if( !IsPlayerInArea(playerid, specialzone[10]) )

		if(SBizInfo[sb][sbTill] < money)
		{
			SendClientMessage(playerid, COLOR_GREY, "   У скупщика нет столько средств, чтобы заплатить вам !");
			return 1;
		}
		GivePlayerMoneyB(fjob+PlayerInfo[playerid][pJob], playerid, money);
		SBizInfo[sb][sbTill] -= money;
		SBizInfo[sb][sbProducts] ++;
		SBizInfo[sb][sbImport] += money;
		new carid = nCarID[playerid];
	 	//GetVehiclePos(carid, VehInfo[carid][cLocX], VehInfo[carid][cLocY], VehInfo[carid][cLocZ]);
		//GetVehicleZAngle(carid, VehInfo[carid][cAng]);
  	    SetVehicleParams(carid,playerid,VEHICLE_PARAMS_OFF,VEHICLE_PARAMS_OFF,VEHICLE_PARAMS_OFF,VEHICLE_PARAMS_OFF,VEHICLE_PARAMS_OFF,VEHICLE_PARAMS_OFF,VEHICLE_PARAMS_OFF);
		//LockCar(carid);//не закрываем чтобы можно было продовать
		VehInfo[carid][cPark] = sb;
		SaveCarParameters(carid);
		//------------------------------------------------------------------
	    PlayerInfo[playerid][pJackSkill] ++;//увеличить счётчик проф. уровня угнаных машин
    	new level = PlayerInfo[playerid][pJackSkill];
		if(level == 50)
		{ SendClientMessage(playerid, COLOR_YELLOW, "* Ваш профессиональный уровень Автоугонщика теперь 2, Вы зарабатываете больше Денег и за меньшее Время."); }
		else if(level == 100)
		{ SendClientMessage(playerid, COLOR_YELLOW, "* Ваш профессиональный уровень Автоугонщика теперь 3, Вы зарабатываете больше Денег и за меньшее Время."); }
		else if(level == 200)
		{ SendClientMessage(playerid, COLOR_YELLOW, "* Ваш профессиональный уровень Автоугонщика теперь 4, Вы зарабатываете больше Денег и за меньшее Время."); }
		else if(level == 400)
		{ SendClientMessage(playerid, COLOR_YELLOW, "* Ваш профессиональный уровень Автоугонщика теперь 5, Вы зарабатываете больше Денег и за меньшее Время."); }
		//------------------------------------------------------------------
	    format(strcmd, sizeof(strcmd), "* Вы сдали автомобиль за %d$ с %.0f hp", money,  VehHealth[nCarID[playerid]] );
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);

		Offer[playerid] = ReturnUser(SBizInfo[VehInfo[nCarID[playerid]][cPark]][sbOwner]);
	    if(IsPlayerConnected(Offer[playerid]))
		{
    		format(strcmd, sizeof(strcmd), "* %s сдал Вам Автомобиль на сумму $%d", PlayerName(playerid), money);
			SendClientMessage(Offer[playerid], COLOR_LIGHTBLUE, strcmd);
		}
	    RemovePlayerFromVehicle(playerid);
	    Offer[playerid] = MAX_PLAYERS-1;
	    //CP[playerid] = 0;
		//return 1;
	}
	else if(!strcmp(cmd, "/redrafting", true) || !strcmp(cmd, "/redraft", true))
	{
 		if(PlayerInfo[playerid][pLevel] < 3)// || PlayerInfo[playerid][pConnectTime] < 20
 		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы прожили не достаточно много! Необходим 3 уровень!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessageEx(playerid, COLOR_GRAYWHITE, "USE: /redrafting [playerid/PartOfName] [price]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if(giveplayerid == playerid)
	    {
	        SendClientMessageEx(playerid, COLOR_GREY, "   Не можете предложить самому себе!");
	        return 1;
	    }
	    if(!IsPlayerConnectedEx(giveplayerid))
		{
			SendClientMessageEx(playerid, COLOR_GREY, "   Этого игрока нету на сервере !");
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
		if(GetPVarInt(giveplayerid, "gShowDialog") != -1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   У игрока открыто диалоговое окно!");
			return 1;
		}
		if(CarPrice[giveplayerid] != 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Подождите когда игрок согласится или откажется от вашего предожения !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessageEx(playerid, COLOR_GRAYWHITE, "USE: /redrafting [playerid/PartOfName] [price]");
			return 1;
		}

		new money = strval(tmp);
		if(money < 1000)
		{
			SendClientMessageEx(playerid, COLOR_GREY, "   Цена не ниже $1000");
			return 1;
		}
		//if(CurState[playerid] == PLAYER_STATE_PASSENGER)
		if(CurState[playerid] == PLAYER_STATE_DRIVER)
		{
		    AutoRedrafting(playerid, giveplayerid, money);
		}
		else
		{
			new Float:oldposx, Float:oldposy, Float:oldposz;
			GetPlayerPos(playerid, oldposx, oldposy, oldposz);
			for(new h = 0; h < MAX_HOUSE; h++)
			{
				if(HouseInfo[h][hOwned] == 0) continue;
				if(	!IsPlayerInRangeOfPoint(playerid, 8.0, HouseInfo[h][hEntranceX], HouseInfo[h][hEntranceY], HouseInfo[h][hEntranceZ])) continue;
				//if(strcmp(PlayerName(playerid), HouseInfo[h][hOwner], true))
				if(PlayerInfo[playerid][pSQLID] != HouseInfo[h][hOwned])
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы не владелец этого дома.");
					return 1;
				}
				if(PlayerInfo[giveplayerid][pLevel] < HouseInfo[h][hLevel])
				{
					format(strcmd, sizeof(strcmd), "   Игрок должен быть уровня %d, чтобы купить это !", HouseInfo[h][hLevel]);
					SendClientMessage(playerid, COLOR_GREY, strcmd);
					return 1;
				}
				if(PlayerInfo[giveplayerid][pLevel] - HouseInfo[h][hLevel] > 3 &&
					PlayerInfo[giveplayerid][pLevel] < 23 && numplayers >= 50)
				{
					format(strcmd, sizeof(strcmd), "   Игрок не может купить дом ниже %d-го уровня!", PlayerInfo[playerid][pLevel]-3);
					SendClientMessage(playerid, COLOR_GREY, strcmd);
					return 1;
				}
				/*if(GetPlayerMoneyH(giveplayerid) < money)//HouseInfo[h][hBuyPrice])
				{
					SendClientMessage(playerid, COLOR_GREY, "   У игрока не хватает денег на руках!");
					return 1;
				}*/
				if(GetPlayerMoneyH(giveplayerid) < 0 || PlayerInfo[giveplayerid][pBank] < 0 || PlayerInfo[giveplayerid][pDeposit] < 0)
				{
					SendClientMessage(playerid, COLOR_GREY, "   У игрока зафиксирован минусовой баланс!");
					return 1;
				}
			    format(strcmd, sizeof(strcmd), "* Вы предложили переоформить свой дом на %s за $%d .", PlayerName(giveplayerid), money);
				SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				new msgitem[90+24+20+10];
				format(msgitem, sizeof(msgitem), " * %s\n хочет переоформить дом %s на Вас за $%d.\n\nНажмите Accept, чтобы принять.",
					PlayerName(playerid), HouseInfo[h][hDiscription], money);
				Offer[giveplayerid] = playerid;
				CarPrice[giveplayerid] = money;
				SetPVarInt(giveplayerid, "House", h);

				MenuOperation[giveplayerid] = 132;
				ShowPlayerDialogEx(giveplayerid, REDRAFT_DIALOG, DIALOG_STYLE_MSGBOX, "Переоформление Жилья",msgitem,"Accept","Cancel");
				break;
			}
			for(new b=1; b<MAX_BIZ-2; b++)
			{//пропускаем банк, склад и порт
				if(BizInfo[b][bOwned] == 0) continue;
				if(!IsPlayerInRangeOfPoint(playerid, 8.0, BizInfo[b][bEntranceX], BizInfo[b][bEntranceY], BizInfo[b][bEntranceZ])) continue;
				//if(strcmp(PlayerName(playerid), BizInfo[b][bOwner], true))
				if(PlayerInfo[playerid][pSQLID] != BizInfo[b][bOwned])
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы не владелец этого бизнеса.");
					return 1;
				}
				/*if(PlayerInfo[giveplayerid][pLevel] < BizInfo[b][bLevel])
				{
					format(strcmd, sizeof(strcmd), "   Игрок Должен Иметь Уровень %d, чтобы Приобрести Это",BizInfo[b][bLevel]);
					SendClientMessage(playerid, COLOR_GREY, strcmd);
					return 1;
				}*/
				/*if(GetPlayerMoneyH(giveplayerid) < money)//BizInfo[b][bBuyPrice])
				{
					SendClientMessage(playerid, COLOR_GREY, "   У игрока не хватает денег на руках!");
					return 1;
				}*/
				if(GetPlayerMoneyH(giveplayerid) < 0 || PlayerInfo[giveplayerid][pBank] < 0 || PlayerInfo[giveplayerid][pDeposit] < 0)
				{
					SendClientMessage(playerid, COLOR_GREY, "   У игрока зафиксирован минусовой баланс!");
					return 1;
				}
			    format(strcmd, sizeof(strcmd), "* Вы предложили переоформить свой бизнес на %s за $%d .", PlayerName(giveplayerid), money);
				SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				new msgitem[90+24+20+10];
				format(msgitem, sizeof(msgitem), " * %s\n хочет переоформить бизнес %s на Вас за $%d.\n\nНажмите Accept, чтобы принять.",
					PlayerName(playerid), BizInfo[b][bDiscription], money);
				Offer[giveplayerid] = playerid;
				CarPrice[giveplayerid] = money;
				SetPVarInt(giveplayerid, "Bouse", b);

				MenuOperation[giveplayerid] = 133;
				ShowPlayerDialogEx(giveplayerid, REDRAFT_DIALOG, DIALOG_STYLE_MSGBOX, "Переоформление Бизнеса",msgitem,"Accept","Cancel");

				break;
			}
			for(new sb=0; sb<MAX_SBIZ; sb++)
			{
				if(SBizInfo[sb][sbOwned] == 0) continue;
				if(!IsPlayerInRangeOfPoint(playerid, 3.0, SBizInfo[sb][sbEntranceX], SBizInfo[sb][sbEntranceY], SBizInfo[sb][sbEntranceZ])) continue;
				//if(strcmp(PlayerName(playerid), SBizInfo[sb][sbOwner], true))
				if(PlayerInfo[playerid][pSQLID] != SBizInfo[sb][sbOwned])
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы не владелец этой компании.");
					return 1;
				}
				//для владения несколькими бизами
				/*if(PlayerInfo[giveplayerid][pLevel] < SBizInfo[sb][sbLevel])
				{
					format(strcmd, sizeof(strcmd), "   Игрок должен быть уровня %d, чтобы купить это",SBizInfo[sb][sbLevel]);
					SendClientMessage(playerid, COLOR_GREY, strcmd);
					return 1;
				}*/
				/*if(GetPlayerMoneyH(giveplayerid) < money)// SBizInfo[sb][sbBuyPrice])
				{
					SendClientMessage(playerid, COLOR_GREY, "   У игрока не хватает денег на руках!");
					return 1;
				}*/
				if(GetPlayerMoneyH(giveplayerid) < 0 || PlayerInfo[giveplayerid][pBank] < 0 || PlayerInfo[giveplayerid][pDeposit] < 0)
				{
					SendClientMessage(playerid, COLOR_GREY, "   У игрока зафиксирован минусовой баланс!");
					return 1;
				}
				if(	sb >= PARKING && sb < PARKING+sizeof(Parking) &&
					PlayerInfo[giveplayerid][pJob] != AUTOBUYER)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Игрок не скупщик авто, чтобы купить парковку авто!");
					return 1;
				}
			    format(strcmd, sizeof(strcmd), "* Вы предложили переоформить свою компанию %s[%d] на %s за $%d .", SBizInfo[sb][sbDiscription], sb, PlayerName(giveplayerid), money);
				SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				new msgitem[90+24+20+10];
				format(msgitem, sizeof(msgitem), " * %s\n хочет переоформить компанию %s[%d] на Вас за $%d.\n\nНажмите Accept, чтобы принять.",
					PlayerName(playerid), SBizInfo[sb][sbDiscription], sb, money);
				Offer[giveplayerid] = playerid;
				CarPrice[giveplayerid] = money;
				SetPVarInt(giveplayerid, "SBouse", sb);

				MenuOperation[giveplayerid] = 134;
				ShowPlayerDialogEx(giveplayerid, REDRAFT_DIALOG, DIALOG_STYLE_MSGBOX, "Переоформление Компании",msgitem,"Accept","Cancel");

				break;
			}
		}
		return 1;
	}
	else if(!strcmp(cmd, "/buycar", true))//для скупщиков
	{
        if(PlayerInfo[playerid][pJob] != AUTOBUYER)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы - не Скупщик Авто !");
		    return 1;
		}

		new sbouse = NOT_KEY, found;
		for(new limit = 0; limit < 20; limit++)
		{
			if(MyCompany[playerid][limit] == NOT_KEY) continue;
			sbouse = MyCompany[playerid][limit];
			if(sbouse >= PARKING && sbouse < PARKING+sizeof(Parking)) { found = 1; break; }
		}
		if(!found)
		{
  		    SendClientMessage(playerid, COLOR_GREY, "   У вас нет автостоянки в паркинге Emerald Isle в Las Venturas !");
			return 1;
		}
		new sb;
		for(new j = 0; j < sizeof(Parking); j++)
		{
			if(IsPlayerInArea(playerid, Parking[j]))
			{
				sb = PARKING+j;
				break;
			}
		}
		if(PlayerInfo[playerid][pSQLID] != SBizInfo[sb][sbOwned] )
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться на своей автостоянке !");
			return 1;
		}
       	if(!IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться в транспортном средстве!");
			return 1;
		}
		if(CurState[playerid] != PLAYER_STATE_PASSENGER)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться на пассажирском сидении!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /buycar [playerid/PartOfName] [price]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if(giveplayerid == playerid)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Не можете предложить самому себе!");
	        return 1;
	    }
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
       	if(!IsPlayerInAnyVehicle(giveplayerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Игрок должен находиться в транспортном средстве!");
			return 1;
		}
		if(GetPlayerState(giveplayerid) != PLAYER_STATE_DRIVER)
		{
			SendClientMessage(playerid, COLOR_GREY, "  Игрок должен находиться на водительском сидении!");
			return 1;
		}//если заказчик в машине
		if(!IsPlayerInVehicle(playerid, nCarID[giveplayerid]))
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не в Вашей машине!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /buycar [playerid/PartOfName] [price]");
			return 1;
		}
		new money = strval(tmp);
		if(money < 1 || money > VehicleArray[nCarModel[playerid]-400][Virtual_Price] )
		{
	    	format(strcmd, sizeof(strcmd), "   Цена не ниже $1 и не выше $%d.", VehicleArray[nCarModel[playerid]-400][Virtual_Price]);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(GetPlayerMoneyH(playerid) < money)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   У Вас нет этой суммы денег на руках!");
			return 1;
		}
	    format(strcmd, sizeof(strcmd), "* Вы предложили купить автомобиль за $%d .", PlayerName(giveplayerid), money);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		new msgitem[72+24+10];
		format(msgitem, sizeof(msgitem), "* %s\n хочет купить автомобиль за $%d.\n\nНажмите Accept, чтобы принять.", PlayerName(playerid), money);
		SetPVarInt(giveplayerid, "BizID", sb);
		Offer[giveplayerid] = playerid;
		CarPrice[giveplayerid] = money;
		MenuOperation[giveplayerid] = 26;
		ShowPlayerDialogEx(giveplayerid, ACCEPT_DIALOG, DIALOG_STYLE_MSGBOX, "Покупка Транспортных Средств", msgitem, "Accept", "Cancel");
		//return 1;
	}
	else if(!strcmp(cmd, "/callcar", true))
	{
		CallCar(playerid);
		//return 1;
	}
	//--------------------------------------------------------------------------
	//для боксёров начало
	else if(!strcmp(cmd, "/boxstats", true))
	{
        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /boxstats [Playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
        new ntext[20], points;
		strmid(ntext, GetBoxerRanks(giveplayerid, points), 0, 20, 20);
		new msgitem[386];//43+25+40+26+10+24+10+19+20+24+19+10+21+10+43+37+5
		strcat(msgitem, "________________________________________\n");
		format(strcmd, sizeof(strcmd), "Current Champion: \t%s\n", Champion[TitelName]);
		strcat(msgitem, strcmd);
		format(strcmd, sizeof(strcmd), "Champion Winnings: \t%d\n", Champion[TitelWins]);
		strcat(msgitem, strcmd);
		format(strcmd, sizeof(strcmd), "Champion Losses: \t%d\n", Champion[TitelLoses]);
		strcat(msgitem, strcmd);
		format(strcmd, sizeof(strcmd), "Title: \t\t%s %s\n", ntext, PlayerName(giveplayerid));
		strcat(msgitem, strcmd);
		format(strcmd, sizeof(strcmd), "Total Wins: \t%d\n", PlayerInfo[giveplayerid][pWins]);
		strcat(msgitem, strcmd);
		format(strcmd, sizeof(strcmd), "Total Losses: \t%d\n", PlayerInfo[giveplayerid][pLoses]);
		strcat(msgitem, strcmd);
		strcat(msgitem, "________________________________________\n");
		format( strcmd, sizeof(strcmd), "Probability of the Victory: \t%.2f\n", PlayerInfo[giveplayerid][pWins]/(1.0+PlayerInfo[giveplayerid][pWins]+PlayerInfo[giveplayerid][pLoses]) );
		strcat(msgitem, strcmd);
		ShowPlayerDialogEx1(playerid, DIALOG100, DIALOG_STYLE_MSGBOX, "Boxing Records", msgitem, "OK", "");
		//return 1;
	}
	else if(!strcmp(cmd, "/secundans", true))
	{	//для боксёров начало STEP1
        //if(PlayerInfo[playerid][pJob] != 12)
        if(PlayerInfo[playerid][pJob] != BOOKMAKER)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы - не Букмекер, чтобы предлогать услуги секунданта!");
            return 1;
        }
        if(RoundCounter > 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "  Ринг занят. Уже идет Бой. Ждите окончания Боя !");
            return 1;
        }
        /*if(!IsPlayerInRangeOfPoint(playerid, 15.0, 764.9067,6.4177,1000.7171))
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не в Зале Ganton Gym на Grove Street (LS)!");
            return 1;
        }
        if(!IsPlayerInRangeOfPoint(playerid, 15.0, 766.7358,-68.5967,1001.5692))
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не в Зале Below the Belt Gym на Redsands_East2 (LV)!");
            return 1;
        }*/
        if(	!IsPlayerInRangeOfPoint(playerid, 15.0, 764.9067,6.4177,1000.7171) &&
			!IsPlayerInRangeOfPoint(playerid, 15.0, 766.7358,-68.5967,1001.5692))
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не в Спортивном Зале!");
            return 1;
        }
        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /secundans [Playerid1/PartOfName] [Playerid2/PartOfName]");
			return 1;
		}
		new giveplayerid1 = ReturnUser(tmp);
	    if(Offer[giveplayerid1] < MAX_PLAYERS-1)
		{
			format(strcmd, sizeof(strcmd), "   %s уже получил предложение !", PlayerName(giveplayerid1));
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /secundans [Playerid/PartOfName] [Playerid/PartOfName]");
			return 1;
		}
		new giveplayerid2 = ReturnUser(tmp);
	    if(Offer[giveplayerid2] < MAX_PLAYERS-1)
		{
			format(strcmd, sizeof(strcmd), "   %s уже получил предложение !", PlayerName(giveplayerid2));
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
    	if(giveplayerid1 == giveplayerid2)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы неможете предлагать свои услуги одному и тому же игроку!");
			return 1;
		}
	    if(giveplayerid1 == playerid || giveplayerid2 == playerid)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы неможете предлагать свои услуги самому себе!");
			return 1;
		}
	    if(!IsPlayerConnected(giveplayerid1) || !IsPlayerConnected(giveplayerid2))
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Одного из игроков нету на сервере !");
		    return 1;
		}
        if(	!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid1) ||
			!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid2))
		{
			SendClientMessage(playerid, COLOR_GREY, "   Один из игроков не рядом с Вами !");
			return 1;
		}
		if(gOnDuty[giveplayerid1] != 0 || gOnDuty[giveplayerid2] != 0)
		{
			if(gOnDuty[giveplayerid1]) {
				format(strcmd, sizeof(strcmd), "   Вы не можете предлогать бой, т.к. %s на дежурстве.", PlayerName(giveplayerid1));
				SendClientMessage(playerid, COLOR_GREY, strcmd);
			}
			if(gOnDuty[giveplayerid2]) {
				format(strcmd, sizeof(strcmd), "   Вы не можете предлогать бой, т.к. %s на дежурстве.", PlayerName(giveplayerid2));
				SendClientMessage(playerid, COLOR_GREY, strcmd);
			}
			return 1;
		}
	    if(WantedPoints[giveplayerid1] > 0 || WantedPoints[giveplayerid2] > 0)
		{
			if(WantedPoints[giveplayerid1] > 0) {
				format(strcmd, sizeof(strcmd), "   Вы не можете предлогать бой, т.к. %s находится в розыске.", PlayerName(giveplayerid1));
				SendClientMessage(playerid, COLOR_GREY, strcmd);
			}
			if(WantedPoints[giveplayerid2] > 0) {
				format(strcmd, sizeof(strcmd), "   Вы не можете предлогать бой, т.к. %s находится в розыске.", PlayerName(giveplayerid2));
				SendClientMessage(playerid, COLOR_GREY, strcmd);
			}
			return 1;
		}
	    if(PlayerInfo[giveplayerid1][pJailed] > 0 || PlayerInfo[giveplayerid2][pJailed] > 0)
		{
			if(PlayerInfo[giveplayerid1][pJailed] > 0) {
				format(strcmd, sizeof(strcmd), "   Вы не можете предлогать бой, т.к. %s находится под арестом.", PlayerName(giveplayerid1));
				SendClientMessage(playerid, COLOR_GREY, strcmd);
			}
			if(PlayerInfo[giveplayerid2][pJailed] > 0) {
				format(strcmd, sizeof(strcmd), "   Вы не можете предлогать бой, т.к. %s находится под арестом.", PlayerName(giveplayerid2));
				SendClientMessage(playerid, COLOR_GREY, strcmd);
			}
			return 1;
		}
		if(AFK_IdleTime[giveplayerid1] > 1 || AFK_IdleTime[giveplayerid2] > 1)
		{
			if(AFK_IdleTime[giveplayerid1] > 1) {
				format(strcmd, sizeof(strcmd), "   Вы не можете предлогать бой, т.к. %s находится в AFK.", PlayerName(giveplayerid1));
				SendClientMessage(playerid, COLOR_GREY, strcmd);
			}
			if(AFK_IdleTime[giveplayerid2] > 1) {
				format(strcmd, sizeof(strcmd), "   Вы не можете предлогать бой, т.к. %s находится в AFK.", PlayerName(giveplayerid2));
				SendClientMessage(playerid, COLOR_GREY, strcmd);
			}
		    return 1;
		}
		if((PlayerInfo[giveplayerid1][pSTD] > 0 && PlayerInfo[giveplayerid1][pSTD] < IsNotBeenIll) || (PlayerInfo[giveplayerid2][pSTD] > 0 && PlayerInfo[giveplayerid2][pSTD] < IsNotBeenIll))
		{
			if(PlayerInfo[giveplayerid1][pSTD] > 0 && PlayerInfo[giveplayerid1][pSTD] < IsNotBeenIll) {
				format(strcmd, sizeof(strcmd), "   Вы не можете предлогать бой, т.к. %s болен.", PlayerName(giveplayerid1));
				SendClientMessage(playerid, COLOR_GREY, strcmd);
			}
			if(PlayerInfo[giveplayerid2][pSTD] > 0 && PlayerInfo[giveplayerid2][pSTD] < IsNotBeenIll) {
				format(strcmd, sizeof(strcmd), "   Вы не можете предлогать бой, т.к. %s болен.", PlayerName(giveplayerid2));
				SendClientMessage(playerid, COLOR_GREY, strcmd);
			}
		    return 1;
		}

		format(strcmd, sizeof(strcmd), "* Вы вызвали на Бой %s'а", PlayerName(giveplayerid1));
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		//format(strcmd, sizeof(strcmd), "* Секундант %s предлогает Вам бой с %s[%d] (USE: /accept secundans), чтобы принять.", PlayerName(playerid), PlayerName(giveplayerid2), giveplayerid2);
		new msgitem[80+24+24+3];
		format(msgitem, sizeof(msgitem), "* Секундант %s \nпредлогает Вам бой с %s[%d]\n\n Нажмите Accept, чтобы принять.", PlayerName(playerid), PlayerName(giveplayerid2), giveplayerid2);
		//SendClientMessage(giveplayerid1, COLOR_LIGHTBLUE, strcmd);
        Offer[giveplayerid1] = playerid;
		MenuOperation[giveplayerid1] = 13;
		ShowPlayerDialogEx1(giveplayerid1, ACCEPT_DIALOG, DIALOG_STYLE_MSGBOX, "Рефери", msgitem, "Accept", "Cancel");
		format(strcmd, sizeof(strcmd), "* Вы вызвали на Бой %s'а", PlayerName(giveplayerid2));
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		format(msgitem, sizeof(msgitem), "* Секундант %s \nпредлогает Вам бой с %s[%d]\n\n Нажмите Accept, чтобы принять.", PlayerName(playerid), PlayerName(giveplayerid1), giveplayerid1);
		//SendClientMessage(giveplayerid2, COLOR_LIGHTBLUE, strcmd);
        Offer[giveplayerid2] = playerid;
		MenuOperation[giveplayerid2] = 13;
		ShowPlayerDialogEx1(giveplayerid2, ACCEPT_DIALOG, DIALOG_STYLE_MSGBOX, "Рефери", msgitem, "Accept", "Cancel");

		//TimeQuestioning = 1;//запускаем таймер
	   	for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) || !gPlayerSpawned[i] ) continue;
			if(i == playerid) continue;
			if(spectateid[i] != MAX_PLAYERS-1) continue;
			if(AFK_IdleTime[i] >= 3) continue;
			if(PlayerInfo[i][pJailed] > 0) continue;
			if(WantedPoints[i] > 0) continue;
			if(PlayerInfo[i][pSTD] > 0) continue;
			if(PlayerInfo[i][pLocal] == PlayerInfo[playerid][pLocal]) continue;
			if(gOnDuty[i] != 0 || gOnDuty[i] != 0) continue;

			HideDialog(i);
			Offer[i] = playerid;
			//TogglePlayerControllableEx(i, 0);//обездвиживает
			new strtmp[700 + 48+2];
			format(strtmp, sizeof(strtmp), "Вы хотите телепортироваться к %s\n на место проведение боксёрских поединков?\
\n{8CAA63}Примечание:\n\
\t- У Вас %d секунд на принятие решения !", PlayerName(Offer[i]), qTime);
			ShowPlayerDialogEx1(i, BOX_DIALOG, DIALOG_STYLE_MSGBOX, "Телепорт к месту проведения боёв", strtmp, "Accept", "Cancel");
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/dorate", true))//для боксёров collect rates
	{
        //if(PlayerInfo[playerid][pJob] != 12)
        if(PlayerInfo[playerid][pJob] != BOOKMAKER)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы - не Букмекер, чтобы собирать ставки!");
            return 1;
        }
        if(RoundCounter > 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "  Уже идет Бой, ждите окончания Боя !");
            return 1;
        }
        if(BoxerBlue == MAX_PLAYERS-1 || BoxerRed == MAX_PLAYERS-1)
        {
            SendClientMessage(playerid, COLOR_GREY, "  На ринге нету двух бойцов !");
            return 1;
        }
		if( Offer[BoxerBlue] != playerid && Offer[BoxerRed] != playerid &&
			Offer[BoxerBlue] != MAX_PLAYERS-1 && Offer[BoxerRed] != MAX_PLAYERS-1)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы - не можете собрать ставки, т.к. не Вы организатор данного боя!");
            return 1;
        }
        if(TotalRates > 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Ставки сделаны !");
            return 1;
        }
 		//навсякий случай обнулили
		TotalRates = 0;
		TotalRateBlue = 0;
		TotalRateRed = 0;
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			Rates[i][0] = 0; Rates[i][1] = 0;
			if( !IsPlayerConnectedEx(i) ) continue;
			if(i == playerid) continue;
			if(gPlayerBoxing[i] == 1) continue;
			if(!IsPlayerInRangeOfPlayer(30.0, i, playerid)) continue;

			LoopingAnim(i, "PED", "IDLE_CHAT", 4.0, 1, 0, 0, 0, 0);

			format(strcmd, sizeof(strcmd), "Введите вашу Oдиночную ставку от $1000 до $100000. \
				\nСумма выигрыша равна сумме ставки \nумноженной на коэффициент. \
				\n\nПо окончанию нажмите кнопку, \nкоторая соответствует цвету Вашего бойца. \
				\nОбщая сумма ставок на данный момент: $%d", TotalRates);
			ShowPlayerDialogEx(i, WBE_DIALOG, DIALOG_STYLE_INPUT, "World Bet Exchange",strcmd, "BLUE", "RED");
		}
    	return 1;
	}

	//--------------------------------------------------------------------------
	else if(!strcmp(cmd, "/seebus", true))//для автобусников
	{
		SendClientMessage(playerid, COLOR_HERBAL, "Водитель Автобуса:");
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) ) continue;
			if(PlayerInfo[i][pJob] != BUSDRIVER) continue;
			if(!gJobDuty[i]) continue;
			if(BusRoute[i] == -1) continue;

	        if(BusRoute[i] == 0)
	        {
				strmid(strcmd, "Маршрут: LS", 0, strlen("Маршрут: LS"), 255);
			}
	        else if(BusRoute[i] == 1)
	        {
				strmid(strcmd, "Маршрут: LV1", 0, strlen("Маршрут: LV1"), 255);
			}
	        else if(BusRoute[i] == 2)
	        {
				strmid(strcmd, "Маршрут: LV2", 0, strlen("Маршрут: LV2"), 255);
			}
	        else if(BusRoute[i] == 3)
	        {
				strmid(strcmd, "Маршрут: LV3", 0, strlen("Маршрут: LV3"), 255);
			}
	        else if(BusRoute[i] == 4)
	        {
				strmid(strcmd, "Маршрут: SF", 0, strlen("Маршрут: SF"), 255);
			}
	        else if(BusRoute[i] == 5)
	        {
				strmid(strcmd, "Маршрут: Мотель-Автошкола", 0, strlen("Маршрут: Мотель-Автошкола"), 255);
			}
	        else if(BusRoute[i] == 6)
	        {
				strmid(strcmd, "Маршрут: Мэрия-Банк", 0, strlen("Маршрут: Мэрия-Банк"), 255);
			}
	        else if(BusRoute[i] == 7)
	        {
				strmid(strcmd, "Маршрут: Банк-Мотель", 0, strlen("Маршрут: Банк-Мотель"), 255);
			}
			format(strcmd, sizeof(strcmd), "Водитель Автобуса: %s[%d]. %s.", PlayerName(i), i, strcmd);
			SendClientMessage(playerid, COLOR_PINK, strcmd);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/seelesson", true) || !strcmp(cmd, "/seeles", true))
	{
		SendClientMessage(playerid, COLOR_HERBAL, "Begin Lesson:");
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) ) continue;
			if(gTakingLesson[i] > 0 || DriveProgress[i] > 0)
			{
				format(strcmd, sizeof(strcmd), "Курсант: %s[%d]. Прогресс: %d. Тип Урока: %d", PlayerName(i), i, DriveProgress[i], gTakingLesson[i]);
				SendClientMessage(playerid, COLOR_LIGHTBROWN, strcmd);
			}
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/load", true))//для грузовичков продуктов начало
	{
		/*if( !IsInTruck(nCarID[playerid]) )
		{
			GameTextForPlayerEx(playerid, "~r~You are not in a delivery truck", 5000, 1);
			return 1;
		}*/
		/*if(nCarModel[playerid] == 456)
		{
			format(strcmd, sizeof(strcmd), "Products: %d/500", VehInfo[nCarID[playerid]][cLoad]);
		}
		else if(nCarModel[playerid] == 482)
		{*/
       	if(!IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться в транспортном средстве!");
			return 1;
		}
		if(CurState[playerid] != PLAYER_STATE_DRIVER)
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться за рулём транспортного средства!");
			return 1;
		}
		new amount;
		new trailerid, trailermodel;
		if(IsTrailerAttachedToVehicle(nCarID[playerid])) { trailerid = nTrailerID[playerid]; trailermodel = nTrailerModel[playerid]; }
		else { trailerid = nCarID[playerid]; trailermodel = nCarModel[playerid]; }
		if(Cargo[trailerid][tWhence] == 80)
		{
			amount = VehicleArray[trailermodel-400][Weight];//*10;
		}
		else
		{
			amount = VehicleArray[trailermodel-400][Weight]/2;
		}
		format(strcmd, sizeof(strcmd), "Загружен: {33AA33}%d/%d. Тип груза: %s[%d]", VehInfo[trailerid][cLoad], amount, TypeCargo(VehInfo[trailerid][cLoadType]), Cargo[trailerid][CargoType]);
		SendClientMessage(playerid, COLOR_GREEN, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/unload", true))//для грузовичков продуктов начало
	{
		/*if( !IsInHardTruck(nCarID[playerid]) )
		{
			GameTextForPlayerEx(playerid, "~r~You are not in a delivery truck", 5000, 1);
			return 1;
		}*/
       	if(!IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться в транспортном средстве!");
			return 1;
		}
		if(CurState[playerid] != PLAYER_STATE_DRIVER)
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться за рулём транспортного средства!");
			return 1;
		}
		new trailerid, trailermodel;
		if(IsTrailerAttachedToVehicle(nCarID[playerid])) { trailerid = nTrailerID[playerid]; trailermodel = nTrailerModel[playerid]; }
		else { trailerid = nCarID[playerid]; trailermodel = nCarModel[playerid]; }
	    new amount;
		if(Cargo[trailerid][tWhence] == 80)
		{
			amount = VehicleArray[trailermodel-400][Weight];//*10;
		}
		else
		{
			amount = VehicleArray[trailermodel-400][Weight]/2;
		}

	    tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{

			format(strcmd, sizeof(strcmd), "Загружен: {33AA33}%d/%d. Тип груза: %s[%d]",
				VehInfo[trailerid][cLoad], amount, TypeCargo(Cargo[trailerid][CargoType]), VehInfo[trailerid][cLoadType]);
			SendClientMessage(playerid, COLOR_GREEN, strcmd);

			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /unload [amount]");
			return 1;
		}
		if(strval(tmp) < 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Нельзя указывать минусовый значения!");
			return 1;
		}
		if(strval(tmp) > VehInfo[trailerid][cLoad])
		{
			SendClientMessage(playerid, COLOR_GREY, "   У вас нет столько груза!");
			return 1;
		}
		VehInfo[trailerid][cLoad] -= strval(tmp);
		format(strcmd, sizeof(strcmd), "Сброшено: {FFFFFF}%d кг.{33AA33} Загружен: {FFFFFF}%d кг.",  strval(tmp), VehInfo[trailerid][cLoad]);
		SendClientMessage(playerid, COLOR_GREEN, strcmd);
		//return 1;
	}
	/*else if(!strcmp(cmd, "/buyprods", true))
	{
        SendClientMessage(playerid, COLOR_GREY, "   Команда больше не работает!");
	    return 1;
       	if(!IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться в транспортном средстве!");
			return 1;
		}
		if(CurState[playerid] != PLAYER_STATE_DRIVER)
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться за рулём транспортного средства!");
			return 1;
		}
		if(!IsInTruck(nCarID[playerid]) )// && !IsInHardTruck(nCarID[playerid])
		{
			SendClientMessage(playerid, COLOR_GREY, "   Эта Машина не доставляет Продукты.");
			return 1;
		}
		if(!IsAtLoadingBay(playerid) && IsInTruck(nCarID[playerid]))
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы находитесь не в месте загрузки.");
			return 1;
		}
		if(	(nCarModel[playerid] == 456 || IsInHardTruck(nCarID[playerid])) && VehInfo[nCarID[playerid]][cLoad] < 500 ||
			nCarModel[playerid] == 482 && VehInfo[nCarID[playerid]][cLoad] < 100)
		{
		    new amount;
		    tmp = strtok(cmdtext, idx);
			if(!strlen(tmp))
			{
				SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /buyprods [amount]");
				return 1;
			}
			amount = strval(tmp);
			if(amount < 1 || amount > 500) { SendClientMessage(playerid, COLOR_GREY, "   Вы Не Можите купить менее 1 и более, чем 500 продуктов!"); return 1; }
			new check = VehInfo[nCarID[playerid]][cLoad] + amount;
			if(nCarModel[playerid] == 456 && check > 500)
			{
			    format(strcmd, sizeof(strcmd), "   Mаксимальная вместимость грузовика - 500. Текущая загрузка - %d.", VehInfo[nCarID[playerid]][cLoad]);
			    SendClientMessage(playerid, COLOR_GREY, strcmd);
			    return 1;
			}
			else if(nCarModel[playerid] == 482 && check > 100)
			{
			    format(strcmd, sizeof(strcmd), "   Mаксимальная вместимость,
				  грузовика - 100. Текущая загрузка - %d.", VehInfo[nCarID[playerid]][cLoad]);
			    SendClientMessage(playerid, COLOR_GREY, strcmd);
			    return 1;
			}
			new cost = amount * compcost;
			if(GetPlayerMoneyH(playerid) >= cost)
			{
				VehInfo[nCarID[playerid]][cLoad] += amount;
				if(nCarModel[playerid] == 456) format(strcmd, sizeof(strcmd), "Products: %d/500.", VehInfo[nCarID[playerid]][cLoad]);
				else if(nCarModel[playerid] == 482) format(strcmd, sizeof(strcmd), "Products: %d/100.", VehInfo[nCarID[playerid]][cLoad]);
				SendClientMessage(playerid, COLOR_GREEN, strcmd);
				format(strcmd, sizeof(strcmd), "Bы купили %d продуктов на сумму $%d.", amount, cost);
				SendClientMessage(playerid, COLOR_GREEN, strcmd);
				GivePlayerMoneyH(fsbiz+9, playerid, -cost);
			}
			else
			{
				format(strcmd, sizeof(strcmd), "   Bы не можетеу купить %d продуктов на сумму $%d! Недостаточно средств!", amount, cost);
				SendClientMessage(playerid, COLOR_GREEN, strcmd);
			}
		}
		else
		{
			if(nCarModel[playerid] == 456)
			{
				format(strcmd, sizeof(strcmd), "Products: %d/500", VehInfo[nCarID[playerid]][cLoad]);
			}
			else if(nCarModel[playerid] == 482)
			{
				format(strcmd, sizeof(strcmd), "Products: %d/100", VehInfo[nCarID[playerid]][cLoad]);
			}
			SendClientMessage(playerid, COLOR_GREEN, strcmd);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/sellprods", true))
	{
        SendClientMessage(playerid, COLOR_GREY, "   Команда больше не работает!");
	    return 1;

      	if(!IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться в транспортном средстве!");
			return 1;
		}
		if(CurState[playerid] != PLAYER_STATE_DRIVER)
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться за рулём транспортного средства!");
			return 1;
		}
		if(!IsInTruck(nCarID[playerid]))
		{
			GameTextForPlayerEx(playerid, "~r~You are not in a delivery truck", 5000, 1);
			return 1;
		}
		if(VehInfo[nCarID[playerid]][cLoad] == 0)
		{
			GameTextForPlayerEx(playerid, "~r~Truck is empty, ~n~return to the stock house", 5000, 1);
			//format(strcmd, sizeof(strcmd), "Products: %d/%d.", VehInfo[tmpcar][cLoad],VehInfo[tmpcar][cCapasity]);
			//SendClientMessage(playerid, COLOR_GREEN, strcmd);
			return 1;
		}
	    new counter;
		for(new b=0; b<MAX_BIZ; b++)
		{   //находим у кокого биза стоит грузовик с продуктами
			if(!IsPlayerInRangeOfPoint(playerid, 10.0, BizInfo[b][bEntranceX], BizInfo[b][bEntranceY], BizInfo[b][bEntranceZ])) continue;
			for(new l = VehInfo[nCarID[playerid]][cLoad]; l > 0; l--)
			{
				//if(BizInfo[b][bProducts] < BizInfo[b][bBuyProd])
				//{   //если в бизе не максимум продуктов
				if(BizInfo[b][bSellProd] <= BizInfo[b][bTill])
				{   //если цена продуктов меньше кассы в бизе
					counter ++;//счётчик
					VehInfo[nCarID[playerid]][cLoad] --;
					BizInfo[b][bProducts] ++;
					BizInfo[b][bImport] += floatround( compcost*(100+BizInfo[b][bBuyProd])/100.0 );
					BizInfo[b][bTill] -= floatround( compcost*(100+BizInfo[b][bBuyProd])/100.0 );
				}
				else
				{   //если цена продуктов больше кассы в бизе
					//GameTextForPlayerEx(playerid, "~r~We Can't Afford The Deal", 5000, 1);
					SendClientMessage(playerid, COLOR_GREY, "   В кассе нет столько денег, чтобы рассчитаться с Вами !");
                   	l = 0;
				}
				//}
				//else
				//{   //если в бизе максимум продуктов
				//	//GameTextForPlayerEx(playerid, "~r~Our stores are full", 5000, 1);
				//	SendClientMessage(playerid, COLOR_GREY, "   Склад бизнеса завален продуктами !");
				//	l = 0;
				//}
			}
			if(VehInfo[nCarID[playerid]][cLoad] == 0)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Грузовик - пуст, возвращайтесь на место загрузки !");
			}
			GivePlayerMoneyH(fbiz+b, playerid, floatround( counter*compcost*(100+BizInfo[b][bBuyProd])/100.0 ));
			//format(strcmd, sizeof(strcmd), "Bы 3аработали $%d Наличными.", cashmade);
			//SendClientMessage(playerid, COLOR_GREEN, strcmd);
			return 1;
		}
		//----------------------------------------------------------------------
		for(new sb=0; sb<PARKING; sb++)
		{
			if(!IsPlayerInRangeOfPoint(playerid, 10.0, SBizInfo[sb][sbEntranceX], SBizInfo[sb][sbEntranceY], SBizInfo[sb][sbEntranceZ])) continue;
			//для владения несколькими бизами
			for(new l = VehInfo[nCarID[playerid]][cLoad]; l > 0; l--)
			{
				//if(SBizInfo[sb][sbProducts] < SBizInfo[sb][sbBuyProd])
				//{   //если в бизе не максимум продуктов
				if(SBizInfo[sb][sbSellProd] <= SBizInfo[sb][sbTill])
				{   //если цена продуктов меньше кассы в бизе
					counter ++;//счётчик
					VehInfo[nCarID[playerid]][cLoad] --;
					SBizInfo[sb][sbProducts] ++;
					SBizInfo[sb][sbTill] -= floatround( compcost*(100+SBizInfo[sb][sbBuyProd])/100.0 );
				}
				else
				{   //если цена продуктов больше кассы в бизе
					//GameTextForPlayerEx(playerid, "~r~We Can't Afford The Deal", 5000, 1);
					SendClientMessage(playerid, COLOR_GREY, "   В кассе нет столько денег, чтобы рассчитаться с Вами !");
					l = 0;
				}
				//}
				//else
				//{   //если в бизе максимум продуктов
					//GameTextForPlayerEx(playerid, "~r~Our stores are full", 5000, 1);
				//	SendClientMessage(playerid, COLOR_GREY, "   Склад бизнеса завален продуктами !");
				//	l = 0;
				//}
			}
			if(VehInfo[nCarID[playerid]][cLoad] == 0)
			{
				//GameTextForPlayerEx(playerid, "~r~Truck is empty, return to the stock house", 5000, 1);
				SendClientMessage(playerid, COLOR_GREY, "   Грузовик - пуст, возвращайтесь на место загрузки !");
			}
			GivePlayerMoneyH(fsbiz+sb, playerid, floatround( counter*compcost*(100+SBizInfo[sb][sbBuyProd])/100.0 ));
			//format(strcmd, sizeof(strcmd), "Bы 3аработали $%d Наличными.", cashmade);
			//SendClientMessage(playerid, COLOR_GREEN, strcmd);
			return 1;
		}
		//GameTextForPlayerEx(playerid, "~r~To Far From A Business", 5000, 1);
		//return 1;
	}//для грузовичков продуктов конец
*/
	//==========================================================================
	//для инкассаторов начало STEP1
	else if(!strcmp(cmd, "/paydesk", true))//carrier - перевозчик
	{
	    if(PlayerInfo[playerid][pJob] != INKASSATOR)
	    {
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
	    }
       	if(!IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться в транспортном средстве!");
			return 1;
		}
	    if(nCarModel[playerid] != 428)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Ваш тип транспортного средства не сответствует Securicar !");
		    return 1;
		}
		if(CurState[playerid] != PLAYER_STATE_DRIVER)
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться за рулём инкассаторской машины!");
			return 1;
		}
		if(CP[playerid] != 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не выполнили предыдущее задание !");
			return 1;
		}
	    new bouse = -1, InkasLimit;
		for(new i = 1; i < MAX_BIZ-2; i++)
		{//пропустить банк
			if(!IsPlayerInRangeOfPoint(playerid, 10.0,
				BizInfo[i][bEntranceX], BizInfo[i][bEntranceY], BizInfo[i][bEntranceZ])) continue;
			InkasLimit = BizInfo[i][bInkas];
			bouse = i;
			break;
		}
		for(new sb=0; sb<MAX_SBIZ; sb++)
		{
			if(!IsPlayerInRangeOfPoint(playerid, 10.0,
				SBizInfo[sb][sbEntranceX], SBizInfo[sb][sbEntranceY], SBizInfo[sb][sbEntranceZ])) continue;
			InkasLimit = SBizInfo[sb][sbInkas];
			bouse = sb+100;
			break;
		}
		if(bouse > -1)
		{
			new amount, till;
			if(bouse >= 100)
			{
				if(SBizInfo[bouse-100][sbOwned] == 0)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы не можете вывозить деньги пока бизнес не куплен!");
					return 1;
				}
				if(SBizInfo[bouse-100][sbLock] == 1)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы не можете вывозить деньги пока бизнес закрыт!");
					return 1;
				}
				till = SBizInfo[bouse-100][sbTill];
				amount = till - InkasLimit;
			}
			else
			{
				if(BizInfo[bouse][bOwned] == 0)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы не можете вывозить деньги пока бизнес не куплен!");
					return 1;
				}
				if(BizInfo[bouse][bLock] == 1)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы не можете вывозить деньги пока бизнес закрыт!");
					return 1;
				}
				till = BizInfo[bouse][bTill];
				amount = till - InkasLimit;
			}
			if(amount <= 100)
			{
				amount = 0;
				format(strcmd, sizeof(strcmd), "   Нет доступных денег для инкассации. В кассе: $%d. В обороте: $%d. Доступно: $%d.", till, InkasLimit, amount);
				SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
			}

			new level = PlayerInfo[playerid][pInkasSkill];
			if(level >= 400)//5 Уровень
			{
				if(amount > 1000000) PaydeskAmount[playerid] = 1000000;
				else PaydeskAmount[playerid] = amount;
			}
			else if(level >= 200 && level < 400)//4 Уровень
			{
				if(amount > 800000) PaydeskAmount[playerid] = 800000;
				else PaydeskAmount[playerid] = amount;
			}
			else if(level >= 100 && level < 200)//3 Уровень
			{
				if(amount > 500000) PaydeskAmount[playerid] = 500000;
				else PaydeskAmount[playerid] = amount;
			}
			else if(level >= 50 && level < 100)//2 Уровень
			{
				if(amount > 300000) PaydeskAmount[playerid] = 300000;
				else PaydeskAmount[playerid] = amount;
			}
			else //if(level < 50)//если игрок доставил 1 / 49-ую машину
			{
				if(amount > 100000) PaydeskAmount[playerid] = 100000;
				else PaydeskAmount[playerid] = amount;
			}
			PaydeskAccepted[playerid] = bouse + MAX_PLAYERS;
			CP[playerid] = CP_INKASSATOR;//получено задание 110: Миссия инкассаторов
			SetPlayerCheckpointEx(playerid, -827.6984,1500.4695,19.3880, CHECKPOINT_SIZE+1);
			format(strcmd, sizeof(strcmd), "   Bаше предложение одобрено. Сумма доставки в банк $%d.", PaydeskAmount[playerid]);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			//------------------------------------------------------------------
			new Float: distance = GetPlayerDistanceFromPoint(playerid,
				BizInfo[0][bEntranceX],
				BizInfo[0][bEntranceY],
				BizInfo[0][bEntranceZ]);
			//new Float: speed = VehicleArray[nCarModel[playerid]-400][LineSpeed]*1000;//м/ч
			new speed = VehicleArray[nCarModel[playerid]-400][MaxSpeed]*1000;//м/ч
			CallTime[playerid] = floatround(distance / speed * 3600);//сек

			checktimedeliver[playerid] = GetTickCount();
		    format(strings, sizeof(strings), "При доставке быстрее чем за %d секунд у вас обнулится скилл.", CallTime[playerid]);
		    SendClientMessage(playerid, COLOR_LIGHTBLUE, strings);
	    }
	    else
	    {
			SendClientMessage(playerid, COLOR_GREY, "   Вы далеко от места загрузки !");
	    }
		//return 1;
	}//для инкассаторов конец

 	//==========================================================================
	//BANK COMMANDS
	//==========================================================================
	else if(!strcmp(cmd, "/transfer", true))// || !strcmp(cmd, "/wiretransfer", true)
	{
		if(PlayerInfo[playerid][pMember] != SAN)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		if(PlayerInfo[playerid][pLevel] < 5)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть не ниже 5 уровня !");
			return 1;
		}
		if(PlayerInfo[playerid][pRank] < 11)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть не ниже 11 Ранга !");
		    return 1;
		}
		if(PlayerInfo[playerid][pLocal] != 249)//CNNStudio
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не в офисе Агентства Новостей !");
            return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /transfer [playerid/PartOfName] [amount]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /transfer [playerid/PartOfName] [amount]");
			return 1;
		}
		new moneys = strval(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
	    if(gPlayerSpawned[giveplayerid] == 0 || gPlayerLogged[giveplayerid] == 0)
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(moneys < 1 || moneys > PlayerInfo[playerid][pBank])
		{
			SendClientMessage(playerid, COLOR_GREY, "   Неправильная сумма перевода.");
			return 1;
		}
		if(moneys < 10000 || moneys > 10000000)//80000
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Сумма должна быть не ниже 10000, и не выше 10000000.");
		    return 1;
		}
		GivePlayerMoneyB(ftransfer, playerid, -moneys);
		GivePlayerMoneyB(ftransfer, giveplayerid, moneys);
		format(strcmd, sizeof(strcmd), "   Bы передали $%d на счет %s'а (ID:%d)", moneys, PlayerName(giveplayerid),giveplayerid);
		PlaySoundForPlayer(playerid, SOUND_AMMUNATION_BUY_WEAPON);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		format(strcmd, sizeof(strcmd), "   Bы получили $%d на свой счет от %s'а (ID:%d)", moneys, PlayerName(playerid), playerid);
		SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
		format(strcmd, sizeof(strcmd), "%s[%d] transfered $%d to %s[%d]", PlayerName(playerid), playerid, moneys, PlayerName(giveplayerid), giveplayerid);
		if(moneys >= 100000) SendAllAdminMessage(COLOR_MAROON, strcmd, 1);
		Log(PAY,strcmd);
		//return 1;
	}

	//==========================================================================
	//OTHER COMMANDS
	//==========================================================================
	else if(!strcmp(cmd, "/cmd", true))
	{
 		LISTCOMMAND(playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/leaders", true))
	{
 		LeadersOnline(playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/womans", true))
	{
 		WomansOnline(playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/referals", true))//для рефералов
	{
 		ReferalsOnline(playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/lawyers", true))
	{
		LawyersOnline(playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/instructors", true))
	{
		InstructorsOnline(playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/cardealer", true))
	{
		CarDealerOnline(playerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/give", true))
	{
        if(!IsAnInstructor(playerid) && PlayerInfo[playerid][pAdmin] != 9 )
        {
	        SendClientMessage(playerid, COLOR_GREY, "   Вы не Школьный Инструктор !");
			return 1;
		}
   		if(!IsPlayerInRangeOfPoint(playerid, 100.0,-2032.6810,-117.4816,1035.1719) && PlayerInfo[playerid][pAdmin] != 9)
  		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться в автошколе !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_HERBAL, "|____________________ Give Licenses ____________________|");
	    	SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /give [licensename] [playerid/PartOfName]");
		    SendClientMessage(playerid, COLOR_GRAD4, "Available names: {FFFFFF}Fishing{0080FF}(Rank2,7-12)");
		    SendClientMessage(playerid, COLOR_GRAD4, "Available names: {FFFFFF}Driving{0080FF}(All Ranks)");//Rank3,7-12
		    SendClientMessage(playerid, COLOR_GRAD4, "Available names: {FFFFFF}Sailing{0080FF}(Rank4,7-12)");
		    SendClientMessage(playerid, COLOR_GRAD4, "Available names: {FFFFFF}Flying{0080FF}(Rank5,7-12)");
		    SendClientMessage(playerid, COLOR_GRAD4, "Available names: {FFFFFF}DrivingA{0080FF}(Rank6-12)");
		    SendClientMessage(playerid, COLOR_GRAD4, "Available names: {FFFFFF}Weapons{0080FF}(Rank9-12)");
			SendClientMessage(playerid, COLOR_HERBAL, "|______________________________________________________|");
			return 1;
		}//-2032.6810,-117.4816,1035.1719, 275.1114
		if((GetTickCount()-iOfferTime[playerid]) < 60000)
		{   //если прошло время меньше 60 секунд с момента нажатия Cancel другим игроком
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы можете делать предложение раз в 60 секунд.");
		    return 1;
	    }
		new ToBase[74+24+2];
	    if(!strcmp(tmp, "driving", true))
		{
            tmp = strtok(cmdtext, idx);
			if(!strlen(tmp))
			{
			    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /give driving [playerid/PartOfName]");
			    return 1;
			}
	        /*if(PlayerInfo[playerid][pRank] != 3 && PlayerInfo[playerid][pLeader] != DoE && PlayerInfo[playerid][pAdmin] != 9)
	        {
		        SendClientMessage(playerid, COLOR_GREY, "   Вам нужен Ранг 3, чтобы выдавать эту лицензию !");
			    return 1;
	        }*/
			giveplayerid = ReturnUser(tmp);
		    if(giveplayerid == playerid && PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 9)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выдавать лицензию самому себе !");
				return 1;
			}
		    if( !IsPlayerConnected(giveplayerid) )
			{
				format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
			}
			if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
				|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
				return 1;
			}
			if(gTakingLesson[giveplayerid] == 1)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Закончите урок, чтобы выдать лицензию !");
				return 1;
			}
	        if(PlayerInfo[giveplayerid][pCarLic] == 1)
	        {
		        SendClientMessage(playerid, COLOR_GREY, "   Игрок уже имеет эту лицензию !");
			    return 1;
	        }
	        if(	PlayerInfo[giveplayerid][pCarLic] > 10 && PlayerInfo[playerid][pLevel] > 3 &&
				PlayerInfo[playerid][pAdmin] != 9)
	        {
            	format(strcmd, sizeof(strcmd), "   %s лишён Лицензии на Вождение на %d часов.", PlayerName(giveplayerid), PlayerInfo[giveplayerid][pCarLic]-10);
	            SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
	        }
		    if(PlayerInfo[giveplayerid][pSTD] != IsNotBeenIll && PlayerInfo[giveplayerid][pLevel] > 1)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Игрок не может получить лицензию без мед. осмотра !");
				return 1;
			}
		    LicensePrice[giveplayerid] = 2500;//для экономики
		    if(PlayerInfo[giveplayerid][pLevel] > 1)
		    {
		        if(GetPlayerMoneyH(giveplayerid) < LicensePrice[giveplayerid] &&
					PlayerInfo[giveplayerid][pBank] < LicensePrice[giveplayerid])
		        {
		            format(strcmd, sizeof(strcmd), "   Игрок не может оплатить лизенцию стоимостью $%d.", LicensePrice[giveplayerid]);
		            SendClientMessage(playerid, COLOR_GREY, strcmd);
					return 1;
		        }
	        }

			format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", PlayerName(giveplayerid), PlayerInfo[playerid][pMember]);
			mysql_query(ToBase); mysql_store_result();
			if(mysql_num_rows() > 0)
		 	{
	       		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выдавать лицензию человеку находящемуся в Чёрном Списке!");
				mysql_free_result();
				return 1;
			}
			mysql_free_result();

       		format(strcmd, sizeof(strcmd), "Bы предложили Лицензию на Вождение %s'у стоимостью $%d.", PlayerName(giveplayerid), LicensePrice[giveplayerid]);
       		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
	        Offer[giveplayerid] = playerid;
	        new msgitem[90+24+10];
			if(PlayerInfo[giveplayerid][pLevel] > 1)
			{
				format(msgitem, sizeof(msgitem), "%s \nпредложил вам лицензию на Вождение стоимостью $%d.\n\nНажмите Accept, чтобы принять.",
		 		PlayerName(playerid), LicensePrice[giveplayerid]);
		 	}
			else format(msgitem, sizeof(msgitem), "%s \nпредложил вам лицензию на Вождение бесплатно.\n\nНажмите Accept, чтобы принять.",
				PlayerName(playerid), LicensePrice[giveplayerid]);
			MenuOperation[giveplayerid] = 31;
	        ShowPlayerDialogEx(giveplayerid, GIVELIC_DIALOG, DIALOG_STYLE_MSGBOX, "Инструктор", msgitem, "Accept", "Cancel");
		}
	    if(!strcmp(tmp, "drivingA", true))//лицензия на мото
		{
            tmp = strtok(cmdtext, idx);
			if(!strlen(tmp))
			{
			    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /give driverA [playerid/PartOfName]");
			    return 1;
			}
	        if(PlayerInfo[playerid][pRank] < 6 && PlayerInfo[playerid][pLeader] != DoE && PlayerInfo[playerid][pAdmin] != 9)
	        {
		        SendClientMessage(playerid, COLOR_GREY, "   Вам нужен Ранг 6, чтобы выдавать эту лицензию !");
			    return 1;
	        }
			giveplayerid = ReturnUser(tmp);
		    if(giveplayerid == playerid && PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 9)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выдавать лицензию самому себе !");
				return 1;
			}
		    if( !IsPlayerConnected(giveplayerid) )
			{
				format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
			}
			if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
				|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
				return 1;
			}
			if(gTakingLesson[giveplayerid] == 1)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Закончите урок, чтобы выдать лицензию !");
				return 1;
			}
	        if(PlayerInfo[giveplayerid][pBikeLic] == 1)
	        {
		        SendClientMessage(playerid, COLOR_GREY, "   Игрок уже имеет эту лицензию !");
			    return 1;
	        }
	        if(PlayerInfo[giveplayerid][pLevel] < 10 && PlayerInfo[playerid][pAdmin] != 9)
	        {
		        SendClientMessage(playerid, COLOR_GREY, "   Лицензия на право управлением мототехникой Выдаётся лицам, прожившим в штате не менее 10 лет !");
			    return 1;
	        }
	        if(PlayerInfo[giveplayerid][pBikeLic] > 10 && PlayerInfo[playerid][pAdmin] != 9)
	        {
            	format(strcmd, sizeof(strcmd), "   %s лишён Лицензии на Мотоциклы на %d часов.", PlayerName(giveplayerid), PlayerInfo[giveplayerid][pBikeLic]-10);						            SendClientMessage(playerid, COLOR_GREY, strcmd);
	            SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
	        }
		    if(PlayerInfo[giveplayerid][pSTD] != IsNotBeenIll && PlayerInfo[playerid][pAdmin] != 9)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Игрок не может получить лицензию без мед. осмотра !");
				return 1;
			}
		    LicensePrice[giveplayerid] = 10000;//для экономики
	        if(GetPlayerMoneyH(giveplayerid) < LicensePrice[giveplayerid] &&
				PlayerInfo[giveplayerid][pBank] < LicensePrice[giveplayerid])
	        {
	            format(strcmd, sizeof(strcmd), "   Игрок не может оплатить лизенцию стоимостью $%d.", LicensePrice[giveplayerid]);
	            SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
	        }
			format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", PlayerName(giveplayerid), PlayerInfo[playerid][pMember]);
			mysql_query(ToBase); mysql_store_result();
			if(mysql_num_rows() > 0)
		 	{
	       		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выдавать лицензию человеку находящемуся в Чёрном Списке!");
				mysql_free_result();
				return 1;
			}
			mysql_free_result();

       		format(strcmd, sizeof(strcmd), "Bы предложили Лицензию на Мотоциклы %s'у стоимостью $%d.", PlayerName(giveplayerid), LicensePrice[giveplayerid]);
       		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);

	        Offer[giveplayerid] = playerid;
	        MenuOperation[giveplayerid] = 32;
	        new msgitem[91+24+10];
			format(msgitem, sizeof(msgitem), "%s \nпредложил вам лицензию на Мотоциклы стоимостью $%d.\n\nНажмите Accept, чтобы принять.",
				PlayerName(playerid), LicensePrice[giveplayerid]);
	        ShowPlayerDialogEx(giveplayerid, GIVELIC_DIALOG, DIALOG_STYLE_MSGBOX, "Инструктор", msgitem, "Accept", "Cancel");
        }
		else if(!strcmp(tmp, "flying", true))
		{
            tmp = strtok(cmdtext, idx);
			if(!strlen(tmp))
			{
			    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /give flying [playerid/PartOfName]");
			    return 1;
			}
	        if(PlayerInfo[playerid][pRank] != 5 && PlayerInfo[playerid][pRank] < 7 && PlayerInfo[playerid][pLeader] != DoE && PlayerInfo[playerid][pAdmin] != 9)
	        {
		        SendClientMessage(playerid, COLOR_GREY, "   Вам нужен Ранг 5, чтобы выдавать эту лицензию !");
			    return 1;
	        }
			giveplayerid = ReturnUser(tmp);
		    if(giveplayerid == playerid && PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 9)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выдавать лицензию самому себе !");
				return 1;
			}
		    if( !IsPlayerConnected(giveplayerid) )
			{
				format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
			}
			if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
				|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
				return 1;
			}
			if(gTakingLesson[giveplayerid] == 1)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Закончите урок, чтобы выдать лицензию !");
				return 1;
			}
	        if(PlayerInfo[giveplayerid][pFlyLic] == 1)
	        {
		        SendClientMessage(playerid, COLOR_GREY, "   Игрок уже имеет эту лицензию !");
			    return 1;
	        }
	        if(PlayerInfo[giveplayerid][pLevel] < 2 && PlayerInfo[playerid][pAdmin] != 9)
	        {
		        SendClientMessage(playerid, COLOR_GREY, "   Лицензия на право управлением воздушным транспортом Выдаётся лицам, прожившим в штате не менее двух лет !");
			    return 1;
	        }
	        if(PlayerInfo[giveplayerid][pFlyLic] > 10 && PlayerInfo[playerid][pAdmin] != 9)
	        {
            	format(strcmd, sizeof(strcmd), "   %s лишён Лицензии на Полёты на %d часов.", PlayerName(giveplayerid), PlayerInfo[giveplayerid][pFlyLic]-10);
	            SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
	        }
		    if(PlayerInfo[giveplayerid][pSTD] != IsNotBeenIll && PlayerInfo[playerid][pAdmin] != 9)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Игрок не может получить лицензию без мед. осмотра !");
				return 1;
			}
		    LicensePrice[giveplayerid] = 5000;//для экономики
	        if(GetPlayerMoneyH(giveplayerid) < LicensePrice[giveplayerid] &&
				PlayerInfo[giveplayerid][pBank] < LicensePrice[giveplayerid])
	        {
	            format(strcmd, sizeof(strcmd), "   Игрок не может оплатить лизенцию стоимостью $%d.", LicensePrice[giveplayerid]);
	            SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
	        }
			format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", PlayerName(giveplayerid), PlayerInfo[playerid][pMember]);
			mysql_query(ToBase); mysql_store_result();
			if(mysql_num_rows() > 0)
		 	{
	       		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выдавать лицензию человеку находящемуся в Чёрном Списке!");
				mysql_free_result();
				return 1;
			}
			mysql_free_result();

       		format(strcmd, sizeof(strcmd), "Bы предложили Лицензию на Полёты %s'у стоимостью $%d.", PlayerName(giveplayerid), LicensePrice[giveplayerid]);
       		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);

	        Offer[giveplayerid] = playerid;
	        MenuOperation[giveplayerid] = 33;
			new msgitem[88+24+10];
			format(msgitem, sizeof(msgitem), "%s \nпредложил вам лицензию на Полёты стоимостью $%d.\n\nНажмите Accept, чтобы принять.", PlayerName(playerid), LicensePrice[giveplayerid]);
	        ShowPlayerDialogEx(giveplayerid, GIVELIC_DIALOG, DIALOG_STYLE_MSGBOX, "Инструктор", msgitem, "Accept", "Cancel");
		}
		else if(!strcmp(tmp, "sailing", true))
		{
			tmp = strtok(cmdtext, idx);
			if(!strlen(tmp))
			{
			    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /give sailing [playerid/PartOfName]");
			    return 1;
			}
	        if(PlayerInfo[playerid][pRank] != 4 && PlayerInfo[playerid][pRank] < 7 && PlayerInfo[playerid][pLeader] != DoE && PlayerInfo[playerid][pAdmin] != 9)
	        {
		        SendClientMessage(playerid, COLOR_GREY, "   Вам нужен Ранг 4, чтобы выдавать эту лицензию !");
			    return 1;
	        }
			giveplayerid = ReturnUser(tmp);
		    if(giveplayerid == playerid && PlayerInfo[playerid][pAdmin] != 9)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выдавать лицензию самому себе !");
				return 1;
			}
		    if( !IsPlayerConnected(giveplayerid) )
			{
				format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid);
				SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
			}
			if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
				|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
				return 1;
			}
			if(gTakingLesson[giveplayerid] == 1)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Закончите урок, чтобы выдать лицензию !");
				return 1;
			}
	        if(PlayerInfo[giveplayerid][pBoatLic] == 1)
	        {
		        SendClientMessage(playerid, COLOR_GREY, "   Игрок уже имеет эту лицензию !");
			    return 1;
	        }
	        /*if(PlayerInfo[giveplayerid][pLevel] < 2 && PlayerInfo[playerid][pAdmin] != 9)
	        {
		        SendClientMessage(playerid, COLOR_GREY, "   Лицензия на право управлением водным транспортом Выдаётся лицам, прожившим в штате не менее двух лет !");
			    return 1;
	        }*/
	        /*if(PlayerInfo[giveplayerid][pBoatLic] > 10 && PlayerInfo[playerid][pAdmin] != 9)
	        {
            	format(strcmd, sizeof(strcmd), "   %s лишён Лицензии на Плавсредства на %d часов.", PlayerName(giveplayerid), PlayerInfo[giveplayerid][pBoatLic]-10);
	            SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
	        }*/
		    /*if(PlayerInfo[giveplayerid][pSTD] != IsNotBeenIll && PlayerInfo[giveplayerid][pLevel] > 1)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Игрок не может получить лицензию без мед. осмотра !");
				return 1;
			}*/
		    LicensePrice[giveplayerid] = 3000;//для экономики
	        if(	GetPlayerMoneyH(giveplayerid) < LicensePrice[giveplayerid] &&
				PlayerInfo[giveplayerid][pBank] < LicensePrice[giveplayerid])
	        {
	            format(strcmd, sizeof(strcmd), "   Игрок не может оплатить лизенцию стоимостью $%d.", LicensePrice[giveplayerid]);
	            SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
	        }
			format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", PlayerName(giveplayerid), PlayerInfo[playerid][pMember]);
			mysql_query(ToBase); mysql_store_result();
			if(mysql_num_rows() > 0)
		 	{
	       		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выдавать лицензию человеку находящемуся в Чёрном Списке!");
				mysql_free_result();
				return 1;
			}
			mysql_free_result();

            format(strcmd, sizeof(strcmd), "Bы предложили Лицензию на Плавсредства %s'у стоимостью $%d.", PlayerName(giveplayerid), LicensePrice[giveplayerid]);
      		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
	        Offer[giveplayerid] = playerid;
	        MenuOperation[giveplayerid] = 34;
	        new msgitem[94+24+10];
			format(msgitem, sizeof(msgitem), "%s \nпредложил вам лицензию на Плавсредства стоимостью $%d.\n\nНажмите Accept, чтобы принять.", PlayerName(playerid), LicensePrice[giveplayerid]);
	        ShowPlayerDialogEx(giveplayerid, GIVELIC_DIALOG, DIALOG_STYLE_MSGBOX, "Инструктор", msgitem, "Accept", "Cancel");
		}
		else if(!strcmp(tmp, "fishing", true))
		{
            tmp = strtok(cmdtext, idx);
			if(!strlen(tmp))
			{
			    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /give fishing [playerid/PartOfName]");
			    return 1;
			}
	        if(PlayerInfo[playerid][pRank] != 2 && PlayerInfo[playerid][pRank] < 7 && PlayerInfo[playerid][pLeader] != DoE)
	        {
		        SendClientMessage(playerid, COLOR_GREY, "   Вам нужен Ранг 2 или 7 и выше, чтобы выдавать эту лицензию !");
			    return 1;
	        }
			giveplayerid = ReturnUser(tmp);
		    if(giveplayerid == playerid && PlayerInfo[playerid][pAdmin] != 9)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выдавать лицензию самому себе !");
				return 1;
			}
		    if( !IsPlayerConnected(giveplayerid) )
			{
				format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
			}
			if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
				|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
				return 1;
			}
			if(gTakingLesson[giveplayerid] == 1)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Закончите урок, чтобы выдать лицензию !");
				return 1;
			}
	        if(PlayerInfo[giveplayerid][pFishLic] == 1)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Игрок уже имеет эту лицензию !");
				return 1;
			}
			if(PlayerInfo[giveplayerid][pLevel] < 2 && PlayerInfo[playerid][pAdmin] != 9)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Лицензия на Рыбную Ловлю выдаётся лицам, прожившим в штате не менее двух лет!");
				return 1;
			}
			LicensePrice[giveplayerid] = 2000;//для экономики
			if(GetPlayerMoneyH(giveplayerid) < LicensePrice[giveplayerid] &&
				PlayerInfo[giveplayerid][pBank] < LicensePrice[giveplayerid])
			{
	            format(strcmd, sizeof(strcmd), "   Игрок не может оплатить лизенцию стоимостью $%d.", LicensePrice[giveplayerid]);
	            SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
			}
			format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", PlayerName(giveplayerid), PlayerInfo[playerid][pMember]);
			mysql_query(ToBase); mysql_store_result();
			if(mysql_num_rows() > 0)
		 	{
	       		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выдавать лицензию человеку находящемуся в Чёрном Списке!");
				mysql_free_result();
				return 1;
			}
			mysql_free_result();

			format(strcmd, sizeof(strcmd), "Bы предложили Лицензию на Рыбную Ловлю %s'у стоимостью $%d.", PlayerName(giveplayerid), LicensePrice[giveplayerid]);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);

			Offer[giveplayerid] = playerid;
			MenuOperation[giveplayerid] = 35;
			new msgitem[94+24+10];
			format(msgitem, sizeof(msgitem), "%s \nпредложил вам лицензию на Рыбную Ловлю стоимостью $%d.\n\nНажмите Accept, чтобы принять.", PlayerName(playerid), LicensePrice[giveplayerid]);
			ShowPlayerDialogEx(giveplayerid, GIVELIC_DIALOG, DIALOG_STYLE_MSGBOX, "Инструктор", msgitem, "Accept", "Cancel");
		}
		else if(!strcmp(tmp, "weapons", true))
		{
            tmp = strtok(cmdtext, idx);
			if(!strlen(tmp))
			{
			    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /give weapons [playerid/PartOfName]");
			    return 1;
			}
	        if(PlayerInfo[playerid][pRank] < 9 && PlayerInfo[playerid][pLeader] != DoE && PlayerInfo[playerid][pAdmin] != 9)
	        {
		        SendClientMessage(playerid, COLOR_GREY, "   Вам нужен Ранг 9 и выше, чтобы выдавать эту лицензию !");
			    return 1;
	        }
			giveplayerid = ReturnUser(tmp);
		    if(giveplayerid == playerid && PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 9)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выдавать лицензию самому себе !");
				return 1;
			}
		    if( !IsPlayerConnected(giveplayerid) )
			{
				format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
			}
			if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
				|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
				return 1;
			}
			if(gTakingLesson[giveplayerid] == 1)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Закончите урок, чтобы выдать лицензию !");
				return 1;
			}
	        if(PlayerInfo[giveplayerid][pGunLic] == 1)
	        {
		        SendClientMessage(playerid, COLOR_GREY, "   Игрок уже имеет эту лицензию !");
			    return 1;
	        }
	        if(PlayerInfo[giveplayerid][pLevel] < 3 && PlayerInfo[playerid][pAdmin] != 9)
	        {
		        SendClientMessage(playerid, COLOR_GREY, "   Лицензия на ношение оружия Выдаётся лицам, прожившим в штате не менее трёх лет!");
			    return 1;
	        }
	        if(PlayerInfo[giveplayerid][pGunLic] > 10 && PlayerInfo[playerid][pAdmin] != 9)
	        {
            	format(strcmd, sizeof(strcmd), "   %s лишён лицензии на оружие на %d часов.", PlayerName(giveplayerid), PlayerInfo[giveplayerid][pGunLic]-10);
	            SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
	        }
		    if(PlayerInfo[giveplayerid][pSTD] != IsNotBeenIll && PlayerInfo[playerid][pAdmin] != 9)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Игрок не может получить лицензию без мед. осмотра !");
				return 1;
			}
		    LicensePrice[giveplayerid] = 7000;//для экономики
	        if(GetPlayerMoneyH(giveplayerid) < LicensePrice[giveplayerid] &&
				PlayerInfo[giveplayerid][pBank] < LicensePrice[giveplayerid])
	        {
	            format(strcmd, sizeof(strcmd), "   Игрок не может оплатить лизенцию стоимостью $%d.", LicensePrice[giveplayerid]);
	            SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
	        }
			format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", PlayerName(giveplayerid), PlayerInfo[playerid][pMember]);
			mysql_query(ToBase); mysql_store_result();
			if(mysql_num_rows() > 0)
		 	{
	       		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выдавать лицензию человеку находящемуся в Чёрном Списке!");
				mysql_free_result();
				return 1;
			}
			mysql_free_result();

       		format(strcmd, sizeof(strcmd), "Bы предложили Лицензию на Оружие %s'у стоимостью $%d.", PlayerName(giveplayerid), LicensePrice[giveplayerid]);
       		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);

	        Offer[giveplayerid] = playerid;
	        MenuOperation[giveplayerid] = 36;
	        new msgitem[88+24+10];
			format(msgitem, sizeof(msgitem), "%s \nпредложил вам лицензию на Оружие стоимостью $%d.\n\nНажмите Accept, чтобы принять.", PlayerName(playerid), LicensePrice[giveplayerid]);
	        ShowPlayerDialogEx(giveplayerid, GIVELIC_DIALOG, DIALOG_STYLE_MSGBOX, "Инструктор", msgitem, "Accept", "Cancel");
	    }
		//return 1;
	}
	else if(!strcmp(cmd, "/startlesson", true))
	{
		if(!IsAnInstructor(playerid))
  		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не Школьный Инструктор !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
		    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /startlesson [playerid/PartOfName] [Lesson(1-Car,2-Fly)");
		    return 1;
		}
		giveplayerid = ReturnUser(tmp);
		if(giveplayerid == playerid)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не можете сами себе начать урок !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
		    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /startlesson [playerid/PartOfName] [Lesson(1-Car,2-Fly)]");
		    return 1;
		}
		new Lesson = strval(tmp);
		if(Lesson < 0 && Lesson > 2)
		{
		    SendClientMessage(playerid, COLOR_GRAYWHITE, "   Тип экзамена не менее 1 и не более 2.");
		    return 1;
		}
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
		if(gTakingLesson[giveplayerid] > 0)
		{
		    SendClientMessage(playerid, COLOR_GREY, "  Урок уже начат!");
		    return 1;
		}
		if(Lesson == 1)
		{
	        if(PlayerInfo[giveplayerid][pCarLic] == 1)
	        {
            	format(strcmd, sizeof(strcmd), "   %s уже имеет Лицензию на Вождение.", PlayerName(giveplayerid));
	            SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
	        }
	        if(PlayerInfo[giveplayerid][pCarLic] > 10)
	        {
            	format(strcmd, sizeof(strcmd), "   %s лишён Лицензии на Вождение на %d часов.", PlayerName(giveplayerid), PlayerInfo[giveplayerid][pCarLic]-10);
	            SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
	        }
			SendPlayerUnQueue(giveplayerid);
		}
		else if(Lesson == 2)
		{
	        if(PlayerInfo[giveplayerid][pFlyLic] == 1)
	        {
            	format(strcmd, sizeof(strcmd), "   %s уже имеет Лицензию на Полёты.", PlayerName(giveplayerid));
	            SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
	        }
	        if(PlayerInfo[giveplayerid][pFlyLic] > 10)
	        {
            	format(strcmd, sizeof(strcmd), "   %s лишён Лицензии на Полёты на %d часов.", PlayerName(giveplayerid), PlayerInfo[giveplayerid][pCarLic]-10);
	            SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
	        }
		}
        gTakingLesson[giveplayerid] = Lesson;

        format(strcmd, sizeof(strcmd), "* Инструктор %s начал Урок с вами.", PlayerName(playerid));
        SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
        format(strcmd, sizeof(strcmd), "* Инструктор %s начал Урок с %s's. Тип экзамена: %d", PlayerName(playerid), PlayerName(giveplayerid), gTakingLesson[giveplayerid]);
        //SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		SendTeamMessage(DoE, COLOR_LIGHTBROWN, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/stoplesson", true))
	{
		if(!IsAnInstructor(playerid))
  		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не Школьный Инструктор !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
		    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /stoplesson [playerid/PartOfName]");
		    return 1;
		}
		giveplayerid = ReturnUser(tmp);
		if(giveplayerid == playerid)// && PlayerInfo[playerid][pAdmin] < 1
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете сами себе остановить урок !");
			return 1;
		}
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		/*if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}*/
		if(gTakingLesson[giveplayerid] == 0)
		{
            SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не начал Урок!");
            return 1;
        }
        //format(strcmd, sizeof(strcmd), "* Вы остановили Урок с %s's.", PlayerName(giveplayerid));
        //SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		StopDriveProgress(giveplayerid);
        format(strcmd, sizeof(strcmd), "* Инструктор %s остановил ваш урок.", PlayerName(playerid));
        SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
        format(strcmd, sizeof(strcmd), "* Инструктор %s остановил Урок у %s's.", PlayerName(playerid), PlayerName(giveplayerid));
		SendTeamMessage(DoE, COLOR_LIGHTBROWN, strcmd);
		//return 1;
	}
	//==========================================================================
	else if(!strcmp(cmd, "/spawnchange", true))
	{
		CMD_spawnchange(playerid);
		//return 1;
	}
    /*else if(!strcmp(cmd, "/votekick", true))
	{
	    if(gVoteKicked == MAX_PLAYERS-1)
	    {
	    	return 1;
	    }
		static gVote[MAX_PLAYERS][MAX_PLAYERS];
//если на сервере есть хоть 1 модератор, то запретить голосование
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];

			if( !IsPlayerConnectedEx(i) ) continue;
			if(PlayerInfo[i][pAdmin] == 3)
			{
				return 1;
			}
		}
	    if( !IsPlayerConnected(gVoteKicked) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", gVoteKicked);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
		 	IsKicked[gVoteKicked] = 0;
		 	for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				if( !IsPlayerConnectedEx(i) ) continue;
				gVote[i][gVoteKicked] = 0;//обнуляем для следующего голосования
				votecount[gVoteKicked] = 0;
			}
			gVoteKicked = MAX_PLAYERS-1;
			return 1;
		}
		if(gVote[playerid][gVoteKicked] == 1)
		{
			format(strcmd, sizeof(strcmd), "  Ты уже голосовал за кик этого игрока. Всего за него голосов %d из %d.", votecount[gVoteKicked], numplayers);
		 	SendClientMessage(playerid, COLOR_WHITE, strcmd);
		    return 1;
		}
		gVote[playerid][gVoteKicked] = 1;
		votecount[gVoteKicked] ++;
		format(strcmd, sizeof(strcmd), "CEPBEP: {800000}Голос %s[%d] принят. Итого за Kick %s[%d]: %d голосов (Kick будет при %d-х голосах).",
			PlayerName(playerid), playerid, PlayerName(gVoteKicked), gVoteKicked,
			votecount[gVoteKicked], floatround(numplayers/2));
		//SendClientMessage(playerid, COLOR_RED, strcmd);
		SendClientMessageToAll(COLOR_RED, strcmd);

		if(votecount[gVoteKicked] >= floatround(numplayers/2))
		{   //если проголосовало больше половины игроков
		 	IsKicked[gVoteKicked] = 1;

			format(strcmd, sizeof(strcmd), "CEPBEP: %s был кикнут, причина: votekick", PlayerName(gVoteKicked));
			Log(KICK,strcmd);
			new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
			format(strcmd, sizeof(strcmd), "{AFAFAF}[%d:%02d:%02d] {800000}%s", lH,lM,lS, strcmd);
			SendClientMessageToAll(COLOR_PINK,strcmd);

		 	for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				if( !IsPlayerConnectedEx(i) ) continue;
				gVote[i][gVoteKicked] = 0;//обнуляем для следующего голосования
				votecount[gVoteKicked] = 0;
			}
			gVoteKicked = MAX_PLAYERS-1;
		}
		//return 1;
	}*/
    /*else if(!strcmp(cmd, "/votemode", true))
	{
		static gVoteMode[MAX_PLAYERS];
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) ) continue;
			if(PlayerInfo[i][pAdmin] >= 1) return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_WHITE, "USE: /votemode [LifeSimulator=0, DM=1]");
			return 1;
		}
		if(strval(tmp) < 0 || strval(tmp) > 1)
		{
			SendClientMessage(playerid, COLOR_WHITE, "USE: /votemode [LifeSimulator=0, DM=1]");
			return 1;
		}
		giveplayerid = strval(tmp);
		if(gVoteMode[playerid] == 1)
		{
		 	SendClientMessage(playerid, COLOR_GREY, "  Ты уже голосовал.");
			format(strcmd, sizeof(strcmd), "CEPBEP: против DM %d голосов, за DM %d голосов.", votecount[0], votecount[1]);
			SendClientMessage(playerid, COLOR_RED, strcmd);
		    return 1;
		}
		gVoteMode[playerid] = 1;
		votecount[giveplayerid] ++;
		format(strcmd, sizeof(strcmd), "CEPBEP: {800000}Голос %s[%d] Принят. Итого: против DM %d голосов, за DM %d голосов.", PlayerName(playerid), playerid, votecount[0], votecount[1]);
		//SendClientMessage(playerid, COLOR_RED, strcmd);
		SendClientMessageToAll(COLOR_PINK, strcmd);
		//return 1;
	}*/
	//--------------------------------------------------------------------------
	else if(!strcmp(cmd, "/race", true))//для гонок STEP1
	{
		race_Menu(playerid);
		//return 1;
	}
	//==========================================================================
	else if(!strcmp(cmd, "/witness", true))//для свадьбы
	{
        if(	!IsPlayerInRangeOfPoint(playerid, 30.0, -1988.6638,1117.8837,54.4726) &&
			!IsPlayerInRangeOfPoint(playerid, 30.0, 2489.9905,918.4443,11.0234) &&
			!IsPlayerInRangeOfPoint(playerid, 30.0, -2482.3279,2406.4053,17.1094))
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы - не около Церкви. (USE: /gps)");//Church
            return 1;
        }
        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /witness [Playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
	    if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы не можете Предлагать самому себе!"); return 1; }
		format(strcmd, sizeof(strcmd), "* Вы просите %s быть вашим Свидетелем на Свадьбе.", PlayerName(giveplayerid));
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		new msgitem[84+24];
		format(msgitem, sizeof(msgitem), "* %s просит вас \nбыть его Свидетелем на Свадьбе.\n\nНамжите Accept, чтобы принять.", PlayerName(playerid));
		//SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
        MarryWitnessOffer[giveplayerid] = playerid;
		MenuOperation[giveplayerid] = 15;
		ShowPlayerDialogEx(giveplayerid, ACCEPT_DIALOG, DIALOG_STYLE_MSGBOX, "Жених", msgitem, "Accept", "Cancel");
		//return 1;
	}
	else if(!strcmp(cmd, "/propose", true))//для свадьбы
	{
	    if(PlayerInfo[playerid][pLevel] < 3)
		{
			SendClientMessage(playerid, COLOR_GREY, "   У вас недостаточный уровень, чтобы вступить в брак !");
		    return 1;
	    }
        if(GetPlayerMoneyH(playerid) < 100000)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Брак и издержки Приема $100000 !");
            return 1;
        }
        if(PlayerInfo[playerid][pMarried] > 0)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы уже Вступили в Брак !");
			return 1;
        }
        if(PlayerInfo[playerid][pHouse] == NOT_KEY)
        {
            SendClientMessage(playerid, COLOR_GREY, "   У вас нет Дома, чтобы позволить Жену / Мужа живущую где-нибудь !");
			return 1;
        }
        if(	!IsPlayerInRangeOfPoint(playerid, 30.0, -1988.6638,1117.8837,54.4726) &&
			!IsPlayerInRangeOfPoint(playerid, 30.0, 2489.9905,918.4443,11.0234) &&
			!IsPlayerInRangeOfPoint(playerid, 30.0, -2482.3279,2406.4053,17.1094))
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы - не около Церкви. (USE: /gps)");//Church
            return 1;
        }
	    if(PlayerInfo[playerid][pSex] != 1)
		{
			SendClientMessage(playerid, COLOR_GREY, "  Предложение может делать только особа мужского пола !");
		    return 1;
	    }
        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /propose [Playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
        if(PlayerInfo[giveplayerid][pMarried] > 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Этот игрок уже Вступил в брак!");
            return 1;
        }
	    if(PlayerInfo[giveplayerid][pLevel] < 3)
		{
			SendClientMessage(playerid, COLOR_GREY, "   У игрока недостаточный уровень, чтобы вступить в брак !");
		    return 1;
	    }
	    if(PlayerInfo[playerid][pSex] == PlayerInfo[giveplayerid][pSex])
		{
			SendClientMessage(playerid, COLOR_GREY, "  Предложение может делать только особа противоположного пола !");
		    return 1;
	    }
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
	    if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы не можете Предлагать самому себе!"); return 1; }
		format(strcmd, sizeof(strcmd), "* Вы сделали предложение %s.", PlayerName(giveplayerid));
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		new msgitem[64+24];
		format(msgitem, sizeof(msgitem), "* %s сделал Вам предложение.\n\nВыберите Accept, чтобы принять.", PlayerName(playerid));
		//SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
        ProposeOffer[giveplayerid] = playerid;
		MenuOperation[giveplayerid] = 16;
		ShowPlayerDialogEx(giveplayerid, ACCEPT_DIALOG, DIALOG_STYLE_MSGBOX, "Жених", msgitem, "Accept", "Cancel");
		//return 1;
	}
	else if(!strcmp(cmd, "/divorce", true))//для свадьбы
	{
        if(PlayerInfo[playerid][pMarried] < 1)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не Вступили в Брак !");
			return 1;
        }
        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /divorce [Playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
        if(PlayerInfo[giveplayerid][pMarried] < 1)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Игрок не в Браке !");
			return 1;
        }
	    if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы не можете Предлагать cамому себе!"); return 1; }
		if(!strcmp(PlayerInfo[playerid][pMarriedTo], PlayerName(giveplayerid), true))
		{
		    format(strcmd, sizeof(strcmd), "* Вы послали Бумаги на Развод %s.", PlayerName(giveplayerid));
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			new msgitem[80+24];
			format(msgitem, sizeof(msgitem), "* %s только что послал Вам Бумаги на Развод.\n\nВыберите Accept, чтобы принять.", PlayerName(playerid));
			//SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
	        DivorceOffer[giveplayerid] = playerid;
			MenuOperation[giveplayerid] = 17;
			ShowPlayerDialogEx(giveplayerid, ACCEPT_DIALOG, DIALOG_STYLE_MSGBOX, "Жених", msgitem, "Accept", "Cancel");
		}
		else SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не Вступил в Брак с Вами!");
		//return 1;
	}

	//==========================================================================
	//HOUSE COMMANDS
	//==========================================================================
	else if(!strcmp(cmd, "/rentroom", true))
	{
		if(PlayerInfo[playerid][pLevel] < 2)
		{
			SendClientMessage(playerid,  COLOR_GREY, "   Вам пока запрещена данная команда !");
			return 1;
		}
		new Float:oldposx, Float:oldposy, Float:oldposz;
		GetPlayerPos(playerid, oldposx, oldposy, oldposz);
		for(new h = 0; h < MAX_HOUSE; h++)
		{
			if(	IsPlayerInRangeOfPoint(playerid, 3.0, HouseInfo[h][hEntranceX], HouseInfo[h][hEntranceY], HouseInfo[h][hEntranceZ])
				//&& HouseInfo[h][hOwned] > 0
			  )
			{
				if(HouseInfo[h][hOwned] == 0) { SendClientMessage(playerid, COLOR_GREY, "   Этот дом не сдаётся ! Отсутствует владелец !"); break; }
				//if(PlayerInfo[playerid][pHouse] == h) { SendClientMessage(playerid, COLOR_GREY, "   Вы уже арендуете комнату в этом доме !"); break; }

				new ToBase[44+3];
				format(ToBase, sizeof(ToBase), "SELECT `ID` FROM `players` WHERE `House`=%d", h);
				mysql_query(ToBase); mysql_store_result();
			    if(mysql_num_rows() >= HouseInfo[h][hRooms])
				{
					mysql_free_result();
					SendClientMessage(playerid, COLOR_GREY, "   В этом доме заняты все комнаты !");
					return 1;
				}
				mysql_free_result();

				if(	PlayerInfo[playerid][pHouse] != NOT_KEY &&
					//!strcmp(PlayerName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true)
					PlayerInfo[playerid][pSQLID] == HouseInfo[h][hOwned]
				  )
				{
					//SendClientMessage(playerid, COLOR_GREY, "   Вы не можете арендовать сами у себя дом !"); // введите /sellhouse если хотите продать его.
					PlayerInfo[playerid][pHouse] = h;
					SendClientMessage(playerid, COLOR_GREY, "   Вы поменяли ключ на этот дом !");
					break;
				}
				if(HouseInfo[h][hRent] > 0)
				{
					if(GetPlayerMoneyH(playerid) > HouseInfo[h][hRent])
					{
						PlayerInfo[playerid][pHouse] = h;
						GivePlayerMoneyH(h, playerid, -HouseInfo[h][hRent]);
						HouseInfo[h][hTill] += HouseInfo[h][hRent];
						PlayerPlayMusic(playerid);

						PlayerInfo[playerid][pLocal] = h;
						SetPlayerVirtualWorldEx(playerid, h);
						SetPlayerInteriorEx(playerid, HouseInfo[h][hInt]);
						SetPlayerPosEx(playerid, HouseInfo[h][hExitX],HouseInfo[h][hExitY],HouseInfo[h][hExitZ], 0);
						GameTextForPlayerEx(playerid, "~w~Welcome Home~n~You can exit at any time by moving to this door and typing /exit", 5000, 3);
						SendClientMessage(playerid, COLOR_WHITE, "Поздравляем вы можете войти и выйти отсюда когда угодно.");
						SendClientMessage(playerid, COLOR_WHITE, "Введите /househelp для обзора справки по дому.");
						break;
					}
					else { SendClientMessage(playerid, COLOR_GREY, "   У вас нет столько наличных для этого !"); break; }
				}
				else { SendClientMessage(playerid, COLOR_GREY, "   Аренда этого дома прекращена !"); break; }
			}
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/unrent", true))
	{
		if(	PlayerInfo[playerid][pHouse] != NOT_KEY &&
			//!strcmp(PlayerName(playerid), HouseInfo[PlayerInfo[playerid][pHouse]][hOwner], true)
			PlayerInfo[playerid][pSQLID] == HouseInfo[PlayerInfo[playerid][pHouse]][hOwned]
		  )
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы владелец этого дома !");
			return 1;
		}
		PlayerInfo[playerid][pHouse] = NOT_KEY;
		SendClientMessage(playerid, COLOR_GREY, "   Теперь Вы бездомный.");
		//return 1;
	}
	//для ТВ
	else if(!strcmp(cmd, "/tvcam", true))
	{   //не доделано переключение с разных ракурсов для наблюдателя
        if(PlayerInfo[playerid][pMember] != SAN)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
		if(PlayerInfo[playerid][pRank] < 3)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть не нижн 3 Ранга!");
		    SendClientMessage(playerid, COLOR_GREY, "   Полученные деньги идут на счёт в кассу фракции!");
		    return 1;
		}
 		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp) && playerid != gTranslatorTV)
		{
			if(gTranslatorTV != -1)
			{
				//GivePlayerMoneyB(1, gTranslatorTV, WatchingTVCounter[gTranslatorTV]);
				FamilyInfo[SAN][fBank] += WatchingTVCounter[gTranslatorTV];
				WatchingTVCounter[gTranslatorTV] = 0;
			}
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /tvcam (0 = OFF)");
			gTranslatorTV = playerid;
			for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				if( !IsPlayerConnectedEx(i) ) continue;
				if(gWatchingTV[i] != -1 && i != playerid)
				{   //всех кто смотрит, переключить на нового игрока
					ReconOn(i, gTranslatorTV);
					format(strcmd, sizeof(strcmd), "~w~Switching ~n~to cam ~r~%d", gTranslatorTV);
					GameTextForPlayerEx(i, strcmd, 5000, 1);
					PlaySoundForPlayer(i, SOUND_RESTAURANT_TRAY_COLLISION);//1145
				}
			}
		}
		else if(strval(tmp) == 0 && playerid == gTranslatorTV)
		{
			//GivePlayerMoneyB(ffamily+PlayerInfo[i][pMember], gTranslatorTV, WatchingTVCounter[gTranslatorTV]);
			FamilyInfo[SAN][fBank] += WatchingTVCounter[gTranslatorTV];
			WatchingTVCounter[gTranslatorTV] = 0;

			for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				if( !IsPlayerConnectedEx(i) ) continue;
				if(gWatchingTV[i] != -1 && i != playerid)
				{
					TogglePlayerControllableEx(i, 1);
					ReconOff(i);
			        gWatchingTV[i] = -1;
					GameTextForPlayerEx(i, "~w~                TV~n~~r~                Off", 5000, 6);
					PlaySoundForPlayer(i, SOUND_RESTAURANT_TRAY_COLLISION);//1145
					IncreaseRank(gTranslatorTV, 1);
				}
			}
			gTranslatorTV = -1;
		}
		format(strcmd, sizeof(strcmd), "~w~Switching ~n~to cam ~r~%d", gTranslatorTV);
		GameTextForPlayerEx(playerid, strcmd, 5000, 1);
		//return 1;
	}
	//для ТВ
	else if(!strcmp(cmd, "/tv", true))
	{   //для записи в spectateid - ID игрока за которым вы наблюдаете
		new location = GetHouseLocation(playerid);
		if(gWatchingTV[playerid] == -1)
 		{//если игрок не смотрит ТВ
			if( location < 100)
			{
				if(HouseInfo[location][hTV] != 1)
				{
		        	GameTextForPlayerEx(playerid, "~r~This upgrade isn't installed", 5000, 1);
					SendClientMessage(playerid, COLOR_GREY, "   В этом месте нет ТВ.");
					//return 1;
				}
			}
			else if( (PlayerInfo[playerid][pJailed] > 0 && PlayerInfo[playerid][pJailed] != 10) ||
				(PlayerInfo[playerid][pJailed] == 0 && IsPlayerInArea(playerid, specialzone[2])) ||//военная база только нижний уровень)
				IsPlayerInRangeOfPoint(playerid, 8.0, 2222.0718,-1151.0822,1025.7969))
			{

			}
			else
			{

	        	GameTextForPlayerEx(playerid, "~r~This upgrade isn't installed", 5000, 1);
				SendClientMessage(playerid, COLOR_GREY, "   В этом месте нет ТВ.");
				//return 1;
			}
			giveplayerid = gTranslatorTV;
		    if( !IsPlayerConnected(giveplayerid) )
			{
				SendClientMessage(playerid, COLOR_GREY, "   На данный момент нет доступной трансляции ТВ !");
				return 1;
			}
		    if(playerid == giveplayerid)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы не можете транслировать и смотреть ТВ!");
				return 1;
			}
			gWatchingTV[playerid] = giveplayerid;
			//----------------------------------------------------------------------
			//TogglePlayerControllableEx(playerid, 0);
			ReconOn(playerid, giveplayerid);
			GameTextForPlayerEx(playerid, "~w~                TV~n~~r~                On", 5000, 6);
			PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		}
	    else
	    {
			//TogglePlayerControllableEx(playerid, 1);
			ReconOff(playerid);
	        gWatchingTV[playerid] = -1;
			GameTextForPlayerEx(playerid, "~w~                TV~n~~r~                Off", 5000, 6);
			PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		}
		//return 1;
	}

	else if(!strcmp(cmd, "/openderbi", true))
	{
		if(PlayerInfo[playerid][pAdmin] < 5)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
	    }
		if(gBloodBowl == 1)
		{
			gBloodBowl = 0;
			GameTextForPlayerEx(playerid, "~w~BloodBowl ~g~Open", 5000, 6);
			PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		}
		else
		{
			DerbiRand = 0;
			TotalDerby = 0;
			gDerbyStarted = 0;
			derbycountdown = 15;
			//derbycountdown = 0;
			KillTimer(gCountdownDerbyTimer); gCountdownDerbyTimer = -1;//и сразу убиваем

			for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				if( !IsPlayerConnectedEx(i) ) continue;
				if( !gInDerbyBloodBowl[i] ) continue;
				DisablePlayerRaceCheckpoint(i);

				SetPlayerVirtualWorldEx(i, 0);
			    SetPlayerInteriorEx(i, 0);
				PlayerInfo[i][pLocal] = FREEROAM;
				SetPlayerPosEx(i, -2119.5925,-443.8909,35.5313, 90.0);

				DerbyScore[i] = 0;
				PlayerInfo[i][pCarTime] = 0;
				gInDerbyBloodBowl[i] = 0;//опускаем флаг - игрок не в гонке
			}
			for(new v=0; v<sizeof(DerbyCar); v++)
			{
				SetVehicleToRespawnEx(playerid, DerbyCar[v]);
			}

			gBloodBowl = 1;
			GameTextForPlayerEx(playerid, "~w~BloodBowl ~r~Closed", 5000, 6);
			PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/openkickstart", true))//для KickStart
	{
		if(PlayerInfo[playerid][pAdmin] < 5)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
	    }
		if(gKickStartClosed == 1)
		{
			gKickStartClosed = 0;
			GameTextForPlayerEx(playerid, "~w~KickStart ~g~Open", 5000, 6);
			PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		}
		else
		{
			for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
			    if(i == playerid) continue;
				if(!IsPlayerConnectedEx(i)) continue;// || !gPlayerSpawned[i]
				if(!gInDerbyKickStart[i]) continue;
				gTextDrawHideCarTime[i] = true; OnPlayerTextDrawStateChange(playerid);
				TimeSecRide[i] = 0;
				gInDerbyKickStart[i] = 0;
				if(PickupScore[i] > 0) GivePlayerMoneyH(fkickstart, i, PickupScore[i]*50);
				PickupScore[i] = 0;
			}
			for(new v=0; v<sizeof(IntCar); v++)
			{
				SetVehicleToRespawnEx(playerid, IntCar[v]);
			}
			for(new i=0; i<GREEN_PACKAGE; i++)
		 	{
		  		if(EasyPickup[i] != -1)
		    	{
					DestroyPickupEx(EasyPickup[i]); EasyPickup[i] = -1;
				}
				if(i >= YELLOW_PACKAGE) continue;
		    	if(MediumPickup[i] != -1)
		    	{
					DestroyPickupEx(MediumPickup[i]); MediumPickup[i] = -1;
				}
				if(i >= RED_PACKAGE) continue;
		    	if(HardPickup[i] != -1)
		    	{
					DestroyPickupEx(HardPickup[i]); HardPickup[i] = -1;
				}
			}
			gKickStarted = 0;
			KickStartProgress = 0;
			//SendClientMessageToAll(COLOR_ORANGE, "Заезд {FF0000}Kick Start{FF6600} закончился.");
			SendAllAdminMessage(COLOR_ORANGE, "Заезд {FF0000}Kick Start{FF6600} закончился.", 1);

			gKickStartClosed = 1;
			GameTextForPlayerEx(playerid, "~w~KickStart ~r~Closed", 5000, 6);
			PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/opencasino", true))
	{
		if(PlayerInfo[playerid][pAdmin] != 8 && PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
	    }
		if(gCasino == 1)
		{
			gCasino = 0;
			GameTextForPlayerEx(playerid, "~w~Casino Door ~r~Closed", 5000, 6);
			PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		}
		else
		{
			gCasino = 1;
			GameTextForPlayerEx(playerid, "~w~Casino Door ~g~Open", 5000, 6);
			PlaySoundForPlayer(playerid, SOUND_RESTAURANT_TRAY_COLLISION);
		}
		//return 1;
	}
	//==========================================================================
	//GANGS COMMANDS
	//==========================================================================
	//для банд начало
	else if(!strcmp(cmd, "/gangs", true))///families
	{
        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			new AmountAchievedZones[TEAM_MAFIA+1];
	        for(new i = TEAM_GROVE; i <= TEAM_MAFIA; i++)
	        {   //сканируем все банды
				for(new j=0; j<MAX_TURFS; j++)//MAX_TURFS
				{   //сканируем все зоны
			        if(TurfInfo[j][zFamily] == FamilyInfo[i][NumberFamily])
			        {   //если зона принадлежит банде в которой находится игрок
						AmountAchievedZones[FamilyInfo[i][NumberFamily]] ++;
					}
				}
            	format(strcmd, sizeof(strcmd), "Gangs: %d | Name: %s | Leader: %s | Members: %d | Zones: %d | GangsBank: $%d",
					i, FamilyInfo[i][fName],FamilyInfo[i][fLeader],FamilyInfo[i][fMembers],
					AmountAchievedZones[FamilyInfo[i][NumberFamily]], FamilyInfo[i][fBank]);
            	SendClientMessage(playerid, FamilyInfo[i][fColor], strcmd);//для вывода сообщения разным цветом
	        }
	        return 1;
        }
        new family = strval(tmp);
        if(family < TEAM_GROVE || family > TEAM_MAFIA)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Номер Банды может быть от "#TEAM_GROVE" до "#TEAM_MAFIA" !");
			return 1;
		}
		//family -= 1;
		if(FamilyInfo[family][NumberFamily] == 0)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Этот № Gangs не Востребован пока !");//Этот FamilyNr не Требуется пока
		    return 1;
		}
		//чтобы вывести список членов банды онлайн
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
		    if( !IsPlayerConnectedEx(i) ) continue;
			if(PlayerInfo[i][pMember] == family)
		    {//сканируем всех членов данной банды
	            format(strcmd, sizeof(strcmd), "Gangs *%d* %s: %s[%d] | Rank: %d.",family, FamilyInfo[family][fName], PlayerName(i), i, PlayerInfo[i][pRank]);
	            SendClientMessage(playerid, FamilyInfo[family][fColor], strcmd);
		    }
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/clans", true))
	{
        tmp = strtok(cmdtext, idx);
        new found;
		if(!strlen(tmp))
		{
	        for(new i = 0; i < MAX_CLANS; i++)
	        {   //сканируем все банды
	        	if(GuildInfo[i][gID] == 0) continue;
            	format(strcmd, sizeof(strcmd), "Clans: %d[%d] | Name: %s | Leader: %s | Members: %d | Bank: $%d",
					GuildInfo[i][gID], i, GuildInfo[i][gDiscription], GuildInfo[i][gOwner], GuildInfo[i][gMembers], GuildInfo[i][gTill]);
            	SendClientMessage(playerid, FamilyInfo[i+1][fColor], strcmd);//для вывода сообщения разным цветом
            	found = 1;
	        }
	        if(!found) SendClientMessage(playerid, COLOR_GREY, "   Кланов не обнаружено!");//для вывода сообщения разным цветом
	        return 1;
        }
        new guild = strval(tmp);
        if(guild < 1 || guild > MAX_CLANS)//guildcounter)
		{
			format(strcmd, sizeof(strcmd), "   Номер Клана может быть от 1 до %d !", MAX_CLANS);//guildcounter);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		//if(GuildInfo[guild][NumberGuild] == 0)
		/*if(GuildInfo[guild][gID] == 0)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Этот № Клана не Востребован пока !");//Этот FamilyNr не Требуется пока
		    return 1;
		}*/
		//чтобы вывести список членов банды онлайн
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
		    if( !IsPlayerConnectedEx(i) ) continue;
			if(PlayerInfo[i][pTeam] == guild)
		    {//сканируем всех членов данной банды
	            format(strcmd, sizeof(strcmd), "Clans *%d* %s: %s[%d] | Rank: %d.",
					PlayerInfo[i][pTeam], GuildInfo[guild][gDiscription], PlayerName(i), i, PlayerInfo[i][pRank]);
	            SendClientMessage(playerid, FamilyInfo[guild+1][fColor], strcmd);
		    }
		}
		//return 1;
	}
	//==========================================================================
	//для отмытие денег начало
	else if(!strcmp(cmd, "/washmoney", true))
	{
        if(!IsAGangs(playerid))
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не член Банды !");
            return 1;
        }
		if(!strcmp(FamilyInfo[PlayerInfo[playerid][pMember]][fLeader], PlayerName(playerid), true))
        {
			tmp = strtok(cmdtext, idx);
			if(!strlen(tmp))
			{
				SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /washmoney [playerid/PartOfName]");
				return 1;
			}
			giveplayerid = ReturnUser(tmp);
		    if( !IsPlayerConnected(giveplayerid) )
			{
				format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
				return 1;
			}
		    if(giveplayerid == playerid)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы не можете предлогать самому себе !");
				return 1;
			}
			if(PlayerInfo[giveplayerid][pLeader] != LCN && PlayerInfo[giveplayerid][pLeader] != Yakuza)
			{   //&& PlayerInfo[playerid][pRank] >= 11
				SendClientMessage(playerid, COLOR_GREY, "   Данный игрок не является лидером семьи.");
				return 1;
			}
			if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
				|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
				return 1;
			}
		    format(strcmd, sizeof(strcmd), "* Вы предложили %s'у отмыть деньги из общей кассы банды.", PlayerName(giveplayerid));
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			new msgitem[87+24];
			format(msgitem, sizeof(msgitem), "%s предложил Вам отмыть деньги из общей кассы банды.\n\nНажмите Accept, чтобы принять.", PlayerName(playerid));
			//SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
			Offer[giveplayerid] = playerid;
			MenuOperation[giveplayerid] = 18;
			new TrafficManager[65];
			new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
			format(TrafficManager, sizeof(TrafficManager), "[%02d:%02d:%02d] Диспетчер", lH,lM,lS);
			ShowPlayerDialogEx(giveplayerid, ACCEPT_DIALOG, DIALOG_STYLE_MSGBOX, TrafficManager,msgitem, "Accept", "Cancel");
		}
		else SendClientMessage(playerid, COLOR_GREY, "   Вы не лидер Банды !");
		//return 1;
	}//для отмытие денег конец
 	else if(!strcmp(cmd, "/setfamilymoney", true))
	{
		if(PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
	        return 1;
	    }
        if(PlayerInfo[playerid][pMember] < DoT || PlayerInfo[playerid][pMember] > DoE)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не член Фракции !");
            return 1;
        }
        new family = PlayerInfo[playerid][pMember];
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setfamilymoney [amount]");
		    format(strcmd, sizeof(strcmd), "* В кассе вашей фракции $%d.", FamilyInfo[family][fBank]);//FamilyInfo[0][fMembers]
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			return 1;
		}
		new money = strval(tmp);
		FamilyInfo[family][fBank] = money;
		SaveFamiliesSQL(PlayerName(playerid));

		format(strcmd, sizeof(strcmd), "AdmCmd: %s set Family: %d Bank: $%d", PlayerName(playerid), family, money);
		Log(FAMILY,strcmd);
		SendAllAdminMessage(COLOR_RED, strcmd, 5);
		//return 1;
	}//для отмытие денег конец
 	else if(!strcmp(cmd, "/familymoney", true) || !strcmp(cmd, "/fm", true))
	{
        if(getdate() < 127)
        {
			format(strcmd, sizeof(strcmd), "* Команда заблокирована до %s.", getDate(127));//BizInfo[0][bDate]+7
			SendClientMessage(playerid, COLOR_RED, strcmd);
            return 1;
        }
        if(PlayerInfo[playerid][pMember] < DoT || PlayerInfo[playerid][pMember] > DoE)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не член Фракции !");
            return 1;
        }
        new family = PlayerInfo[playerid][pMember];
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /familymoney [сумма] [причина]");
		    format(strcmd, sizeof(strcmd), "* В кассе вашей фракции $%d.", FamilyInfo[family][fBank]);//FamilyInfo[0][fMembers]
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			SendClientMessage(playerid, COLOR_GREY, "   Для пополнения кассы фракции введите значение со знаком минус !");
			return 1;
		}
		new money = strval(tmp);

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /familymoney [сумма] [причина]");
		    format(strcmd, sizeof(strcmd), "* В кассе вашей фракции $%d.", FamilyInfo[family][fBank]);//FamilyInfo[0][fMembers]
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			SendClientMessage(playerid, COLOR_GREY, "   Для пополнения кассы фракции введите значение со знаком минус !");
			return 1;
		}
		if(PlayerInfo[playerid][pLeader] >= DoT)
        { //&& PlayerInfo[playerid][pRank] >= 11
			if(money >= 0)
	        {
	        	if(money < 1000)
		        {
					SendClientMessage(playerid, COLOR_GREY, "   Сумма не должна быть меньше $1000 !");
					return 1;
		      	}
	            if(FamilyInfo[family][fBank] < money)
	            { //|| FamilyInfo[family][fBank] < 0
				    format(strcmd, sizeof(strcmd), "* В кассе вашей фракции только $%d.", FamilyInfo[family][fBank]);//
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
					return 1;
	            }
				//FamilyInfo[0][fMembers] -= money;
				FamilyInfo[family][fBank] -= money;//new family = PlayerInfo[playerid][pMember];
				GivePlayerMoneyB(ffamily+PlayerInfo[playerid][pLeader], playerid, money);
			}
			else
			{
	            if(GetPlayerMoneyB(playerid) < (-1*money) && GetPlayerMoneyH(playerid) < (-1*money))
	            { //|| FamilyInfo[family][fBank] < 0
				    format(strcmd, sizeof(strcmd), "* У Вас нет этой суммы денег. В Кассе: $%d.", FamilyInfo[family][fBank]);//
					SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
					return 1;
	            }
				//FamilyInfo[0][fMembers] -= money;
				FamilyInfo[family][fBank] += (-1*money);//new family = PlayerInfo[playerid][pMember];
				if(GetPlayerMoneyB(playerid) >= (-1*money) ) GivePlayerMoneyB(ffamily+family, playerid, -(-1*money));
				else GivePlayerMoneyH(ffamily+family, playerid, -(-1*money));
			}
			SaveFamiliesSQL(PlayerName(playerid));

			format(strcmd, sizeof(strcmd), "%s[%d] снял с кассы $%d. Причина: %s", PlayerName(playerid), playerid, money, tmp);
			SendTeamMessage(PlayerInfo[playerid][pMember], COLOR_LIGHTBLUE, strcmd);

			format(strcmd, sizeof(strcmd), "AdmCmd: %s has withdrawed Family: %d Bank: $%d. reason: %s", PlayerName(playerid), family, money, tmp);
			Log(FAMILY,strcmd);
			SendAllAdminMessage(COLOR_RED, strcmd, 5);
		}
		else SendClientMessage(playerid, COLOR_GREY, "   Вы не лидер Фракции!");// или Ваш ранг ниже 11
		//return 1;
	}//для отмытие денег конец

 	else if(!strcmp(cmd, "/familyrank", true) || !strcmp(cmd, "/fr", true))
	{
        if(PlayerInfo[playerid][pLeader] < TEAM_GROVE || PlayerInfo[playerid][pLeader] > DoE)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не лидер Фракции !");
            return 1;
        }
        new family = PlayerInfo[playerid][pMember];
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /familyrank [max_rank]");
		    format(strcmd, sizeof(strcmd), "* Максимальный ранг в вашей фракции: %d.", FamilyInfo[family][fRank]);//FamilyInfo[0][fMembers]
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			return 1;
		}
		new max_rank = strval(tmp);
        if(max_rank < 3 || max_rank > 11)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Ранг не может быть меньше 3 и больше 11 !");
            return 1;
        }
		//FamilyInfo[0][fMembers] -= money;
		FamilyInfo[family][fRank] = max_rank;//new family = PlayerInfo[playerid][pMember];
		SaveFamiliesSQL(PlayerName(playerid));

		format(strcmd, sizeof(strcmd), "AdmCmd: %s set family %d rank: %d", PlayerName(playerid), family, max_rank);
		Log(ADMINLOG, strcmd);
		SendAllAdminMessage(COLOR_RED, strcmd, 5);
		//return 1;
	}//для отмытие денег конец
 	//==========================================================================


//-----------------------------------[HEAL]-------------------------------------------------------------------------
	else if(!strcmp(cmd, "/heal", true))
	{
		new location = GetHouseLocation(playerid);
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			if(HouseInfo[location][hHel] == 1)
			{
				//new Float:tempheal;
				//GetPlayerHealth(playerid, tempheal);
				if(LastHealth[playerid] < 250.0)
				{
					if(GetPVarInt(playerid, "gHeal") == 0)
					{
						if(LastHealth[playerid] < 100.0) SetPlayerHealthEx(playerid, 100.0);
						else if(LastHealth[playerid] > 100.0 && LastHealth[playerid] < 200.0) SetPlayerHealthEx(playerid, 200.0);
						else if(LastHealth[playerid] > 200.0 && LastHealth[playerid] < 250.0) SetPlayerHealthEx(playerid, 250.0);
						PlaySoundForPlayer(playerid, SOUND_PICKUP_STANDARD);
						format(strcmd, sizeof(strcmd), "  Bы были полностью вылечены.");
						SendClientMessage(playerid, COLOR_GREEN,strcmd);
						SetPVarInt(playerid, "gHeal", 1);
					}
					else SendClientMessage(playerid, COLOR_GREY, "   Вы можете только 1 раз воспользоваться аптечкой в доме.");
					return 1;
				}
				else SendClientMessage(playerid, COLOR_GREY, "   Вы итак полностью здоровы.");
			}
			else SendClientMessage(playerid, COLOR_GREY, "   B этом месте нет аптечки.");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /heal [playerid/PartOfName] [price]");
			return 1;
		}
		//------------------------------------------------------------------
		//для медиков
		if(PlayerInfo[playerid][pMember] != DoH)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
	        return 1;
	    }
	    if(gOnDuty[playerid] != 1)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Вы - не на Дежурстве !");
	        return 1;
	    }
		if( !IsInAmbulanceCar(nCarID[playerid]) && !IsAtHospital(playerid) )
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны находится в мед. транспорте или в Госпитале !");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(giveplayerid == playerid)
		{
			//SendClientMessage(playerid, COLOR_GREY, "   Вы не можете лечить самого себя!");
	        SetPlayerHealthEx(playerid, 100.0);
		    PlayerStoned[playerid] = 0;//вылечили от ломки
			if(PlayerInfo[giveplayerid][pSTD] != IsNotBeenIll)
			{
				if(PlayerInfo[playerid][pSTD] > 0 &&
					PlayerInfo[playerid][pSTD] < IsNotBeenIll &&
					LevelToEpidemics > 0) LevelToEpidemics --;

				PlayerInfo[playerid][pSTD] = IsNotBeenIll;
				SetPlayerDrunkLevel(playerid, 0);
				SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
				SendClientMessage(playerid, COLOR_LIGHTBLUE, "* Вы прошли полный курс лечения. Вам сделали прививку. Вы больше не будете болеть !");
			}
			return 1;
		}
		if(IsAtHospital(playerid) && !IsAtHospital(giveplayerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Пациент должен находиться в Госпитале !");
			return 1;
		}
		if( IsInAmbulanceCar(nCarID[playerid]) &&
			!IsPlayerInVehicle(giveplayerid, nCarID[playerid]))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Пациент должен находиться в Вашем транспорте !");
			return 1;
		}
		if(AFK_IdleTime[giveplayerid] > 1)
		{
       		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете полечить, т.к. человек находится в AFK !");
		    return 1;
		}
		//new Float:tempheal;
		GetPlayerHealth(giveplayerid, LastHealth[giveplayerid]);
		if(LastHealth[giveplayerid] >= 250.0)
		{
			SendClientMessage(playerid, COLOR_GREEN, "   Этот человек полностью здоров.");
			return 1;
		}

		new ToBase[74+24+2];
		format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", PlayerName(giveplayerid), PlayerInfo[playerid][pMember]);
		mysql_query(ToBase); mysql_store_result();
		if(mysql_num_rows() > 0)
	 	{
       		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете лечить человека находящегося в Чёрном Списке!");
			mysql_free_result();
			return 1;
		}
		mysql_free_result();

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
		    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /heal [playerid/PartOfName] [price]");
			return 1;
		}
		new moneys = strval(tmp);//для экономики
		if(moneys < 100 || moneys > 1000) { SendClientMessage(playerid, COLOR_GREY, "   Стоимость лечения не может быть менее 100$ или больше 1000$ !"); return 1; }

        if(PlayerInfo[giveplayerid][pLevel] > 1)
        {
	        if(GetPlayerMoneyH(giveplayerid) > moneys)//PlayerInfo[giveplayerid][pCash]
	        {
				GivePlayerMoneyH(ffamily+PlayerInfo[playerid][pMember], giveplayerid, -moneys);
			}
	        else if(PlayerInfo[giveplayerid][pBank] > moneys)
	        {
				//PlayerInfo[giveplayerid][pBank] -= cost;
				GivePlayerMoneyB(ffamily+PlayerInfo[playerid][pMember], giveplayerid, -moneys);
			}
	        else
	        {
	            SendClientMessage(playerid, COLOR_GREY, "   Пациент не может оплатить лечение !");
				return 1;
	        }
			//format(strcmd, sizeof(strcmd), "~y~You healed ~n~~w~%s~n~~g~$%d", PlayerName(giveplayerid), moneys);
			//GameTextForPlayerEx(playerid, strcmd, 5000, 1);
			//GivePlayerMoneyB(1, playerid, moneys);
			FamilyInfo[DoH][fBank] += moneys;
		}
		new Float: hp = 160.0;
	    if(PlayerInfo[giveplayerid][pPainPerk] > 0)
	    {
	        hp = 10.0*PlayerInfo[giveplayerid][pPainPerk] + hp;
			SetPlayerHealthEx(giveplayerid, hp);
	    }
	    else
	    {
	        //hp = 170.0;
	        SetPlayerHealthEx(giveplayerid, hp);
	    }
	    PlayerStoned[giveplayerid] = 0;//вылечили от ломки
	    if(PlayerInfo[giveplayerid][pLevel] > 1)
	    {
			format(strcmd, sizeof(strcmd), "* %s вылечил %s'а на %.0f пунктов за $%d. Уровень Эпидемии %d.",
			PlayerName(playerid), PlayerName(giveplayerid), hp, moneys, LevelToEpidemics);//3600
			ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
		}
		if(PlayerInfo[giveplayerid][pSTD] != IsNotBeenIll)
		{
			if(PlayerInfo[giveplayerid][pSTD] > 0 &&
				PlayerInfo[giveplayerid][pSTD] < IsNotBeenIll &&
				LevelToEpidemics > 0) LevelToEpidemics --;

			PlayerInfo[giveplayerid][pSTD] = IsNotBeenIll;
			SetPlayerDrunkLevel(giveplayerid, 0);
			SetPlayerSpecialAction(giveplayerid, SPECIAL_ACTION_NONE);
			format(strcmd, sizeof(strcmd), "* Вы прошли полный курс лечения у %s'а. Вам сделали прививку. Вы больше не будете болеть !", PlayerName(playerid));
			SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
			IncreaseRank(playerid, 5);
		}
		//бодрость
		if(gParameter5[playerid] == 1)//бодрость
		{   //если потребность достигла максимума
			PlayerInfo[playerid][pParam5] -= 1;
			if(PlayerInfo[playerid][pParam5] < operator5)
			{
				gParameter5[playerid] = 0;
				//ClearAnimations(playerid, 1);
				ApplyAnimation(playerid, "CARRY","CRRY_PRTIAL",4.1,0,0,0,0,1);
				//SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
			}
			if(PlayerInfo[playerid][pParam5] <= 0) PlayerInfo[playerid][pParam5] = 0;
			SetPlayerShowScale(playerid, 5, PlayerInfo[playerid][pParam5], operator5);
			format(strcmd, sizeof(strcmd), "* Вам вколол %s дозу адреналина !", PlayerName(playerid));
			SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);

			IncreaseRank(playerid, 5);
		}
		//return 1;
	}

	else if(!strcmp(cmd, "/invite", true))
	{
		if(	!(PlayerInfo[playerid][pLeader] >= TEAM_GROVE) &&
			!(PlayerInfo[playerid][pMember] >= TEAM_GROVE && PlayerInfo[playerid][pRank] >= 11) &&// && PlayerInfo[playerid][pMember] != DoD
			!(PlayerInfo[playerid][pMember] == DoD && PlayerInfo[playerid][pRank] == 6) &&
			!(PlayerInfo[playerid][pMember] == DoJ && PlayerInfo[playerid][pRank] == 6)
		  )
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);//Возвращает аргумент после пробела
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /invite [playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
  		if(giveplayerid == playerid)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете пригласить самого себя !");
			return 1;
		}
        if(PlayerInfo[giveplayerid][pLevel] < 2)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы Не Можете пригласить, т.к. игрок прожил в штате меньше 2-х лет !");
			return 1;
        }
		/*if(	PlayerInfo[giveplayerid][pRespect] < 14 &&
			PlayerInfo[playerid][pMember] >= DoT && PlayerInfo[playerid][pMember] != DoD)
		{//т.е. надо пройти обучение там даётся 14 очков
			SendClientMessage(playerid, COLOR_GREY, "   Вы Не Можете пригласить, т.к. у игрока менее 14 очков уважения!");
			return 1;
		}*/
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
        /*if(IsAGangs(giveplayerid))
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы Не Можете пригласить его, т.к. игрок находится в Банде !"); return 1;
        }*/
		if(PlayerInfo[giveplayerid][pMember] != 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы Не Можете пригласить его, т.к. игрок находится в Организации !");
			return 1;
		}
        if(PlayerInfo[giveplayerid][pJob] != 0 || GettingJob[giveplayerid] > 0)
        {   //если игрок имеет работу или устраивается счас на неё
            SendClientMessage(playerid, COLOR_GREY, "   Вы Не Можете пригласить его, т.к. игрок имеет Работу или устраивается !");
			return 1;
        }
		if(	PlayerInfo[giveplayerid][pSTD] != IsNotBeenIll &&
			!(PlayerInfo[playerid][pMember] >= TEAM_GROVE && PlayerInfo[playerid][pMember] <= TEAM_MAFIA) &&
			PlayerInfo[playerid][pMember] != LCN && PlayerInfo[playerid][pMember] != Yakuza &&
			PlayerInfo[playerid][pMember] != Hitman)
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы Не Можете пригласить его, т.к. игрок не прошёл мед.осмотр !");
			return 1;
		}
        if(IsACop(playerid) && PlayerInfo[giveplayerid][pCrimes] > CriminalLevel &&
        	!(PlayerInfo[playerid][pMember] >= TEAM_GROVE && PlayerInfo[playerid][pMember] <= TEAM_MAFIA) &&
			PlayerInfo[playerid][pMember] != LCN && PlayerInfo[playerid][pMember] != Yakuza &&
			PlayerInfo[playerid][pMember] != Hitman)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы Не Можете пригласить, т.к. игрок имеет большое кол-во преступлений !");
			return 1;
        }
        /*if(IsACop(playerid) && PlayerInfo[giveplayerid][pArrested] > 40)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы Не Можете пригласить, т.к. игрок имеет большое кол-во судимостей !");
			return 1;
        }*/
		if(PlayerInfo[giveplayerid][pJailed] > 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы Не Можете пригласить, т.к. игрок Арестован !");
			return 1;
        }
	    if(WantedLevel[giveplayerid] != 0)
	    {   //если игрок гражданский  и не состоит ни в какой организации и банде
		    SendClientMessage(playerid, COLOR_GREY, "   Вы Не Можете пригласить, т.к. игрок в Розыске!");//Не Гражданский или / в Розыске / Меняет Команду / или уже Член Семьи.
		    return 1;
		}
        if(PlayerInfo[giveplayerid][pMuted] > GetTickCount())
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы Не Можете пригласить, т.к. игрок заглушен !");
			return 1;
        }
		if(gParameter2[giveplayerid] == 1)
		{
			SendClientMessage(playerid, COLOR_GREY, "    В отчаянии игрок не может вступить в Организацию !");
			SendClientMessage(playerid, COLOR_GREY, "    Ему необходимо развлечься: посетить клубы и потанцевать !");
			return 1;
		}
        if(	PlayerInfo[giveplayerid][pProfSkill] != 0 &&
			getdate() < PlayerInfo[giveplayerid][pProfSkill] && PlayerInfo[giveplayerid][pAccount] == 0)
        {//getdate() >= PlayerInfo[giveplayerid][pProfSkill] - может вступить
			format(strcmd, sizeof(strcmd), "   Этот игрок не может вступить в Организацию до %s[%d]!", getDate(PlayerInfo[giveplayerid][pProfSkill]), PlayerInfo[giveplayerid][pProfSkill]);
            SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
        }
		new family = PlayerInfo[playerid][pMember];
		Offer[giveplayerid] = playerid;
		SelectCharID[giveplayerid] = PlayerInfo[playerid][pMember];
		format(strcmd, sizeof(strcmd), "   Bы отправили %s предложение о присоединении к %s.", PlayerName(giveplayerid), GetFamilyName(family));
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		new msgitem[89+MAX_PLAYER_NAME+36];
		format(msgitem, sizeof(msgitem), "Bы имеете приглашение от Лидера %s \nприсоединиться к %s. \nНажмите OK, если согласны.", PlayerName(playerid), GetFamilyName(family));
		//SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
		ShowPlayerDialogEx(giveplayerid, INVITE_DIALOG, DIALOG_STYLE_MSGBOX, "Invite", msgitem, "OK", "Cancel");
		//return 1;
	}
	else if(!strcmp(cmd, "/uninvite", true))
	{
		if(	PlayerInfo[playerid][pAdmin] != 5 && PlayerInfo[playerid][pAdmin] != 9 &&
			PlayerInfo[playerid][pLeader] < TEAM_GROVE &&
			!(PlayerInfo[playerid][pMember] >= TEAM_GROVE && PlayerInfo[playerid][pRank] >= 11) &&// && PlayerInfo[playerid][pMember] != DoD
			!(PlayerInfo[playerid][pMember] == DoD && PlayerInfo[playerid][pRank] == 6) &&
			!(PlayerInfo[playerid][pMember] == DoJ && PlayerInfo[playerid][pRank] == 6)
		  )//если вы лидер
 		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /uninvite [playerid/PartOfName]");
			return 1;
		}
		new playername[MAX_PLAYER_NAME];

		giveplayerid = ReturnUser(tmp);
		//if(giveplayerid == playerid && PlayerInfo[playerid][pAdmin] < 5)
		//{ SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выгнать самого себя!"); return 1; }
		//new member;
		new family = PlayerInfo[playerid][pMember];
	    if( !IsPlayerConnected(giveplayerid) && giveplayerid != playerid)
	    {   //если уволняется неиграющий
			strmid(playername, tmp, 0, strlen(tmp), MAX_PLAYER_NAME);
			//mysql_real_escape_string(playername, playername);

			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не присоединился к игре !");
			if(CheckExistPlayer(playerid, playername) == 0)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Это имя не зарегистрировано или указано не верно !");
				return 1;
			}
			new ToBase[52+MAX_PLAYER_NAME];
			format(ToBase, sizeof(ToBase), "SELECT * FROM `players` WHERE `Name` = '%s' LIMIT 1", playername);
			mysql_query(ToBase); mysql_store_result();

			if(mysql_num_rows() > 0)
			{
	    		giveplayerid = MAX_PLAYERS-2;
				if(mysql_retrieve_row()) OnPlayerLoadParameters(giveplayerid, playername);
			}
			mysql_free_result();

		    if(PlayerInfo[giveplayerid][pMember] == 0)
		    {
		    	SendClientMessage(playerid, COLOR_GREY, "   Этот игрок является гражданским !");
				return 1;
			}
		    if(	PlayerInfo[giveplayerid][pMember] != PlayerInfo[playerid][pMember] &&
				PlayerInfo[playerid][pAdmin] != 5 &&
				PlayerInfo[playerid][pAdmin] != 9)
		    {// && PlayerInfo[playerid][pLeader] != DoJ
		    	SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не является членом вашей организации !");
				return 1;
			}
			//member = PlayerInfo[giveplayerid][pMember];
			UninvitePlayerid(playerid, giveplayerid, playername);

			OnPlayerSaveParameters(giveplayerid, playername);
			OnPlayerInit(giveplayerid);
			format(strcmd, sizeof(strcmd), "   Bы выкинули %s'а из Организации.", playername);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		}//not connected
		else if(IsPlayerConnected(giveplayerid))
		{	//new playername[MAX_PLAYER_NAME];
			strmid(playername, PlayerName(giveplayerid), 0, strlen(PlayerName(giveplayerid)), MAX_PLAYER_NAME);
		    if(PlayerInfo[giveplayerid][pMember] == 0)
		    {
		    	SendClientMessage(playerid, COLOR_GREY, "   Этот игрок является гражданским !");
				return 1;
			}
		    if(	PlayerInfo[giveplayerid][pMember] != PlayerInfo[playerid][pMember] &&
				PlayerInfo[playerid][pAdmin] != 5 &&
				PlayerInfo[playerid][pAdmin] != 9)
		    {// && PlayerInfo[playerid][pLeader] != DoJ
		    	SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не является членом вашей организации !");
				return 1;
			}
			if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
				|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
				return 1;
			}
		    if(PlayerTied[giveplayerid] > 0)
	    	{
	        	SendClientMessage(playerid, COLOR_GREY, "   Этот игрок Связан !");
	        	return 1;
	    	}
			if(GetPVarInt(giveplayerid, "gShowDialog") != -1)
			{
				SendClientMessage(playerid, COLOR_GREY, "   У игрока открыто диалоговое окно!");
				SendClientMessage(playerid, COLOR_GREY, "   Подождите когда игрок закроет Диалоговое окно !");
				return 1;
			}
			if(family >= TEAM_GROVE && family <= TEAM_MAFIA)
			{
				for(new j=0; j<MAX_TURFS; j++)//MAX_TURFS
				{   //сканируем все зоны
					if(!IsPlayerInRegion(playerid, j) || gPlayerSpawned[playerid] == 0) continue;
				   //если игрок находится в какой то зоне j
			        if(	PlayerInfo[playerid][pMember] != TurfInfo[j][zFamily] ||
			            //если зона принадлежит вам //и счётчик убийств на зоне
						taketurfbackcount[j] != 0) continue;
					if(TurfInfo[j][zFlash] == 1)
					{
						SendClientMessage(playerid, COLOR_GREY, "   Вы Не можете уволить, т.к. атакована зона !");
					    return 1;
					}
				}
	    	}
			//member = PlayerInfo[giveplayerid][pMember];
			format(strcmd, sizeof(strcmd), "* Вы были выкинуты из Организации Лидером %s. Вы теперь снова Гражданский.", PlayerName(playerid));
			SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);

			UninvitePlayerid(playerid, giveplayerid, PlayerName(giveplayerid));

			format(strcmd, sizeof(strcmd), "   Bы выкинули %s'а из Организации.", PlayerName(giveplayerid));
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		}
		//format(strcmd, sizeof(strcmd), "AdmCmd: %s has uninvited %s's from Faction %d.", PlayerName(playerid), playername, member);
		//Log(INVITE,strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/ranks", true))
	{
		if(PlayerInfo[playerid][pMember] >= TEAM_GROVE && PlayerInfo[playerid][pMember] <= DoE)
		{
			ShowPlayersRanks(playerid);
		}
		else SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		//return 1;
	}
	else if(!strcmp(cmd, "/giverank", true))
	{
		if(  PlayerInfo[playerid][pLeader] < TEAM_GROVE && PlayerInfo[playerid][pAdmin] < 5 &&
			!(PlayerInfo[playerid][pMember] >= TEAM_GROVE && PlayerInfo[playerid][pRank] >= 11 && PlayerInfo[playerid][pMember] != DoD) &&
			!(PlayerInfo[playerid][pMember] == DoD && PlayerInfo[playerid][pRank] == 6)
		  )
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду(только для лидеров)!");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /giverank [playerid/PartOfName] [Number(1-12)]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		if( giveplayerid == playerid && PlayerInfo[playerid][pLeader] == 0
			&& PlayerInfo[playerid][pAdmin] != 9)
		{
	    	SendClientMessage(playerid, COLOR_GREY, "   Вы не можете присвоить Ранг самому себе !");
			return 1;
		}
	    if( !IsPlayerConnected(giveplayerid) )
	    {
	    	SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не присоединился к игре !");
			return 1;
		}
	    if(PlayerInfo[giveplayerid][pMember] != PlayerInfo[playerid][pMember]
			&& PlayerInfo[playerid][pAdmin] < 5)
	    {
	    	SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не является членом вашей организации !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /giverank [playerid/PartOfName] [Number(1-12)]");
			return 1;
		}
		new level = strval(tmp);
		if(level < 0 || level > 12) { SendClientMessage(playerid, COLOR_GREY, "   Недопустимо значение менее 0, или более 12!"); return 1; }
    	if(PlayerInfo[giveplayerid][pSTD] >= 1 && PlayerInfo[giveplayerid][pSTD] <= 10)
    	{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете, воспользоваться этой командой, т.к. игрок болен !");
			return 1;
		}
		/*if(level > PlayerInfo[playerid][pRank] && PlayerInfo[playerid][pLeader] == 0 && PlayerInfo[playerid][pAdmin] < 6)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете присвоить Ранг выше своего !");
			return 1;
		}*/

		/*if(	PlayerInfo[giveplayerid][pLeader] == 0 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
			if(3 <= level < 5 && PlayerInfo[giveplayerid][pProfSkill] < 50)
			{ SendClientMessage(playerid, COLOR_GREY, "* Этот человек не может занимать должности свыше 3 ранга."); return 1; }
			if(5 <= level < 8 && PlayerInfo[giveplayerid][pProfSkill] < 100)
			{ SendClientMessage(playerid, COLOR_YELLOW, "* Этот человек не может занимать должности с 5 ранга."); return 1; }
			if(8 <= level < 11 && PlayerInfo[giveplayerid][pProfSkill] < 200)
			{ SendClientMessage(playerid, COLOR_YELLOW, "* Этот человек не может занимать руководящие должности подразделений."); return 1;}//8-10
			if(level >= 11 && PlayerInfo[giveplayerid][pProfSkill] < 400)
			{ SendClientMessage(playerid, COLOR_YELLOW, "* Этот человек не может занимать руководящую должность фракции."); return 1; }//11-12
		}*/

		PlayerInfo[giveplayerid][pRank] = level;
		format(strcmd, sizeof(strcmd), "   Bам присвоен Ранг %d Лидером %s", level, PlayerName(playerid));
		SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
		format(strcmd, sizeof(strcmd), "   Bы дали %s Ранг %d.", PlayerName(giveplayerid), level);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		//return 1;
	}
	else if(!strcmp(cmd, "/spawn", true))
	{
		if( !IsAGangs(playerid) )
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
		new family = PlayerInfo[playerid][pMember];
		for(new j=0; j<MAX_TURFS; j++)//для зон банд 132 MAX_TURFS
		{
            if(!IsPlayerInRegion(playerid, j) || gPlayerSpawned[playerid] == 0) continue;
			if(TurfInfo[j][zFamily] != PlayerInfo[playerid][pMember])
			{	//если игрок находится не в своей зоне
				SendClientMessage(playerid, COLOR_GREY, "   Вы Не можете установить место возраждения в чужой зоне !");
			    return 1;
		    }
			if(TurfInfo[j][zFlash] == 1)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы Не можете установить место возраждения, т.к. зона атакована !");
				return 1;
		    }
	    	if(PlayerCuffed[playerid] < MAX_PLAYERS-1)
		    {
	            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете установить место возраждения когда у вас надеты наручники !");
				return 1;
		    }
	        if(PlayerTied[playerid] > 0)
	        {
	            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете установить место возраждения когда связаны !");
		        return 1;
	        }
    		GetPlayerPos(playerid, FamilyInfo[family][fSpawns][0],FamilyInfo[family][fSpawns][1],FamilyInfo[family][fSpawns][2]);
    		GetPlayerFacingAngle(playerid, FamilyInfo[family][fSpawns][3]);
		    FamilyInfo[family][fInterior] = PlayerInfo[playerid][pInt];
		    FamilyInfo[family][fWorld] = PlayerInfo[playerid][pVirtual];
		    FamilyInfo[family][fLocal] = PlayerInfo[playerid][pLocal];
		    //SaveFamiliesSQL();//очень часто используют
		    SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Вы отредактировали место появления вашей Банды !");
 		    return 1;
		}
		SendClientMessage(playerid, COLOR_GREY, "   Вы Не можете установить место возраждения в этом месте !");
		//return 1;
	}
	//==========================================================================
	//COP COMMANDS
	//==========================================================================
    /*else if(!strcmp(cmdtext, "/equip", true))
    {
		if(PlayerInfo[playerid][pMember] != DoT)// && PlayerInfo[playerid][pAdmin] != 9
		{
			SendClientMessage(playerid, COLOR_GREY, "   You are not a Road Policemen San-Andreas !");
			return 1;
		}
        if(GetPVarInt(playerid, "Equipped") == 0)
        {
          	//if(GetPVarInt(playerid, "Equipped") != 0) return SendClientMessage(playerid, COLOR_INTERFACE_BODY, "Вы уже оснащены!");
	        if(	!(GetPlayerSkin(playerid) >= 265 && GetPlayerSkin(playerid) <= 266) &&
				!(GetPlayerSkin(playerid) >= 280 && GetPlayerSkin(playerid) <= 282)) return SendClientMessage(playerid, COLOR_GREY, "Эта команда пригодна только для служителей закона(скин 265-266,280-282).");
	        //SetPlayerAttachedObjectEx(playerid, 1, 19142, Spine, 0.0709,0.038,0.0, 0.0,0.0,0.0, 1.14,1.11,1.07);//Броник
	        SetPlayerAttachedObjectEx(playerid, 1, 19142, Spine, 0.0649,0.0329,0.0140, 0.00,-2.59,0.00, 1.03,1.14,1.06);//Броник
	        SetPlayerAttachedObjectEx(playerid, 2, 19141, Head, 0.1009,0.006,0.0, 0.0,0.0,0.0, 1.31,0.98,1.11);//Шлем
	        SetPlayerAttachedObjectEx(playerid, TAZER_SLOT, 18642, Left_thigh, 0.1,0.0,-0.11, 0.0,-90.0,90.0);//Tazer на поясе
	        SetPlayerAttachedObjectEx(playerid, 4, 18637, Left_forearm, 0.35,0.0,0.0, 0.0,0.0,180.0);//Щит

	        GivePlayerWeaponEx(playerid, 3, 1);//дубинка
	        SetPlayerArmourEx(playerid, 100.0);//броня
	        SetPVarInt(playerid, "Equipped", 1);
	        SendClientMessage(playerid, COLOR_LIGHTBLUE, "Вы надели обмундирование!");
		}
		else
		{
	        //if(GetPVarInt(playerid, "Equipped") != 1) return SendClientMessage(playerid, COLOR_INTERFACE_BODY, "Вы больше неоснащенны!");
	        new Float:ap;
	        GetPlayerArmour(playerid, ap);
	        if(ap > 0)
	        {
	            RemovePlayerAttachedObject(playerid, 1);
	            SetPlayerArmourEx(playerid, 0.0);
	        }
	        RemovePlayerAttachedObject(playerid, 2);
	        RemovePlayerAttachedObject(playerid, TAZER_SLOT);
	        RemovePlayerAttachedObject(playerid, 4);
	        new data_weapon[13][2];
	        for (new i; i < 13; i++)
	        {
	            GetPlayerWeaponData(playerid, i, data_weapon[i][0], data_weapon[i][1]);
	        }
	        ResetPlayerWeaponsEx(playerid);
	        for (new i; i < 13; i++)
	        {
	            if(i == 1) continue;
	            GivePlayerWeaponEx(playerid, data_weapon[i][0], data_weapon[i][1]);
	        }
	        SetPVarInt(playerid, "Equipped", 0);
	        SendClientMessage(playerid, COLOR_LIGHTBLUE, "Вы сняли обмундирование.");
		}
        return 1;
    }*/
	else if(!strcmp(cmd, "/repairroad", true) || !strcmp(cmd, "/rr", true))//для ремонтников
	{   //32
	    if( PlayerInfo[playerid][pAdmin] < 5 )//PlayerInfo[playerid][pJob] != ROADWORKER &&
			//|| (PlayerInfo[playerid][pJob] == ROADWORKER && PlayerInfo[playerid][pRoadSkill] < 400))
	    {
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
	        return 1;
	    }
        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /repairroad (0 = OFF)");//[number radar 1-32]
			return 1;
		}
		new oRoadblock = strval(tmp);
		if(oRoadblock == 0)
		{
			for(new ir=0; ir<MAX_RADARS; ir++)
			{
				DestroyObjectEx(pRoadblock[ir], 13);
				RepairRoadPlayerID[ir] = MAX_PLAYERS-1;
			}
			GameTextForPlayerEx(playerid, "~g~All RepairedRoadblock deployed successfully", 5000, 5);
		}
		else
		{
			if(PlayerInfo[playerid][pAdmin] >= 9)
			{
				DestroyObjectEx(oRoadblock, 14);
				format(strcmd, sizeof(strcmd), "~w~Object ~y~%d ~n~~g~Deployed successfully", oRoadblock);//~n~
				GameTextForPlayerEx(playerid, strcmd, 5000, 5);
			}
		}
		//return 1;
	}

	else if(!strcmp(cmd, "/destroystrip", true) || !strcmp(cmd, "/dst", true))
	{
	    if((!IsACop(playerid) && PlayerInfo[playerid][pAdmin] < 5) ||
			(IsACop(playerid) && PlayerInfo[playerid][pRank] < 11))
	    {
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
	        return 1;
	    }
        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /destroystrip [0] (0 = ALL)");
			return 1;
		}
		new oStinger = strval(tmp);
		if(oStinger == 0)
		{
		    for(new st = 0; st < sizeof(SpikeInfo); st++)
		  	{
		  	    if(SpikeInfo[st][sCreated] == 1)
		  	    {
		  	        SpikeInfo[st][sCreated] = 0;
		            SpikeInfo[st][sX] = 0.0;
		            SpikeInfo[st][sY] = 0.0;
		            SpikeInfo[st][sZ] = 0.0;
		            DestroyObjectEx(SpikeInfo[st][sObject], 17);
		  	    }
			}
			GameTextForPlayerEx(playerid, "~g~All RoadStinger deployed successfully", 5000, 5);
			return 1;
		}
		//return 1;
	}
 	else if(!strcmp(cmd, "/frisk", true))
    {
       	if(IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Нельзя обыскивать из транспортного средства!");
			return 1;
		}
		if(	PlayerInfo[playerid][pMember] != DoT && PlayerInfo[playerid][pMember] != FBI &&
			PlayerInfo[playerid][pMember] != DoJ)
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        /*if(	PlayerInfo[playerid][pMember] == FBI
			&& PlayerInfo[playerid][pRank] != 9
			&& PlayerInfo[playerid][pRank] != 12)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 9,12 Ранга !");
		    return 1;
		}*/
        if(PlayerInfo[playerid][pMember] == DoJ
			&& PlayerInfo[playerid][pRank] != 1
			&& PlayerInfo[playerid][pRank] != 5
			&& PlayerInfo[playerid][pRank] != 6)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 1,5,6 Ранга !");
		    return 1;
		}
        if(gOnDuty[playerid] != 1)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 1;
		}
        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /frisk [playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы не можете Обыскать самого себя !"); return 1; }
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
		/*if(PlayerInfo[giveplayerid][pGunLic] != 1 && !gRealWar)
		{
			SendClientMessage(playerid, COLOR_GREY, "   У игрока отсутствует лицензия на оружие !");
			return 1;
		}*/

		if(	!IsPlayerInAnyVehicle(giveplayerid) && PlayerTazed[giveplayerid] > 0 && FollowBy[giveplayerid] != MAX_PLAYERS-1 &&
			PlayerCuffed[giveplayerid] == MAX_PLAYERS-1 && PlayerTied[giveplayerid] == 0)
		{
			//LoopingAnim(playerid, "PED", "CLIMB_idle", 4.2, 1, 0, 0, 0, 0);
			SetPlayerSpecialAction(giveplayerid, SPECIAL_ACTION_HANDSUP);
			//OnePlayAnim(playerid, "GHANDS", "gsign1", 4.0,1,1,1,1,1);
		}

		new text1[149];//9+ 4*(3+32)
		 //+ 16 + 12+10 + 16 + 16 + 38+24
	    new text0[64];//25+10+10
        format(text0, sizeof(text0), "| Money: $%d | Bank: $%d", PlayerInfo[giveplayerid][pCash], PlayerInfo[giveplayerid][pBank]);
		//------------------------------------------------------
		new slot_weapons[12]; new ammo; new gun2[32]; new gun3[32]; new gun4[32]; new gun5[32];
		GetPlayerWeaponData(giveplayerid, 2, slot_weapons[2], ammo);
		GetPlayerWeaponData(giveplayerid, 3, slot_weapons[3], ammo);
		GetPlayerWeaponData(giveplayerid, 4, slot_weapons[4], ammo);
		GetPlayerWeaponData(giveplayerid, 5, slot_weapons[5], ammo);
		strins(text1, "| Guns: ", strlen(text1));
		if(slot_weapons[2] >= 22 && slot_weapons[2] <= 24 && PlayerInfo[giveplayerid][pGunLic] == 1)
		{
			format(gun2, sizeof(gun2), "%s ", WeaponName(slot_weapons[2]));
			strins(text1, gun2, strlen(text1));
			/*if(	WantedPoints[giveplayerid] <= 0 &&
				!IsACop(giveplayerid) &&
				PlayerInfo[giveplayerid][pMember] != DoD &&
				PlayerInfo[giveplayerid][pMember] != DoJ)
			{
				WantedPoints[giveplayerid] += 6;
				SetPlayerCriminal(FBI, giveplayerid, playerid, " Незаконные действия в отношении огнестрельного оружия");
			}*/
		}
		if(slot_weapons[3] >= 25 && slot_weapons[3] <= 27 && PlayerInfo[giveplayerid][pGunLic] == 1)
		{
			format(gun3, sizeof(gun3), "%s ", WeaponName(slot_weapons[3]));
			strins(text1, gun3, strlen(text1));
			/*if(	WantedPoints[giveplayerid] <= 0 &&
				!IsACop(giveplayerid) &&
				PlayerInfo[giveplayerid][pMember] != DoD &&
				PlayerInfo[giveplayerid][pMember] != DoJ)
			{
				WantedPoints[giveplayerid] += 6;
				SetPlayerCriminal(FBI, giveplayerid, playerid, " Незаконные действия в отношении огнестрельного оружия");
			}*/
		}
		if((slot_weapons[4] == 28 || slot_weapons[4] == 29 || slot_weapons[4] == 32) && PlayerInfo[giveplayerid][pGunLic] == 1)
		{
			format(gun4, sizeof(gun4), "%s ", WeaponName(slot_weapons[4]));
			strins(text1, gun4, strlen(text1));
			/*if(	WantedPoints[giveplayerid] <= 0 &&
				!IsACop(giveplayerid) &&
				PlayerInfo[giveplayerid][pMember] != DoD &&
				PlayerInfo[giveplayerid][pMember] != DoJ)
			{
				WantedPoints[giveplayerid] += 6;
				SetPlayerCriminal(FBI, giveplayerid, playerid, " Незаконные действия в отношении огнестрельного оружия");
			}*/
		}
		if((slot_weapons[5] == 30 || slot_weapons[5] == 31) && PlayerInfo[giveplayerid][pGunLic] == 1)
		{
			format(gun5, sizeof(gun5), "%s", WeaponName(slot_weapons[5]));
			strins(text1, gun5, strlen(text1));
			/*if(	WantedPoints[giveplayerid] <= 0 &&
				!IsACop(giveplayerid) &&
				PlayerInfo[giveplayerid][pMember] != DoD &&
				PlayerInfo[giveplayerid][pMember] != DoJ)
			{
				WantedPoints[giveplayerid] += 6;
				SetPlayerCriminal(FBI, giveplayerid, playerid, " Незаконные действия в отношении огнестрельного оружия");
			}*/
		}
		if(	(slot_weapons[2] == 0 && slot_weapons[3] == 0 && slot_weapons[4] == 0 && slot_weapons[5] == 0)
			|| PlayerInfo[giveplayerid][pGunLic] != 1) { text1 = "| Guns: Empty Pocket."; }
		//-----------------------------------------------------------------------
		new text2[32], text3[64], text4[32], text5[32];
	    if(PlayerInfo[giveplayerid][pDrugs] > 0)
		{
			format(text2, sizeof(text2), "| %d Drugs.", PlayerInfo[giveplayerid][pDrugs]);
			if(WantedPoints[giveplayerid] <= 0)
			{
				WantedPoints[giveplayerid] += 6;
				SetPlayerCriminal(FBI, giveplayerid, playerid, " Незаконный оборот наркотических средств");
				SendTeamMessage(FBI, COLOR_DARKTURQUOISE, "   USE: /pun [328] [1-3] [playerid/PartOfName]");
			}
		} else { text2 = "| Drugs: Empty Pocket."; }
		//-----------------------------------------------------------------------
		if(PlayerInfo[giveplayerid][pMats] > 0 && PlayerInfo[giveplayerid][pJob] == ARMSDEALER)
		{ text3 = "| Materials."; }
		else { text3 = "| Materials: Empty Pocket."; }
		//-----------------------------------------------------------------------
	    if(Fishes[giveplayerid][pWeight][0] > 0 || Fishes[giveplayerid][pWeight][1] > 0
			|| Fishes[giveplayerid][pWeight][2] > 0 || Fishes[giveplayerid][pWeight][3] > 0
			|| Fishes[giveplayerid][pWeight][4] > 0) { text4 = "| Fishes."; }
		else { text4 = "| Fishes: Empty Pocket."; }
		//-----------------------------------------------------------------------
	    if(PlayerInfo[playerid][pMember] == DoT)
		{
		 	if(VehInfo[nCarID[giveplayerid]][cLoad] > 0)
		 	{
				format(text5, sizeof(text5), "| %d/18000 t Load.", VehInfo[nCarID[giveplayerid]][cLoad]);
				if(VehInfo[nCarID[giveplayerid]][cLoad] > 18000)
				{
					WantedPoints[giveplayerid] += 6;
					SetPlayerCriminal(DoT, giveplayerid, playerid, " Нарушение правил перевозки грузов");
					SendTeamMessage(DoT, COLOR_DARKTURQUOISE, "   USE: /pdd [10] [21] [playerid/PartOfName]");
				}
			}
			else { text5 = "| 0/18000 t Load."; }

		 	if(	PlayerInfo[giveplayerid][pCarLic] != 1 &&
			 	(LastState[giveplayerid] == PLAYER_STATE_DRIVER || GetPlayerState(giveplayerid) == PLAYER_STATE_DRIVER))//
		 	{
			    WantedPoints[giveplayerid] += 35;
			    new strtmp[64];
				format(strtmp, sizeof(strtmp), " Вождение без прав [%d]", LastCar[giveplayerid]);
				SetPlayerCriminal(DoT, giveplayerid, playerid, strtmp);
				SendTeamMessage(DoT, COLOR_DARKTURQUOISE, "   USE: /pdd [18] [1] [playerid/PartOfName]");
			}
		 	if(	gParameter5[giveplayerid] == 1 && //бодрость
			 	(LastState[giveplayerid] == PLAYER_STATE_DRIVER || GetPlayerState(giveplayerid) == PLAYER_STATE_DRIVER))
		 	{
			    WantedPoints[giveplayerid] += 6;
				//format(strcmd, sizeof(strcmd), " Нарушение установленного режима труда и отдыха", LastCar[giveplayerid]);
				SetPlayerCriminal(DoT, giveplayerid, playerid, " Нарушение установленного режима труда и отдыха");
				SendTeamMessage(DoT, COLOR_DARKTURQUOISE, "   USE: /pdd [26] [1] [playerid/PartOfName]");
			}
		}//6 тон нагрузка на ось
	    //if(PlayerInfo[giveplayerid][pAntiradar] > 0) { text5 = "| Antiradar."; } else { text5 = "| Empty Pocket."; }
		//------------------------------------------------------
		new strtmp[149];
	    format(strtmp, sizeof(strtmp), 	"|__________ Items with %s __________|", PlayerName(giveplayerid));
        SendClientMessage(playerid, COLOR_HERBAL, strtmp);
        format(strtmp, sizeof(strtmp), "%s", text0);
		SendClientMessage(playerid, COLOR_GRAD6, strtmp);
        format(strtmp, sizeof(strtmp), "%s", text1);
		SendClientMessage(playerid, COLOR_GRAD5, strtmp);
        format(strtmp, sizeof(strtmp), "%s", text2);
		SendClientMessage(playerid, COLOR_GRAD4, strtmp);
		format(strtmp, sizeof(strtmp), "%s", text3);
		SendClientMessage(playerid, COLOR_GRAD3, strtmp);
		format(strtmp, sizeof(strtmp), "%s", text4);
		SendClientMessage(playerid, COLOR_GRAD3, strtmp);
		format(strtmp, sizeof(strtmp), "%s", text5);
		SendClientMessage(playerid, COLOR_GRAD2, strtmp);
		//format(strtmp, sizeof(strtmp), "%s", text5);
		//SendClientMessage(playerid, COLOR_GRAD1, strtmp);
		SendClientMessage(playerid, COLOR_HERBAL, "|_________________________________________|");
		if(gTagForPlayer[playerid] != 0)
		{   //если ник НЕ скрыт
			format(strtmp, sizeof(strtmp), "* %s обыскал %s на наличие нелегальных предметов.", PlayerName(playerid) ,PlayerName(giveplayerid));
		}
		else
		{
			format(strtmp, sizeof(strtmp), "* сотрудник обыскал %s'а на наличие нелегальных предметов.", PlayerName(giveplayerid));
		}
		ProxDetector(playerid, 30.0, strtmp, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
	    return 1;
 	}
	//==========================================================================
	else if(!strcmp(cmd, "/permit", true))
	{
   		if( PlayerInfo[playerid][pMember] != DoJ)
  		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
        if(gOnDuty[playerid] != 1)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 1;
		}
        if(PlayerInfo[playerid][pRank] != 9 && PlayerInfo[playerid][pRank] != 12)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 9 или 12 Ранга !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
	    	SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /permit [playerid/PartOfName] [1-house,2-biz,3-sbiz]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if(giveplayerid == playerid)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выдавать разрешение самому себе !");
			return 1;
		}
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
        if(GetPVarInt(giveplayerid, "gGotPermit") > 0)
        {
           	format(strcmd, sizeof(strcmd), "   %s уже получил Разрешение.", PlayerName(giveplayerid));
            SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
        }

		new ToBase[74+24+2];
		format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", PlayerName(giveplayerid), DoJ);
		mysql_query(ToBase); mysql_store_result();
		if(mysql_num_rows() > 0)
	 	{
       		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выдать разрешение человеку находящемуся в Чёрном Списке!");
			mysql_free_result();
			return 1;
		}
		mysql_free_result();

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
	    	SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /permit [playerid/PartOfName] [1-house,2-biz,3-sbiz]");
			return 1;
		}
		new permit = strval(tmp);
        if(permit < 1 || permit > 3)
        {
	    	SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /permit [playerid/PartOfName] [1-house,2-biz,3-sbiz]");
			return 1;
        }
		new family = PlayerInfo[playerid][pMember];

        if(permit == 1 && GetPlayerMoneyH(giveplayerid) > 10000)
        {
			GivePlayerMoneyH(ffamily+PlayerInfo[playerid][pMember], giveplayerid, -10000);
			FamilyInfo[family][fBank] += 10000/2;
			GivePlayerMoneyB(ffamily+PlayerInfo[playerid][pMember], playerid, 10000/2);
        }
        else if(permit == 2 && GetPlayerMoneyH(giveplayerid) > 5000)
        {
			GivePlayerMoneyH(ffamily+PlayerInfo[playerid][pMember], giveplayerid, -5000);
			FamilyInfo[family][fBank] += 5000/2;
			GivePlayerMoneyB(ffamily+PlayerInfo[playerid][pMember], playerid, 5000/2);
        }
        else if(permit == 3 && GetPlayerMoneyH(giveplayerid) > 15000)
        {
			GivePlayerMoneyH(ffamily+PlayerInfo[playerid][pMember], giveplayerid, -15000);
			FamilyInfo[family][fBank] += 15000/2;
			GivePlayerMoneyB(ffamily+PlayerInfo[playerid][pMember], playerid, 15000/2);
        }
        else
        {
	    	SendClientMessage(playerid, COLOR_GREY, "   У игрока нет столько денег!");
			return 1;
        }
		format(strcmd, sizeof(strcmd), "%s %s выдал %s'у Разрешение на покупку недвижимости класса %d.", GetPlayerRanks(playerid), PlayerName(playerid), PlayerName(giveplayerid), permit);
		ProxDetector(playerid, 30.0, strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);

        SetPVarInt(giveplayerid, "gGotPermit", permit);
        OnePlayAnim(playerid, "DEALER", "DEALER_DEAL", 4.1, 0, 1, 1, 0, 0); // Deal Drugs

		OnePlayAnim(giveplayerid, "DEALER", "DEALER_DEAL", 4.1, 0, 1, 1, 0, 0); // Deal Drugs
		IncreaseRank(playerid, 1);
		//return 1;
	}
	else if(!strcmp(cmd, "/order", true))
	{
		if(	PlayerInfo[playerid][pMember] != DoT &&
			PlayerInfo[playerid][pMember] != FBI &&
			PlayerInfo[playerid][pMember] != DoD &&
			PlayerInfo[playerid][pMember] != DoJ &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(	PlayerInfo[playerid][pMember] == DoT
			&& PlayerInfo[playerid][pRank] != 11
			&& PlayerInfo[playerid][pRank] != 12)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 11,12 Ранга !");
		    return 1;
		}
        if(	PlayerInfo[playerid][pMember] == FBI
			&& PlayerInfo[playerid][pRank] < 5)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 5 Ранга или выше!");
		    return 1;
		}
        if(PlayerInfo[playerid][pMember] == DoJ
        	&& PlayerInfo[playerid][pRank] != 2
			&& PlayerInfo[playerid][pRank] != 3
			&& PlayerInfo[playerid][pRank] != 4)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 2,3,4 Ранга !");
		    return 1;
		}
        if(gOnDuty[playerid] != 1)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
	    	SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /order [playerid/PartOfName] [suspectid|LawyerID|"#SOC_PACKET"-соц.пакет|"#QUIT_JOB"-quitjob]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if(giveplayerid == playerid)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выдавать ордер самому себе !");
			return 1;
		}
	    if(AFK_IdleTime[giveplayerid] >= 3)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выдавать ордер игроку в AFK !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
	    	SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /order [playerid/PartOfName] [suspectid|LawyerID|"#SOC_PACKET"-соц.пакет|"#QUIT_JOB"-quitjob]");
			return 1;
		}
		//new suspectid = ReturnUser(tmp);
		new suspectid = strval(tmp);
        if(PlayerInfo[playerid][pMember] != DoJ
        	&& (suspectid == SOC_PACKET || suspectid == QUIT_JOB))
		{	//талон на Соц. пакет. //разрешение на увольнение с работы
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
		}
        if(PlayerInfo[playerid][pMember] != DoJ
        	&& PlayerInfo[giveplayerid][pMember] == PlayerInfo[playerid][pMember])
		{	//талон на Соц. пакет. //разрешение на увольнение с работы
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выдать ордер члену своей фракции !");
			return 1;
		}
        if(	suspectid == SOC_PACKET &&
			PlayerInfo[playerid][pMember] == DoJ && PlayerInfo[playerid][pRank] != 2)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 2 Ранга !");
		    return 1;
		}
        if(	suspectid == QUIT_JOB &&
			PlayerInfo[playerid][pMember] == DoJ && PlayerInfo[playerid][pRank] != 3)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 3 Ранга !");
		    return 1;
		}
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
	    if(!IsPlayerConnected(suspectid) && suspectid != SOC_PACKET && suspectid != QUIT_JOB)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этого игрока нету на сервере или причина указана не верно  !");
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
        if(gGotOrder[giveplayerid] < MAX_PLAYERS-1)
        {
           	format(strcmd, sizeof(strcmd), "   %s уже получил ордер.", PlayerName(giveplayerid));
            SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
        }

		if(IsACop(giveplayerid) && PlayerInfo[giveplayerid][pJob] != 2)
		{
			format(strcmd, sizeof(strcmd), "%s %s выдал %s'у Ордер на Арест/Снятие розыска %s[%d].", GetPlayerRanks(playerid), PlayerName(playerid), PlayerName(giveplayerid), PlayerName(suspectid), suspectid);
		}
		else if(PlayerInfo[playerid][pMember] == DoD && PlayerInfo[giveplayerid][pJob] == LAWYER)
		{
			new ToBase[74+24+2];
			format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", PlayerName(giveplayerid), DoD);
			mysql_query(ToBase); mysql_store_result();
			if(mysql_num_rows() > 0)
		 	{
	       		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выдать разрешение на выход под залог человеку находящемуся в Чёрном Списке!");
				mysql_free_result();
				return 1;
			}
			mysql_free_result();

			format(strcmd, sizeof(strcmd), "%s %s выдал %s'у Ордер на выход под залог %s[%d].", GetPlayerRanks(playerid), PlayerName(playerid), PlayerName(giveplayerid), PlayerName(suspectid), suspectid);
		}
		else if(PlayerInfo[playerid][pMember] == DoJ && suspectid != SOC_PACKET && suspectid != QUIT_JOB)
		{
			format(strcmd, sizeof(strcmd), "%s %s выдал %s'у Ордер на Арест %s[%d].", GetPlayerRanks(playerid), PlayerName(playerid), PlayerName(giveplayerid), PlayerName(suspectid), suspectid);
		}
		else if(PlayerInfo[playerid][pMember] == DoJ && suspectid == SOC_PACKET)
		{
			new ToBase[74+24+2];
			format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", PlayerName(giveplayerid), DoJ);
			mysql_query(ToBase); mysql_store_result();
			if(mysql_num_rows() > 0)
		 	{
	       		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выдать талон на Соц. пакет человеку находящемуся в Чёрном Списке!");
				mysql_free_result();
				return 1;
			}
			mysql_free_result();

			format(strcmd, sizeof(strcmd), "%s %s выдал %s'у талон на Соц. пакет. Приказ №%d.", GetPlayerRanks(playerid), PlayerName(playerid), PlayerName(giveplayerid), suspectid);
		}
		else if(PlayerInfo[playerid][pMember] == DoJ && suspectid == QUIT_JOB)
		{
			new ToBase[74+24+2];
			format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", PlayerName(giveplayerid), PlayerInfo[playerid][pMember]);
			mysql_query(ToBase); mysql_store_result();
			if(mysql_num_rows() > 0)
		 	{
	       		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выдать разрешение на увольнение с работы человеку находящемуся в Чёрном Списке!");
				mysql_free_result();
				return 1;
			}
			mysql_free_result();

			format(strcmd, sizeof(strcmd), "%s %s выдал %s'у разрешение на увольнение с работы. Приказ №%d.", GetPlayerRanks(playerid), PlayerName(playerid), PlayerName(giveplayerid), suspectid);
		}
		else { SendClientMessage(playerid, COLOR_GREY, "   Это человек или Вы не уполномочены использовать эту команду  !"); return 1; }
		//ProxDetector(playerid, 30.0, strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
		SendClientMessage(playerid, COLOR_LILAC, strcmd);
		SendClientMessage(giveplayerid, COLOR_LILAC, strcmd);

        gGotOrder[giveplayerid] = suspectid;
		OnePlayAnim(giveplayerid, "DEALER", "DEALER_DEAL", 4.1, 0, 1, 1, 0, 0); // Deal Drugs

        OnePlayAnim(playerid, "DEALER", "DEALER_DEAL", 4.1, 0, 1, 1, 0, 0); // Deal Drugs
		IncreaseRank(playerid, 1);
		//return 1;
	}
	else if(!strcmp(cmd, "/take", true))
	{
		if(PlayerInfo[playerid][pRank] < 4 && PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны иметь Ранг 4 или Выше для этого действия !");
			return 1;
		}
        if(gOnDuty[playerid] != 1 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 1;
		}
	    if(PlayerCuffed[playerid] < MAX_PLAYERS-1)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете забрать лицензию когда у вас надеты наручники !");
	        return 1;
	    }
        if(PlayerTied[playerid] > 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете забрать лицензию когда связаны !");
	        return 1;
        }
        if(PlayerTazed[playerid] > 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете забрать лицензию когда оглушены !");
	        return 1;
        }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_HERBAL, "|____________________ Take Licenses ____________________|");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /take [playerid/PartOfName] [licensename] [time in hour]");
	  		if(PlayerInfo[playerid][pMember] == DoT) SendClientMessage(playerid, COLOR_GREY, "RP Available names: DrivingA, Driving, Flying, Sailing, Guns, Drugs");
	  		else SendClientMessage(playerid, COLOR_GREY, "FBI Available names: WeaponLic, Guns, Drugs, Materials");
			SendClientMessage(playerid, COLOR_HERBAL, "|______________________________________________________|");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
		if(IsPlayerInArea(giveplayerid, specialzone[6]))
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете забрать лицензию, т.к. человек находится в особняке !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
        if(PlayerInfo[playerid][pMember] == DoT || PlayerInfo[playerid][pAdmin] == 9)
        {
			if(!strlen(tmp))
			{
				SendClientMessage(playerid, COLOR_HERBAL, "|____________________ Take Licenses ____________________|");
				SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /take [playerid/PartOfName] [licensename] [time in hour]");
		  		SendClientMessage(playerid, COLOR_GREY, "DoT Available names: DrivingA, Driving, Flying, Sailing, Guns, Drugs");//, Antiradar
				SendClientMessage(playerid, COLOR_HERBAL, "|______________________________________________________|");
				return 1;
			}
		    if(!strcmp(tmp, "driving", true))
			{
				if(	PlayerInfo[giveplayerid][pCarLic] == 0 || PlayerInfo[giveplayerid][pCarLic] > 1)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Игрок уже лишен Водительской Лицензии !");
					return 1;
				}
				tmp = strtok(cmdtext, idx);
			    new time = strval(tmp);
				if((time < 1 || time > 2) && PlayerInfo[playerid][pAdmin] != 9)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Время лишения лицензии не ниже 1 и не выше 2 часов !");
					return 1;
				}
				if(!(PlayerInfo[giveplayerid][pArticle] >= 1 && PlayerInfo[giveplayerid][pArticle] <= 36) && PlayerInfo[playerid][pAdmin] != 9)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Игрок не имеет статьи предусматривающей отбор даной лицензии !");
					return 1;
				}
				format(strcmd, sizeof(strcmd), "Офицер %s лишил %s'а Водительской Лицензии на %d часов", PlayerName(playerid), PlayerName(giveplayerid), time);
				ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
		        PlayerInfo[giveplayerid][pCarLic] = time+10;
				//PlayerInfo[giveplayerid][pArticle] = 0;//убрали статью
				//PlayerInfo[giveplayerid][pPart] = 0;//убрали часть
				//ClearCrime(giveplayerid, playerid);
				return 1;
			}
			//--------------------------------------------------
			else if(!strcmp(tmp, "drivingA", true))//лицензия на мото
			{
				if(PlayerInfo[giveplayerid][pBikeLic] == 0 || PlayerInfo[giveplayerid][pBikeLic] > 1) {
					SendClientMessage(playerid, COLOR_GREY, "   Игрок уже лишен Водительской Категории А !");
					return 1;
				}
				tmp = strtok(cmdtext, idx);
			    new time = strval(tmp);
				if(time < 1 || time > 3) { SendClientMessage(playerid, COLOR_GREY, "   Время лишения лицензии не ниже 1 и не выше 3 часов !"); return 1; }
				if(!(PlayerInfo[giveplayerid][pArticle] >= 1 && PlayerInfo[giveplayerid][pArticle] <= 36))
				{
					SendClientMessage(playerid, COLOR_GREY, "   Игрок не имеет статьи предусматривающей отбор даной лицензии !");
					return 1;
				}
				format(strcmd, sizeof(strcmd), "Офицер %s лишил %s'а Лицензии на Мототехнику на %d часов", PlayerName(playerid), PlayerName(giveplayerid), time);
				ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
				PlayerInfo[giveplayerid][pBikeLic] = time+10;
				//PlayerInfo[giveplayerid][pArticle] = 0;//убрали статью
				//PlayerInfo[giveplayerid][pPart] = 0;//убрали часть
				//ClearCrime(giveplayerid, playerid);
				return 1;
			}
			//--------------------------------------------------
			else if(!strcmp(tmp, "flying", true))
			{
				if(PlayerInfo[giveplayerid][pFlyLic] == 0 || PlayerInfo[giveplayerid][pFlyLic] > 1) {
					SendClientMessage(playerid, COLOR_GREY, "   Игрок уже лишен Лицензии на полёты !");
					return 1;
				}
				tmp = strtok(cmdtext, idx);
			    new time = strval(tmp);
				if(time < 1 || time > 3) { SendClientMessage(playerid, COLOR_GREY, "   Время лишения лицензии не ниже 1 и не выше 3 часов !"); return 1; }
				if(!(PlayerInfo[giveplayerid][pArticle] >= 1 && PlayerInfo[giveplayerid][pArticle] <= 36))
				{
					SendClientMessage(playerid, COLOR_GREY, "   Игрок не имеет статьи предусматривающей отбор даной лицензии !");
					return 1;
				}
				format(strcmd, sizeof(strcmd), "Офицер %s лишил %s'а Лицензии на полёты на %d часов", PlayerName(playerid), PlayerName(giveplayerid), time);
				ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
				PlayerInfo[giveplayerid][pFlyLic] = time+10;
				//PlayerInfo[giveplayerid][pArticle] = 0;//убрали статью
				//PlayerInfo[giveplayerid][pPart] = 0;//убрали часть
				//ClearCrime(giveplayerid, playerdid);
				return 1;
			}
			//--------------------------------------------------
			else if(!strcmp(tmp, "sailing", true))
			{
				if(PlayerInfo[giveplayerid][pBoatLic] == 0 || PlayerInfo[giveplayerid][pBoatLic] > 1) {
					SendClientMessage(playerid, COLOR_GREY, "   Игрок уже лишен Лицензии на Лодку !");
					return 1;
				}
				tmp = strtok(cmdtext, idx);
				new time = strval(tmp);
				if(time < 1 || time > 2) { SendClientMessage(playerid, COLOR_GREY, "   Время лишения лицензии не ниже 1 и не выше 2 часов !"); return 1; }
				if(!(PlayerInfo[giveplayerid][pArticle] >= 1 && PlayerInfo[giveplayerid][pArticle] <= 36))
				{
					SendClientMessage(playerid, COLOR_GREY, "   Игрок не имеет статьи предусматривающей отбор даной лицензии !");
					return 1;
				}
				format(strcmd, sizeof(strcmd), "Офицер %s лишил %s'а Лицензии на Лодку на %d часов", PlayerName(playerid), PlayerName(giveplayerid), time);
				ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
				PlayerInfo[giveplayerid][pBoatLic] = time+10;
				//PlayerInfo[giveplayerid][pArticle] = 0;//убрали статью
				//PlayerInfo[giveplayerid][pPart] = 0;//убрали часть
				//ClearCrime(giveplayerid, playerdid);
				return 1;
			}
			else if(!strcmp(tmp, "guns", true))
			{
				if(gTagForPlayer[playerid] != 0)
				{   //если ник НЕ скрыт
					format(strcmd, sizeof(strcmd), "Офицер %s конфисковал у %s'а Оружие.", PlayerName(playerid), PlayerName(giveplayerid));
				}
				else
				{
					format(strcmd, sizeof(strcmd), "Офицер конфисковал у %s'а Оружие.", PlayerName(giveplayerid));
				}
				ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);

				ResetPlayerWeaponsEx(giveplayerid);
				/*
				PlayerInfo[giveplayerid][pGun1] = 0; PlayerInfo[giveplayerid][pAmmo1] = 0;
				PlayerInfo[giveplayerid][pGun2] = 0; PlayerInfo[giveplayerid][pAmmo2] = 0;
				PlayerInfo[giveplayerid][pGun3] = 0; PlayerInfo[giveplayerid][pAmmo3] = 0;
				PlayerInfo[giveplayerid][pGun4] = 0; PlayerInfo[giveplayerid][pAmmo4] = 0;
				*/
				return 1;
			}
			else if(!strcmp(tmp, "drugs", true))
			{
				if(gTagForPlayer[playerid] != 0)
				{   //если ник НЕ скрыт
					format(strcmd, sizeof(strcmd), "Офицер %s конфисковал у %s'а Наркотики.", PlayerName(playerid), PlayerName(giveplayerid));
				}
				else
				{
					format(strcmd, sizeof(strcmd), "Офицер конфисковал у %s'а Наркотики.", PlayerName(giveplayerid));
				}
				ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);

				PlayerInfo[giveplayerid][pDrugs] = 0;
				return 1;
			}
			//--------------------------------------------------
			else if(!strcmp(tmp, "Materials", true))
			{
				format(strcmd, sizeof(strcmd), "Офицер %s конфисковал у %s'а %d материалов.",
					PlayerName(playerid), PlayerName(giveplayerid), PlayerInfo[giveplayerid][pMats]);
				ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
				PlayerInfo[giveplayerid][pMats] = 0;
				return 1;
			}
			//--------------------------------------------------
			/*else if(!strcmp(tmp, "antiradar", true))
			{
				format(strcmd, sizeof(strcmd), "Офицер %s конфисковал у %s'а Антирадар.", PlayerName(playerid), PlayerName(giveplayerid));
				ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
				PlayerInfo[giveplayerid][pAntiradar] = 0;//забрать антирадар
				return 1;
			}*/
			//--------------------------------------------------
			else
			{
				SendClientMessage(playerid, COLOR_GREY, "   Неверное название забираемого предмета !");
				//continue;//return 1;
			}
		}
		//======================================================
		//else { SendClientMessage(playerid, COLOR_GREY, "   Вы не Полицейский !"); return 1; }
        if(PlayerInfo[playerid][pMember] == FBI || PlayerInfo[playerid][pAdmin] == 9)
        {
			if(!strlen(tmp))
			{
				SendClientMessage(playerid, COLOR_HERBAL, "|____________________ Take Licenses ____________________|");
				SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /take [playerid/PartOfName] [licensename] [time in hour]");
		  		SendClientMessage(playerid, COLOR_GREY, "Available names: WeaponLic, Guns, Drugs");//, Materials
				SendClientMessage(playerid, COLOR_HERBAL, "|______________________________________________________|");
				return 1;
			}
			if(!strcmp(tmp, "weaponlic", true))
			{
				if(PlayerInfo[giveplayerid][pGunLic] != 1  && !gRealWar && PlayerInfo[playerid][pAdmin] != 9)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Игрок уже лишен лицензии на оружие !");
					return 1;
				}
				if(PlayerCuffed[giveplayerid] == MAX_PLAYERS-1 && PlayerInfo[giveplayerid][pJailed] == 0 && PlayerInfo[playerid][pAdmin] != 9)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы не можете забрать лицензию, если человек не в наручниках !");
					return 1;
				}
				if(!IsAtPolice(playerid) && PlayerInfo[playerid][pAdmin] != 9)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы не в полицейском участке!");
					return 1;
				}
				if(!(PlayerInfo[giveplayerid][pArticle] >= 139) && PlayerInfo[playerid][pAdmin] != 9)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Игрок не имеет статьи предусматривающей отбор даной лицензии !");
					return 1;
				}
				tmp = strtok(cmdtext, idx);
			    new time = strval(tmp);
				if((time < 1 || time > 3) && PlayerInfo[playerid][pAdmin] != 9) {//DOTL[ PenalCode[i][Period] ][0]
					SendClientMessage(playerid, COLOR_GREY, "   Время лишения лицензии не ниже 1 и не выше 3 часов !");
					return 1;
				}
				if(gTagForPlayer[playerid] != 0)
				{   //если ник НЕ скрыт
					format(strcmd, sizeof(strcmd), "Офицер %s лишил %s'а Лицензии на Оружие на %d часов", PlayerName(playerid), PlayerName(giveplayerid), time);
				}
				else
				{
					format(strcmd, sizeof(strcmd), "Офицер лишил %s'а Лицензии на Оружие на %d часов",PlayerName(giveplayerid), time);
				}
				ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
				SetPlayerArmedWeaponEx(giveplayerid, 0);
				ResetPlayerWeaponsEx(giveplayerid);
				PlayerInfo[giveplayerid][pGunLic] = time+10;
				SetPlayerToTeamColor(11);
				return 1;
			}
			else if(!strcmp(tmp, "guns", true))
			{
				if(gTagForPlayer[playerid] != 0)
				{   //если ник НЕ скрыт
					format(strcmd, sizeof(strcmd), "Офицер %s конфисковал у %s'а Оружие.", PlayerName(playerid), PlayerName(giveplayerid));
				}
				else
				{
					format(strcmd, sizeof(strcmd), "Офицер конфисковал у %s'а Оружие.", PlayerName(giveplayerid));
				}
				ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);

				ResetPlayerWeaponsEx(giveplayerid);
				/*
				PlayerInfo[giveplayerid][pGun1] = 0; PlayerInfo[giveplayerid][pAmmo1] = 0;
				PlayerInfo[giveplayerid][pGun2] = 0; PlayerInfo[giveplayerid][pAmmo2] = 0;
				PlayerInfo[giveplayerid][pGun3] = 0; PlayerInfo[giveplayerid][pAmmo3] = 0;
				PlayerInfo[giveplayerid][pGun4] = 0; PlayerInfo[giveplayerid][pAmmo4] = 0;
				*/
				return 1;
			}
			else if(!strcmp(tmp, "drugs", true))
			{
				if(gTagForPlayer[playerid] != 0)
				{   //если ник НЕ скрыт
					format(strcmd, sizeof(strcmd), "Офицер %s конфисковал у %s'а Наркотики.", PlayerName(playerid), PlayerName(giveplayerid));
				}
				else
				{
					format(strcmd, sizeof(strcmd), "Офицер конфисковал у %s'а Наркотики.", PlayerName(giveplayerid));
				}
				ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);

				PlayerInfo[giveplayerid][pDrugs] = 0;
				return 1;
			}
			//--------------------------------------------------
			else SendClientMessage(playerid, COLOR_GREY, "   Неверное название забираемого предмета !");
		}
		else SendClientMessage(playerid, COLOR_GREY, "   Вы не Полицейский / Вы не Агент ФБР !");
		//return 1;
	}
	else if(!strcmp(cmd, "/ticket", true))
	{
        if(	!IsACop(playerid) &&
			!(PlayerInfo[playerid][pMember] == DoJ && PlayerInfo[playerid][pRank] == 8))
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы - не Полицейский/Ген. прокурор!");
		    return 1;
		}
        if(gOnDuty[playerid] != 1)// && PlayerInfo[playerid][pMember] == DoT
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей!");
		    return 1;
		}
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			//SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /ticket [playerid/PartOfName] [price] [reason]");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /ticket [playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
	    if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы не можете предложить штраф самому себя!"); return 1; }
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
	    if(PlayerInfo[giveplayerid][pMember] == PlayerInfo[playerid][pMember])
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете предложить штраф члену вашей фракции !");
			return 1;
		}
	    if(WantedLevel[giveplayerid] <= 0)
 		{
		  	SendClientMessage(playerid, COLOR_GREY, "   Данный игрок не в Розыске!");
		  	return 1;
		}
		if(PlayerInfo[giveplayerid][pArticle] == 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете оштрафовать без назначения статьи нарушения!");
			return 1;
		}
		if(gLoading[giveplayerid] || gUnLoading[giveplayerid])
		{
			SendClientMessage(playerid, COLOR_GREY, "   Подождите окончания загрузки/выгрузки !");
			return 1;
		}
		new ticket;
		if(	PlayerInfo[giveplayerid][pArticle] >= 1 && PlayerInfo[giveplayerid][pArticle] <= 36
			//&& (PlayerInfo[playerid][pMember] == DoT || PlayerInfo[playerid][pMember] == DoJ)
		  )
		{
			for(new i=0; i<sizeof(PDD); i++)
			{
				if(PlayerInfo[giveplayerid][pArticle] != PDD[i][Article]) continue;
				if(PlayerInfo[giveplayerid][pPart] != PDD[i][Part]) continue;
 				//ticket = PDD[i][Bail]*PlayerInfo[giveplayerid][pLevel]*360;//3600
 				ticket = PDD[i][Bail]*WantedLevel[giveplayerid]*ticket_rate;//3600
				break;
			}
		}
		if(	PlayerInfo[giveplayerid][pArticle] >= 83
			// && (PlayerInfo[playerid][pMember] == FBI || PlayerInfo[playerid][pMember] == DoJ)
	      )
		{
			for(new i=0; i<sizeof(PenalCode); i++)
			{
				if(PlayerInfo[giveplayerid][pArticle] != PenalCode[i][Article]) continue;
				if(PlayerInfo[giveplayerid][pPart] != PenalCode[i][Part]) continue;
				//ticket = PenalCode[i][Bail]*PlayerInfo[giveplayerid][pLevel]*360;//3600
				ticket = PenalCode[i][Bail]*WantedLevel[giveplayerid]*ticket_rate;//3600
				break;
			}
		}
		/*if(ticket < 1000)
		{
			//format(strcmd, sizeof(strcmd), "* Вы не можете назначить Штраф $%d больше чем предусмотрено по статье !", ticket);
			format(strcmd, sizeof(strcmd), "* Вы не можете назначить Штраф $%d < $1000!", ticket);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}*/
		//format(strcmd, sizeof(strcmd), "* Ты назначил %s Штраф в размере $%d, по Причине: %s", PlayerName(giveplayerid), moneys, (gMessage));
		//SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		//format(strcmd, sizeof(strcmd), "* Офицер %s назначил вам Штраф $%d, по Причине: %s", PlayerName(playerid), moneys, (gMessage));
		//SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
		//format(strcmd, sizeof(strcmd), "Офицер %s назначил %s'у Штраф в размере $%d, \nПричина: %s", PlayerName(playerid), PlayerName(giveplayerid), moneys, gMessage);

		format(strcmd, sizeof(strcmd), "%s %s \nназначил %s'у \nШтраф в размере $%d, \nпо статье: %d.%d",
			GetPlayerRanks(playerid), PlayerName(playerid), PlayerName(giveplayerid), ticket, PlayerInfo[giveplayerid][pArticle], PlayerInfo[giveplayerid][pPart]);
		ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
		Offer[giveplayerid] = playerid;
		TicketMoney[giveplayerid] = ticket;//moneys;
		new msgitem[MAX_STRING+39];
		format(msgitem, sizeof(msgitem), "%s\n\nВыберите Accept, чтобы оплатить.", strcmd);
		MenuOperation[giveplayerid] = 19;
		ShowPlayerDialogEx(giveplayerid, ACCEPT_DIALOG, DIALOG_STYLE_MSGBOX, "Ticket - Штраф", msgitem, "Accept", "Cancel");
		//return 1;
	}
	else if(!strcmp(cmd, "/tazer", true))
	{
		if(	!IsACop(playerid) && PlayerInfo[playerid][pMember] != DoD &&
			PlayerInfo[playerid][pMember] != DoH && PlayerInfo[playerid][pMember] != DoJ &&
			PlayerInfo[playerid][pMember] != SAN && PlayerInfo[playerid][pMember] != DoE)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать шокер !");
		    return 1;
		}
        if(gOnDuty[playerid] != 1)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 1;
		}
		if(PlayerInfo[playerid][pJailed] > 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете в данный момент использовать шокер !");
		    return 1;
		}
	    if(PlayerTazed[playerid] == 1)
	    {
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете в данный момент использовать шокер !");
			return 1;
	    }
	    if(PlayerCuffed[playerid] < MAX_PLAYERS-1)
	    {
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете в данный момент использовать шокер !");
			return 1;
	    }
        if(PlayerTied[playerid] > 0)
        {
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете в данный момент использовать шокер !");
	        return 1;
        }
	    if(IsPlayerInAnyVehicle(playerid))
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Не можете использовать шокер пока находитесь в Автомобиле!");
	        return 1;
	    }
	    if(	PlayerInfo[playerid][pMember] == DoH &&
			!IsAtHospital(playerid))
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Вы можете использовать шокер только в больнице !");
	        return 1;
	    }
	    if(	PlayerInfo[playerid][pMember] == DoJ &&
			PlayerInfo[playerid][pLocal] != 241 &&
			PlayerInfo[playerid][pRank] != 6)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Вы можете использовать шокер только на территории Мэрии !");
	        return 1;
	    }
	    if(PlayerInfo[playerid][pMember] == SAN &&
			PlayerInfo[playerid][pLocal] != 249)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Вы можете использовать шокер только на территории студии Новостей !");
	        return 1;
	    }
	    if(PlayerInfo[playerid][pMember] == DoE &&
			PlayerInfo[playerid][pLocal] != 253)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Вы можете использовать шокер только на территории автошколы !");
	        return 1;
	    }
		if( PlayerInfo[playerid][pMember] != Hitman &&
			IsPlayerInArea(playerid, specialzone[5]) )//5 база Hitman
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете использовать шокер на этой территории !");
		    return 1;
		}
		if(GetPVarInt(playerid, "Tazer") == 1)
		{
			SetPVarInt(playerid, "Tazer", 0);
	        if(IsPlayerAttachedObjectSlotUsed(playerid, TAZER_SLOT))
	        {
	            RemovePlayerAttachedObject(playerid, TAZER_SLOT);
	        }
		}
		else
		{
			SetPVarInt(playerid, "Tazer", 1);
			SetPlayerArmedWeaponEx(playerid, 0);
			SetPlayerAttachedObjectEx(playerid, TAZER_SLOT, 18642, Right_hand, 0.06,0.01,0.08, 180.0,0.0,0.0);
		}
		//return 1;
	}
	//==========================================================================
	else if(!strcmp(cmd, "/tie", true))
	{
		if(!IsAFamilyMember(playerid) && PlayerInfo[playerid][pMember] != Hitman && !IsAGangs(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы НЕ Член семьи / Банды / НЕ Хитман !");
	        return 1;
	    }
	    if(PlayerCuffed[playerid] < MAX_PLAYERS-1)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете связать когда у вас надеты наручники !");
	        return 1;
	    }
        if(PlayerTied[playerid] > 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете связать когда связаны !");
	        return 1;
        }
		if(PlayerInfo[playerid][pJailed] > 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете связать когда Вы заключенный !");
			return 1;
		}
		//----------------------------------------------------------------------
	    tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /tie [Playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы не можете Связать самого себя!"); return 1; }
	    if(	PlayerInfo[giveplayerid][pMember] == PlayerInfo[playerid][pMember] )
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете Связать члена своей группы!");
			return 1;
		}
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
		if(gTakingLesson[giveplayerid] == 1 || DriveProgress[giveplayerid] > 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете связать, т.к. человек сдаёт экзамен !");
	    	return 1;
		}
		if(AFK_IdleTime[giveplayerid] > 5)
		{
	   		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете связать, т.к. человек находится в AFK !");
		    return 1;
		}
		if(PlayerInfo[giveplayerid][pJailed] > 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете связать заключенного !");
			return 1;
		}
	    if(PlayerTied[giveplayerid] > 0)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Игрок уже Связан !");
	        return 1;
	    }
	    if(PlayerCuffed[giveplayerid] < MAX_PLAYERS-1)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете связать когда у игрока надеты наручники !");
	        return 1;
	    }
		//----------------------------------------------------------------------
		if(IsAFamilyMember(playerid) || PlayerInfo[playerid][pMember] == Hitman)
		{
		    if(PlayerInfo[playerid][pRank] < 4)
		    {
		        SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть не ниже 4-го ранга, чтобы Связать человека !");
		        return 1;
		    }
		    if(!IsPlayerInAnyVehicle(playerid) ||
				CurState[playerid] != PLAYER_STATE_DRIVER ||
				!IsPlayerInVehicle(giveplayerid, nCarID[playerid]))
		    {
		    	SendClientMessage(playerid, COLOR_GREY, "   Игрок не в вашем Автомобиле, или Вы не Водитель !");
				return 1;
			}
			TogglePlayerControllableEx(giveplayerid, 0);//обездвиживает
			if(PlayerInfo[playerid][pMember] == LCN) PlayerTied[giveplayerid] = 5;
			else if(PlayerInfo[playerid][pMember] == Yakuza) PlayerTied[giveplayerid] = 6;
			else if(PlayerInfo[playerid][pMember] == Hitman) PlayerTied[giveplayerid] = 8;
			PlayerTiedTime[giveplayerid] = 600;
			GameTextForPlayerEx(giveplayerid, "~r~Tied", 2500, 3);

			for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
	       		if(WantedPoints[playerid] > 6) break;
				if( !IsPlayerConnectedEx(i) || !gPlayerSpawned[i] ) continue;
				if(i == playerid) continue;
				if(spectateid[i] != MAX_PLAYERS-1) continue;
			    if(!IsACop(i)) continue;
			    if(!gOnDuty[i]) continue;
			    //if( !IsPlayerInAnyVehicle(i) ) continue;
				//if( !IsInCopCar(nCarID[i]) ) continue;
				//if(nCarID[playerid] == nCarID[i]) continue;//если игрок не сидит в машине полицмена
				if(	!IsPlayerInRangeOfPlayer(60.0, playerid, i) ) continue;
	       	    WantedPoints[playerid] += 7;
				SetPlayerCriminal(FBI, playerid, i, " Похищение человека");
				SendTeamMessage(FBI, COLOR_DARKTURQUOISE, "   USE: /pun [182] [1-3] [playerid/PartOfName]");
	       	    break;
	   		}

			if(gTagForPlayer[playerid] != 0)
			{   //если ник НЕ скрыт
				format(strcmd, sizeof(strcmd), "* %s связал %s, теперь он не может свободно перемещаться %d минут.",
					PlayerName(playerid), PlayerName(giveplayerid), PlayerTiedTime[giveplayerid]/60);
			}
			else
			{
				format(strcmd, sizeof(strcmd), "* связал %s'а, теперь он не может свободно перемещаться %d минут.",
					PlayerName(giveplayerid), PlayerTiedTime[giveplayerid]/60);
			}
			ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);


		    return 1;
		}
		//--------------------------------------------------
		else if(IsAGangs(playerid))
		{
		    if(	PlayerInfo[playerid][pMember] == TEAM_BIKER)
		    {
		    	if(CurState[playerid] != PLAYER_STATE_DRIVER)
		    	{
					SendClientMessage(playerid, COLOR_GREY, "   Вы НЕ на Водительском месте !");
					return 1;
				}
		    }
		    else //if(PlayerInfo[playerid][pMember] != TEAM_BIKER)
		    {
		    	if(CurState[playerid] != PLAYER_STATE_PASSENGER)
		    	{
					SendClientMessage(playerid, COLOR_GREY, "   Вы НЕ на Пассажирском месте !");
					return 1;
				}
		    }

			if(IsPlayerInArea(giveplayerid, specialzone[6]))
			{
	            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете cвязать, т.к. человек находится в особняке !");
			    return 1;
			}
			if(IsPlayerInAnyVehicle(giveplayerid))
			{
	            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете cвязать, т.к. человек находится в транспортном средстве !");
			    return 1;
			}

			tmp = strtok(cmdtext, idx);
			if(!strlen(tmp))
			{
				SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /tie [Playerid/PartOfName] [seatid(1-3)]");
				return 1;
			}
			new seatid = strval(tmp);
			if(seatid < 0 || seatid > (VehicleArray[nCarModel[playerid]-400][SeatID]-1))
			{
				SendClientMessage(playerid, COLOR_GREY, "   Такого места не существует в данном типе транспортного средства !");
				return 1;
			}
			if(seatid == GetPlayerVehicleSeat(playerid))//определяет место на котором сидит игрок
			{   //Returns	Seat ID(0-driver, 1-co-driver, 2&3-passengers, if the car has enough seats)
				SendClientMessage(playerid, COLOR_GREY, "   Вы не можете посадить на свое место !");
				return 1;
			}

			for(new t = 0; t<MAX_TURFS; t++)//MAX_TURFS
			{   //сканируем все зоны
				if(!IsPlayerInRegion(playerid, t) || gPlayerSpawned[playerid] == 0) continue;
				 //если игрок находится в какой то зоне t
				if(!IsAGangs(giveplayerid)) continue;
				//SendClientMessage(playerid, COLOR_GREY, "   Игрок не в банде !");
				//Вы не можете связывать на чужой зоне или
				if(taketurfbackcount[t] != 0 && TurfInfo[t][zFlash] == 1)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Вы Не можете связывать, т.к. эта зона атакована !");
					return 1;
			    }
		        else if(PlayerInfo[playerid][pMember] != TurfInfo[t][zFamily])
		        {
					SendClientMessage(playerid, COLOR_GREY, "   Вы Не можете связывать, т.к. Вы Не на своей зоне !");
				    return 1;
	 			}
		        else if(PlayerInfo[playerid][pMember] != TurfInfo[t][zFamily] &&
		 			PlayerInfo[giveplayerid][pMember] == TurfInfo[t][zFamily])
		        {	//если эта зона не принадлежит банде в которой находится playerid
					SendClientMessage(playerid, COLOR_GREY, "   Вы Не можете связать, т.к. этот игрок на своей зоне !");
				    return 1;
 				}
				else
				{
					//если эта зона принадлежит банде в которой находится giveplayerid
      				//ClearAnimations(giveplayerid, 1);
					//SetPlayerSpecialAction(giveplayerid, SPECIAL_ACTION_NONE);
					//ShowPlayerDialogEx1(giveplayerid,-1,0, "", "", "", "");
					PutPlayerInVehicleEx(giveplayerid, nCarID[playerid], seatid);
					TogglePlayerControllableEx(giveplayerid, 0);//обездвиживает
					PlayerTied[giveplayerid] = 1;
					PlayerTiedTime[giveplayerid] = 600;
					GameTextForPlayerEx(giveplayerid, "~r~Tied", 2500, 3);
					for(new j=0, i; j<MaxPlayers; j++)	{
						i = PLIDs[j];
			       		if(WantedPoints[playerid] > 6) break;
						if( !IsPlayerConnectedEx(i) || !gPlayerSpawned[i] ) continue;
						if(i == playerid) continue;
						if(spectateid[i] != MAX_PLAYERS-1) continue;
					    if(!IsACop(i)) continue;
					    if(!gOnDuty[i]) continue;
					    //if( !IsPlayerInAnyVehicle(i) ) continue;
						//if( !IsInCopCar(nCarID[i]) ) continue;
						//if(nCarID[playerid] == nCarID[i]) continue;//если игрок не сидит в машине полицмена
						if(	!IsPlayerInRangeOfPlayer(60.0, playerid, i) ) continue;
			       	    WantedPoints[playerid] += 7;
						SetPlayerCriminal(FBI, playerid, i, " Похищение человека");
						SendTeamMessage(FBI, COLOR_DARKTURQUOISE, "   USE: /pun [182] [1-3] [playerid/PartOfName]");
			       	    break;
			   		}
					if(gTagForPlayer[playerid] != 0)
					{   //если ник НЕ скрыт
						format(strcmd, sizeof(strcmd), "* %s связал %s, теперь он не может свободно перемещаться %d минут.",
							PlayerName(playerid), PlayerName(giveplayerid), PlayerTiedTime[giveplayerid]/60);
					}
					else
					{
						format(strcmd, sizeof(strcmd), "* связал %s'а, теперь он не может свободно перемещаться %d минут.",
							PlayerName(giveplayerid), PlayerTiedTime[giveplayerid]/60);
					}
					ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
					return 1;
			    }
			}
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/untie", true))
	{
		if(!IsAFamilyMember(playerid) && PlayerInfo[playerid][pMember] != Hitman && !IsAGangs(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы НЕ Член семьи / Банды / НЕ Хитман !");
	        return 1;
	    }
	    if(PlayerInfo[playerid][pRank] < 2 && !IsAGangs(playerid))
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть не ниже 2-го ранга, чтобы Развязывать человека !");
	        return 1;
	    }
	    if(PlayerCuffed[playerid] < MAX_PLAYERS-1)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете развязать когда у вас надеты наручники !");
	        return 1;
	    }
        if(PlayerTied[playerid] > 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете развязать когда связаны !");
	        return 1;
        }
        if(PlayerTazed[playerid] > 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете развязать когда оглушены !");
	        return 1;
        }
	    tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /untie [Playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы не можете Развязать себя!"); return 1; }
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
		if(PlayerTied[giveplayerid] == 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок Не связан !");
	    	return 1;
		}
		if(gTagForPlayer[playerid] != 0)
		{   //если ник НЕ скрыт
			format(strcmd, sizeof(strcmd), "* %s развязал %s'а, теперь он может свободно перемещаться.", PlayerName(playerid) ,PlayerName(giveplayerid));
		}
		else
		{
			format(strcmd, sizeof(strcmd), "* развязал %s'а, теперь он может свободно перемещаться.", PlayerName(giveplayerid));
		}
		ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);

		PlayerTied[giveplayerid] = 0;
		PlayerTiedTime[giveplayerid] = 0;
		PlayerCuffed[giveplayerid] = MAX_PLAYERS-1;
		PlayerCuffedTime[giveplayerid] = 0;

		if(IsPlayerAttachedObjectSlotUsed(giveplayerid, CUFF_SLOT)) RemovePlayerAttachedObject(giveplayerid, CUFF_SLOT);
		SetPlayerSpecialAction(giveplayerid, SPECIAL_ACTION_NONE);

		TogglePlayerControllableEx(giveplayerid, 1);
		if(!IsPlayerInAnyVehicle(giveplayerid)) ClearAnimations(giveplayerid, 1);
		GameTextForPlayerEx(giveplayerid, "~g~Untied", 2500, 3);
		//return 1;
	}
	else if(!strcmp(cmd, "/cuff", true))
	{
		if(!IsACop(playerid) && PlayerInfo[playerid][pMember] != DoD && PlayerInfo[playerid][pMember] != DoJ)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не Cop / FBI / National Guard / Government!");// / National Guard
			return 1;
		}
        if(PlayerInfo[playerid][pMember] == DoJ
			&& PlayerInfo[playerid][pRank] != 1
			&& PlayerInfo[playerid][pRank] != 5
			&& PlayerInfo[playerid][pRank] != 6)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 1,5,6 Ранга !");
		    return 1;
		}
        if(gOnDuty[playerid] != 1)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 1;
		}
	    if(IsPlayerInAnyVehicle(playerid))//если игрок не в машине
	    {
	    	SendClientMessage(playerid, COLOR_GREY, "   Вы НЕ находитесь ВНЕ машины !");
			return 1;
        }
	    if(PlayerCuffed[playerid] < MAX_PLAYERS-1)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете связать когда у вас надеты наручники !");
	        return 1;
	    }
        if(PlayerTied[playerid] > 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете надеть наручники когда связаны !");
	        return 1;
        }
        if(PlayerTazed[playerid] > 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете надеть наручники когда оглушены !");
	        return 1;
        }
	    if(CurState[playerid] != PLAYER_STATE_ONFOOT)//если игрок не в машине
	    {
	    	SendClientMessage(playerid, COLOR_GREY, "   Вы не можете воспользоваться в данный момент наручниками !");
			return 1;
        }
	    tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /cuff [Playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы не можете надеть наручники самому себе!"); return 1; }
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(5.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
	    /*if(PlayerCuffed[giveplayerid] < MAX_PLAYERS-1)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Игрок уже в наручниках !");
	        //return 1;
	    }*/
		if( IsPlayerInArea(giveplayerid, specialzone[5]) )
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете надеть наручники на этой территории !");
		    return 1;
		}
		if(gTakingLesson[giveplayerid] == 1 || DriveProgress[giveplayerid] > 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете надеть наручники, т.к. человек сдаёт экзамен !");
	    	return 1;
		}
		if(PlayerCuffed[giveplayerid] < MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   На этом игроке уже надеты наручники !");
	    	return 1;
		}
        if(PlayerTied[giveplayerid] > 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете надеть наручники когда игрок связан !");
	        return 1;
        }
        if(PlayerTazed[giveplayerid] <= 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете надеть наручники пока игрок не оглушен !");
	        return 1;
        }
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) ) continue;
			if(PlayerCuffed[i] == playerid)
			{
	            SendClientMessage(playerid, COLOR_GREY, "   Вы уже надели наручники одному из игроков !");
		        return 1;
			}
		}
		if(AFK_IdleTime[giveplayerid] > 5)
		{
       		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете надеть наручники, т.к. человек находится в AFK !");
		    return 1;
		}
		if(!IsPlayerInAnyVehicle(giveplayerid)) ApplyAnimation(giveplayerid, "PED", "DRIVE_BOAT", 4.0,0,1,1,1,0);
		else RemovePlayerFromVehicleEx(giveplayerid);
		if(gTagForPlayer[playerid] != 0)
		{   //если ник НЕ скрыт
			format(strcmd, sizeof(strcmd), "* %s Надел Наручники %s'у, теперь он не может свободно перемещаться 5 минут.", PlayerName(playerid), PlayerName(giveplayerid));
		}
		else
		{
			format(strcmd, sizeof(strcmd), "* Надел Наручники %s'у, теперь он не может свободно перемещаться 5 минут.", PlayerName(giveplayerid));
		}
		ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);
		//SetPlayerSpecialAction(giveplayerid, SPECIAL_ACTION_NONE);
		//ShowPlayerDialogEx1(giveplayerid,-1,0, "", "", "", "");
 		SetPlayerAttachedObjectEx(giveplayerid, CUFF_SLOT,19418,Right_hand,-0.031999,0.024000,-0.024000, -7.900000,-32.000011,-72.299987, 1.115998,1.322000,1.406000);
		//SetPlayerAttachedObjectEx(giveplayerid, CUFF_SLOT, 19418, Right_hand, -0.011000,0.028000,-0.022000, -15.600012,-33.699977,-81.700035, 0.891999,1.000000,1.168000);//Объект наручников

		SetPlayerSpecialAction(giveplayerid, SPECIAL_ACTION_CUFFED);

		TogglePlayerControllableEx(giveplayerid, 0);//обездвиживает
	    if(gTagForPlayer[giveplayerid] == 0)
	    {
		 	for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
   //для всех игроков показываем ник giveplayerid
				//if(IsPlayerConnected(i) && !IsPlayerNPC(i) && gPlayerSpawned[i] == 1)
				ShowPlayerNameTagForPlayerEx(i, giveplayerid, 1);
			}
		    //GameTextForPlayerEx(giveplayerid, "~w~Nametags ~r~on", 1000, 5);
		}

		PlayerTazed[giveplayerid] = 0;
		PlayerTazeTime[giveplayerid] = 0;
		PlayerCuffed[giveplayerid] = playerid;
		PlayerCuffedTime[giveplayerid] = 300;//5 минут
		//SetPlayerSpecialAction(giveplayerid,SPECIAL_ACTION_HANDSUP);
		//OnePlayAnim(giveplayerid, "GHANDS", "gsign1", 4.0,0,1,1,0,0);
		GameTextForPlayerEx(giveplayerid, "~r~Cuffed", 2500, 3);
		//return 1;
	}
	else if(!strcmp(cmd, "/uncuff", true))
	{
		if(!IsACop(playerid) && PlayerInfo[playerid][pMember] != DoD && PlayerInfo[playerid][pMember] != DoJ)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не Cop / FBI / National Guard / Government!");// / National Guard
			return 1;
		}
        if(PlayerInfo[playerid][pMember] == DoJ
			&& PlayerInfo[playerid][pRank] != 1
			&& PlayerInfo[playerid][pRank] != 5
			&& PlayerInfo[playerid][pRank] != 6)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 1,5,6 Ранга !");
		    return 1;
		}
        if(gOnDuty[playerid] != 1)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 1;
		}
	    if(PlayerCuffed[playerid] < MAX_PLAYERS-1)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете снять наручники когда у вас они надеты !");
	        return 1;
	    }
        if(PlayerTied[playerid] > 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете снять наручники когда связаны !");
	        return 1;
        }
        if(PlayerTazed[playerid] > 0)
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете снять наручники когда оглушены !");
	        return 1;
        }
	    if(CurState[playerid] != PLAYER_STATE_ONFOOT)//если игрок не в машине
	    {
	    	SendClientMessage(playerid, COLOR_GREY, "   Вы не можете снять наручниками сидя в машине !");
			return 1;
        }
	    tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /uncuff [Playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
	    if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы не можете снять наручники с самого себя!"); return 1; }
		if(PlayerCuffed[giveplayerid] == MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   На этом игроке нет наручников !");
	    	return 1;
		}
		if(gTagForPlayer[playerid] != 0)
		{   //если ник НЕ скрыт
			format(strcmd, sizeof(strcmd), "* %s снял наручники с %s'у, теперь он может свободно перемещаться.", PlayerName(playerid), PlayerName(giveplayerid));
		}
		else
		{
			format(strcmd, sizeof(strcmd), "* снял наручники с %s'у, теперь он может свободно перемещаться.", PlayerName(giveplayerid));
		}
		ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);

		PlayerCuffed[giveplayerid] = MAX_PLAYERS-1;
		PlayerCuffedTime[giveplayerid] = 0;
		PlayerTied[giveplayerid] = 0;
		PlayerTiedTime[giveplayerid] = 0;

		if(IsPlayerAttachedObjectSlotUsed(giveplayerid, CUFF_SLOT)) RemovePlayerAttachedObject(giveplayerid, CUFF_SLOT);
		SetPlayerSpecialAction(giveplayerid, SPECIAL_ACTION_NONE);

		TogglePlayerControllableEx(giveplayerid, 1);
		if(!IsPlayerInAnyVehicle(giveplayerid)) ClearAnimations(giveplayerid, 1);
		//SetPlayerSpecialAction(giveplayerid, SPECIAL_ACTION_NONE);
		GameTextForPlayerEx(giveplayerid, "~g~Uncuffed", 2500, 3);
		//return 1;
	}
	else if(!strcmp(cmd, "/forcecuff", true) || !strcmp(cmd, "/fc", true))//для посадки в наручниках сразу в машину
	{
		if(!IsACop(playerid) && PlayerInfo[playerid][pMember] != DoD && PlayerInfo[playerid][pMember] != DoJ)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не Cop / FBI / National Guard / Government!");// / National Guard
			return 1;
		}
        if(PlayerInfo[playerid][pMember] == DoJ
			&& PlayerInfo[playerid][pRank] != 1
			&& PlayerInfo[playerid][pRank] != 5
			&& PlayerInfo[playerid][pRank] != 6)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 1,5,6 Ранга !");
		    return 1;
		}

		if(gOnDuty[playerid] != 1)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 1;
		}
	    if(PlayerCuffed[playerid] < MAX_PLAYERS-1)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете снять наручники когда у вас они надеты !");
	        return 1;
	    }
        if(PlayerTied[playerid] > 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете запихнуть в машину когда связаны !");
	        return 1;
        }
       	if(!IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться в транспортном средстве!");
			return 1;
		}
		/*if(CurState[playerid] != PLAYER_STATE_PASSENGER && VehicleArray[nCarModel[playerid]-400][ModelID] != 523)//HPV-1000
		{
			SendClientMessage(playerid, COLOR_GREY, "  Вы должны находиться на пассажирском сидении!");
			return 1;
		}*/
 		/*if(	!IsInCopCar(nCarID[playerid]) &&
			!IsInNGCar(nCarID[playerid]) &&
			PlayerInfo[playerid][pMember] != DoJ)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы Не в Служебной Машине.");
			return 1;
		}*/
	    tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /forcecuff [Playerid/PartOfName] [seatid(1-3)]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы не можете использовать эту команду на самого себя !"); return 1; }

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /forcecuff [Playerid/PartOfName] [seatid(1-3)]");
			return 1;
		}
		if(strval(tmp) < 1 || strval(tmp) > 3) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /forcecuff [Playerid/PartOfName] [seatid(1-3)]");
			return 1;
		}
		new seatid = strval(tmp);

	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(30.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
	    /*if(IsACop(giveplayerid))
        {
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете надеть наручники полицейскому !");
			return 1;
        }
	    if(PlayerCuffed[giveplayerid] < MAX_PLAYERS-1)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Игрок уже в наручниках !");
	        //return 1;
	    }*/
		if(AFK_IdleTime[giveplayerid] > 5)
		{
       		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете запихнуть в машину, т.к. человек находится в AFK !");
		    return 1;
		}
		if( IsPlayerInArea(giveplayerid, specialzone[5]) )
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете запихнуть в машину на этой территории !");
		    return 1;
		}
		if(gTakingLesson[giveplayerid] == 1 || DriveProgress[giveplayerid] > 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете запихнуть в машину когда игрок сдаёт экзамен !");
	    	return 1;
		}
        /*if(PlayerTied[giveplayerid] > 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете запихнуть в машину когда игрок связан !");
	        return 1;
        }*/
       	/*if(IsPlayerInAnyVehicle(giveplayerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Игрок должен находиться ВНЕ транспортного средства!");
			return 1;
		}*/
		if(gLoading[giveplayerid] || gUnLoading[giveplayerid])
		{
			SendClientMessage(playerid, COLOR_GREY, "   Подождите окончания загрузки/выгрузки !");
			return 1;
		}
        if(PlayerTazed[giveplayerid] == 0 && PlayerCuffed[giveplayerid] == MAX_PLAYERS-1)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете запихнуть в машину пока игрок НЕ оглушен или НЕ надеты наручники !");
	        return 1;
        }
	    if(IsACop(playerid) || PlayerInfo[playerid][pMember] == DoJ)//если игрок в вашей машине а вы за рулем  && IsPlayerInVehicle(giveplayerid, car)
	    {   // && CurState[playerid] == PLAYER_STATE_DRIVER
			if(seatid < 0 || seatid > (VehicleArray[nCarModel[playerid]-400][SeatID]-1))
			{
				SendClientMessage(playerid, COLOR_GREY, "   Такого места не существует в данном типе транспортного средства !");
				return 1;
			}
			if(seatid == 0)//определяет место на котором сидит игрок
			{   //Returns	Seat ID(0-driver, 1-co-driver, 2&3-passengers, if the car has enough seats)
				SendClientMessage(playerid, COLOR_GREY, "   Вы не можете посадить на водительское место !");
				return 1;
			}
			if(	GetSeatVehiclePlayer(nCarID[playerid], seatid) != INVALID_PLAYER_ID)//определяет место на котором сидит игрок
			{   //Returns	Seat ID(0-driver, 1-co-driver, 2&3-passengers, if the car has enough seats)
				SendClientMessage(playerid, COLOR_GREY, "   Это место занято, выбирите другое место !");
				return 1;
			}
			if(gTagForPlayer[playerid] != 0)
			{   //если ник НЕ скрыт
    			format(strcmd, sizeof(strcmd), "* %s запихнул в машину %s's, теперь он не может свободно перемещаться 10 минут.", PlayerName(playerid), PlayerName(giveplayerid));
			}
			else
			{
				format(strcmd, sizeof(strcmd), "* запихнул в машину %s's, теперь он не может свободно перемещаться 10 минут.", PlayerName(giveplayerid));
			}
			ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);

			SetPlayerSpecialAction(giveplayerid, SPECIAL_ACTION_NONE);//для сброса /piss
			HideDialog(giveplayerid);
			if(IsPlayerInAnyVehicle(giveplayerid)) RemovePlayerFromVehicleEx(giveplayerid);

			TogglePlayerControllableEx(giveplayerid, 0);//обездвиживает
			SetPlayerArmedWeaponEx(giveplayerid, 0);
			PlayerTazed[giveplayerid] = 0;
			PlayerTazeTime[giveplayerid] = 0;
			PlayerCuffed[giveplayerid] = playerid;
			PlayerCuffedTime[giveplayerid] = 600;//10 минут

			PutPlayerInVehicleEx(giveplayerid, nCarID[playerid], seatid);

			GameTextForPlayerEx(giveplayerid, "~r~Cuffed", 2500, 3);
			return 1;
	    }
	    else if(PlayerInfo[playerid][pMember] == DoD && IsPlayerInAnyVehicle(playerid) &&
				(IsInNGCar(nCarID[playerid]) || nCarModel[playerid] == 462 || nCarModel[playerid] == 471))// && CurState[playerid] == PLAYER_STATE_DRIVER
	    {
			if(seatid < 0 || seatid > (VehicleArray[nCarModel[playerid]-400][SeatID]-1))
			{
				format(strcmd, sizeof(strcmd), " nCarModel: %d, SeatID: %d", nCarModel[playerid], VehicleArray[nCarModel[playerid]-400][SeatID]);
				SendClientMessage(playerid, COLOR_GREY, strcmd);
				SendClientMessage(playerid, COLOR_GREY, "   Такого места не существует в данном типе транспортного средства !");
				return 1;
			}
			/*if(seatid == GetPlayerVehicleSeat(playerid))//определяет место на котором сидит игрок
			{   //Returns	Seat ID(0-driver, 1-co-driver, 2&3-passengers, if the car has enough seats)
				SendClientMessage(playerid, COLOR_GREY, "   Вы не можете посадить на свое место !");
				return 1;
			}*/
			if(seatid == 0)//определяет место на котором сидит игрок
			{   //Returns	Seat ID(0-driver, 1-co-driver, 2&3-passengers, if the car has enough seats)
				SendClientMessage(playerid, COLOR_GREY, "   Вы не можете посадить на водительское место !");
				return 1;
			}
			if(	GetSeatVehiclePlayer(nCarID[playerid], seatid) != INVALID_PLAYER_ID)//определяет место на котором сидит игрок
			{   //Returns	Seat ID(0-driver, 1-co-driver, 2&3-passengers, if the car has enough seats)
				SendClientMessage(playerid, COLOR_GREY, "   Это место занято, выбирите другое место !");
				return 1;
			}
			/*for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				if( !IsPlayerConnectedEx(i) ) continue;
				if(PlayerCuffed[i] != playerid) continue;
	            SendClientMessage(playerid, COLOR_GREY, "   Вы уже надели наручники одному из игроков !");
		        return 1;
			}*/
			if(gTagForPlayer[playerid] != 0)
			{   //если ник НЕ скрыт
    			format(strcmd, sizeof(strcmd), "* %s запихнул в машину %s's, теперь он не может свободно перемещаться 10 минут.", PlayerName(playerid), PlayerName(giveplayerid));
			}
			else
			{
				format(strcmd, sizeof(strcmd), "* запихнул в машину %s's, теперь он не может свободно перемещаться 10 минут.", PlayerName(giveplayerid));
			}
			ProxDetector(playerid, 30.0,  strcmd, COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC,COLOR_LILAC);

			SetPlayerSpecialAction(giveplayerid, SPECIAL_ACTION_NONE);//для сброса /piss
			HideDialog(giveplayerid);
			if(IsPlayerInAnyVehicle(giveplayerid)) RemovePlayerFromVehicleEx(giveplayerid);
			PutPlayerInVehicleEx(giveplayerid, nCarID[playerid], seatid);
			TogglePlayerControllableEx(giveplayerid, 0);//обездвиживает
			PlayerTazed[giveplayerid] = 0;
			PlayerTazeTime[giveplayerid] = 0;
			PlayerCuffed[giveplayerid] = playerid;
			PlayerCuffedTime[giveplayerid] = 600;
			GameTextForPlayerEx(giveplayerid, "~r~Cuffed", 2500, 3);
			return 1;
	    }
	    else SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду или не находитесь в машине !");
		//return 1;
	}
	else if(!strcmp(cmd, "/follow", true))//для конвоя
	{
		if(	PlayerInfo[playerid][pAdmin] != 9 && !IsACop(playerid) &&
			PlayerInfo[playerid][pMember] != DoD &&
			PlayerInfo[playerid][pMember] != DoJ)
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(	IsACop(playerid)
			&& PlayerInfo[playerid][pRank] < 3)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть выше 3 Ранга !");
		    return 1;
		}
        if(PlayerInfo[playerid][pMember] == DoJ
			&& PlayerInfo[playerid][pRank] != 1
			&& PlayerInfo[playerid][pRank] != 5
			&& PlayerInfo[playerid][pRank] != 6)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 1,5,6 Ранга !");
		    return 1;
		}
        if(gOnDuty[playerid] != 1)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 1;
		}
		if(FollowBy[playerid] != MAX_PLAYERS-1)
		{
			format(strcmd, sizeof(strcmd), "   Вы уже конвоируете %s[%d] !", PlayerName(FollowBy[playerid]), FollowBy[playerid]);
		    SendClientMessage(playerid, COLOR_GREY, strcmd);
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /follow [Playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		if(playerid == giveplayerid) return SendClientMessage(playerid, COLOR_GREY, "   Вы не можете сопровождать себя!");
	 	else if(!IsPlayerConnectedEx(giveplayerid)) return SendClientMessage(playerid, COLOR_GREY, "   Такого игрока нет на сервере!");
	 	else if(IsPlayerInAnyVehicle(playerid)) return SendClientMessage(playerid, COLOR_GREY, "   Вы не можете вести конвой с машины!");
	 	else if(IsPlayerInAnyVehicle(giveplayerid)) return SendClientMessage(playerid, COLOR_GREY, "   Вы не можете вести конвой, когда игрок находится в машине!");
		if(PlayerInfo[giveplayerid][pJailed] > 0 && PlayerInfo[giveplayerid][pJailed] < 10)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Игрок уже арестован и отбывает свой срок !");
		    return 1;
		}
		if(AFK_IdleTime[giveplayerid] >= 3)
		{
	   		SendClientMessage(playerid, COLOR_GREY, "   Игрок находится в AFK !");
		    return 1;
		}
		if( IsPlayerInArea(giveplayerid, specialzone[5]) ) return SendClientMessage(playerid, COLOR_GREY, "   Вы не можете запихнуть в машину на этой территории !");
	 	new Float: pX, Float: pY, Float: pZ; GetPlayerPos(giveplayerid, pX, pY, pZ);
	 	if(!IsPlayerInRangeOfPoint(playerid, 1.5, pX, pY, pZ)) return SendClientMessage(playerid, COLOR_GREY, "   Игрок далеко от вас!");
		//----------------------------------------------------------------------
		if(PlayerCuffed[giveplayerid] != MAX_PLAYERS-1)
		{
			PlayerCuffed[giveplayerid] = MAX_PLAYERS-1;
			PlayerCuffedTime[giveplayerid] = 0;
			PlayerTied[giveplayerid] = 0;
			PlayerTiedTime[giveplayerid] = 0;

			if(IsPlayerAttachedObjectSlotUsed(giveplayerid, CUFF_SLOT)) RemovePlayerAttachedObject(giveplayerid, CUFF_SLOT);
			SetPlayerSpecialAction(giveplayerid, SPECIAL_ACTION_NONE);

			TogglePlayerControllableEx(giveplayerid, 1);
			if(!IsPlayerInAnyVehicle(giveplayerid)) ClearAnimations(giveplayerid, 1);
			//SetPlayerSpecialAction(giveplayerid, SPECIAL_ACTION_NONE);
			//GameTextForPlayerEx(giveplayerid, "~g~Uncuffed", 2500, 3);
		}
		//----------------------------------------------------------------------
		if(FollowBy[giveplayerid] != MAX_PLAYERS-1)
		{   //если игрок под коновоем
 			if(FollowBy[giveplayerid] != playerid) return SendClientMessage(playerid, COLOR_GREY, "   Это не ваш подконвойный игрок!");
			SetPVarInt(playerid, "TempFollowBy", -1);
			KillTimer(FollowTimer[giveplayerid]);
			FollowTimer[giveplayerid] = MAX_PLAYERS-1;
			FollowBy[giveplayerid] = MAX_PLAYERS-1;
			ClearAnimations(playerid, 1);
			TogglePlayerControllableEx(giveplayerid, 1);//освобождаем
			SendClientMessage(playerid, COLOR_BROWNGREEN, "Вы успешно остановили конвой за игроком!");
			SendClientMessage(giveplayerid, COLOR_BROWNGREEN, "С вас был снят конвой! Вы свободны!");
			return 1;
		}
		if(GetPVarInt(playerid, "TempFollowBy") != -1) return SendClientMessage(playerid, COLOR_GREY, "   Вы не можете сопровождать более 2x игроков одновременно!");
		FollowBy[giveplayerid] = playerid;
		SetPVarInt(playerid, "TempFollowBy",giveplayerid);
		TogglePlayerControllableEx(giveplayerid, 0);//обездвиживаем

		KillTimer(FollowTimer[giveplayerid]); FollowTimer[giveplayerid] = -1;
		FollowTimer[giveplayerid] = SetTimerEx("FollowToPlayerTimer", 1000, 1, "d", giveplayerid);
		SendClientMessage(playerid, COLOR_BROWNGREEN, "Вы успешно начали сопровождение этого игрока!");
		SendClientMessage(giveplayerid, COLOR_BROWNGREEN, "Вас взяли под конвой!");
		//return 1;
	}
	else if(!strcmp(cmd, "/finance", true))
	{
		if(	!IsACop(playerid) && PlayerInfo[playerid][pAdmin] != 9 &&
			PlayerInfo[playerid][pMember] != DoD &&
			PlayerInfo[playerid][pMember] != DoJ)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не DoT / FBI / DoD / DoJ !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /finance [playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		if(PlayerInfo[playerid][pLocal] != 100)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы Не в Банке.");
			return 1;
		}
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		FinanceInfo(playerid, giveplayerid);
		//return 1;
	}
	else if(!strcmp(cmd, "/wanted", true))
	{
		if(	!IsACop(playerid) && PlayerInfo[playerid][pAdmin] != 9 &&
			PlayerInfo[playerid][pMember] != DoD &&
			PlayerInfo[playerid][pMember] != DoJ)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не DoT / FBI / DoD / DoJ !");
			return 1;
		}
        /*if(	PlayerInfo[playerid][pAdmin] != 9 &&
			PlayerInfo[playerid][pMember] == DoJ && (PlayerInfo[playerid][pRank] < 4 || PlayerInfo[playerid][pRank] > 8))
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 4-8 Ранга !");
		    return 1;
		}*/
		if(	!IsInCopCar(nCarID[playerid]) &&
			!IsInNGCar(nCarID[playerid]) &&
			!IsAtPolice(playerid) )
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы Не в Служебной Машине или Не в Полицейском Участке.");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /wanted [playerid/PartOfName]");
			WantedList(playerid);
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		MobileDataComputerOfPlayer(playerid, giveplayerid);
		//return 1;
	}
	//--------------------------------------------------------------------------
	else if(!strcmp(cmd, "/punishment", true) || !strcmp(cmd, "/pun", true))
	{
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{   //если просто набрали /pun
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/pun)ishment [Article] [Part(1-5)] [playerid/PartOfName]");
		  	SendClientMessage(playerid, COLOR_SYSTEM, 	"| ОСВОБОЖДЕНИЕ ОТ УГОЛОВНОЙ ОТВЕТСТВЕННОСТИ И НАКАЗАНИЯ: 83,86,90,118");
			SendClientMessage(playerid, COLOR_HERBAL, 	"|____________________ ПРЕСТУПЛЕНИЯ ПРОТИВ _____________________|");
		  	SendClientMessage(playerid, COLOR_SYSTEM, 	"| Жизни и здоровья: 139,144,149,150,161 | Личной свободы, чести и достоинства: 182,188,202 ");
		  	SendClientMessage(playerid, COLOR_SYSTEM, 	"| Собственности: 205,209 | Общественной безопасности: 285,293,295");
		  	SendClientMessage(playerid, COLOR_SYSTEM, 	"| Безопасности движения и экспл-ии тр-та: 317 | Здоровья населения: 328");
		  	SendClientMessage(playerid, COLOR_SYSTEM, 	"| Общ-го порядка и нравственности:339 | Порядка управления: 363,369,383");
		  	SendClientMessage(playerid, COLOR_SYSTEM, 	"| Правосудия: 397,402,413,414,418 | Интересов службы: 424,425,430,431");
			SendClientMessage(playerid, COLOR_HERBAL,	"|_________________________________________________________________|");
		  	SendClientMessage(playerid, COLOR_SYSTEM, 	"| ВОИНСКИЕ ПРЕСТУПЛЕНИЯ: 438,445 | Браконьерство: 581");
			return 1;
		}
		new article = strval(tmp);
		tmp = strtok(cmdtext, idx);
		new title[64], commentary[128];
		new show;
		if(!strlen(tmp))
		{   //если просто набрали /pun 139
			for(new i=0; i<sizeof(PenalCode); i++)
			{   //сканируем весь УК по номеру статьи
 				if(article != PenalCode[i][Article]) continue;
				if(show == 0)
				{
					strmid(title, PenalCode[i][Title], 0, strlen(PenalCode[i][Title]), 64);
					//Извлекает диапазон символов из строки arrCoords и заносит в title
			    	format(strcmd, sizeof(strcmd), "Cтатья %d: %s", PenalCode[i][Article], title);
					SendClientMessage(playerid, COLOR_PINK, strcmd);
					show = 1;//поднять флаг статья показана
				}
				strmid(commentary, PenalCode[i][Commentary], 0, strlen(PenalCode[i][Commentary]), 128);
		    	format(strcmd, sizeof(strcmd), "Part %d: %s", PenalCode[i][Part], commentary);
				SendClientMessage(playerid, COLOR_MAUVE, strcmd);
				//break;
			}
			show = 0;
			return 1;
		}
		new part = strval(tmp);
		tmp = strtok(cmdtext, idx);
		new punishment[41];
		if(!strlen(tmp))
		{	//если просто набрали /pun 139 1
			for(new i=0; i<sizeof(PenalCode); i++)
			{
 				if(article != PenalCode[i][Article]) continue;
				if(part != PenalCode[i][Part]) continue;
				//new PUNticket = PenalCode[i][Bail]*PlayerInfo[playerid][pLevel]*360;//3600
				new PUNticket = PenalCode[i][Bail]*6*3600;//3600
			    format(strcmd, sizeof(strcmd), "* Hаказывается штрафом до $%d", PUNticket);
				SendClientMessage(playerid, COLOR_RED, strcmd);
				if(PenalCode[i][Jailed] == 10)
				{
					strmid(punishment, "c отбыванием в исправительной колонии.", 0, strlen("с отбыванием в исправительной колонии."), 64);
				}
				else
				{
					strmid(punishment, "c отбыванием в КПЗ.", 0, strlen("с отбыванием в КПЗ."), 64);
				}
				format(strcmd, sizeof(strcmd), "* Либо Лишением свободы от %d до %d часов %s", DOTL[PenalCode[i][Period]][0], DOTL[PenalCode[i][Period]][17], punishment);
				SendClientMessage(playerid, COLOR_RED, strcmd);
				break;
			}
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   %d не активный игрок.", giveplayerid);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(nCarModel[playerid] == 497)//Police_Maverick
		{
			goto Mark6;//Mark6:
		}
		if(	!IsACop(playerid) &&
			PlayerInfo[playerid][pMember] != DoD &&
			PlayerInfo[playerid][pMember] != DoJ)
		{// && !IsAtPolice(playerid)
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(PlayerInfo[playerid][pMember] == DoJ && PlayerInfo[playerid][pRank] != 7)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 7 Ранга !");
		    return 1;
		}
        if(PlayerInfo[playerid][pMember] == DoD && article != 413 && article != 438 && article != 445)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не можете назначать статьи, отличны от 413,438,445 !");
		    return 1;
		}
Mark6:
        if(gOnDuty[playerid] != 1)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 1;
		}
	    if(PlayerInfo[giveplayerid][pJailed] > 0)// && PlayerInfo[giveplayerid][pJailed] < 10
		{   //чтобы наказание довали только копы
		    SendClientMessage(playerid, COLOR_GREY, "   Этот человек уже арестован или находится в заключении!");
		    return 1;
		}
	    if(PlayerInfo[giveplayerid][pMember] == PlayerInfo[playerid][pMember] && PlayerInfo[playerid][pRank] != 12)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете назначить наказание члену своей фракции !");
			return 1;
		}
	    /*if(	WantedPoints[giveplayerid] <= 0 && (article == 139 || article == 205 || article == 317 || article == 328)
			//!((article >= 83 && article <= 118) || (article >= 161 && article <= 202) ||
			//(article >= 209 && article <= 293) || (article >= 339 && article <= 445 ))
		  )
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете назначить наказание игроку, когда на нём нету очков розыска !");
			return 1;
		}*/
	    /*if(PlayerInfo[giveplayerid][pArticle] != 0)
		{	//игроки получают ДПС статью и после чего могут убивать людей
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете назначить наказание игроку, когда на нём уже есть статья !");
			return 1;
		}*/
		for(new i=0; i<sizeof(PenalCode); i++)
		{
 			if(article != PenalCode[i][Article]) continue;
			if(part != PenalCode[i][Part]) continue;

		    PlayerInfo[giveplayerid][pArticle] = article;
		    PlayerInfo[giveplayerid][pPart] = part;

			if(WantedPoints[giveplayerid] <= 0) WantedPoints[giveplayerid] = PenalCode[i][Wanted];

			new strtmp[13+3+1];
			format(strtmp, sizeof(strtmp), "Cтатья %d.%d", article, part);//Статья
			SetPlayerCriminal(FBI, giveplayerid, playerid, strtmp);

			//new PUNticket = PenalCode[i][Bail]*PlayerInfo[giveplayerid][pLevel]*360;//3600
			new PUNticket = PenalCode[i][Bail]*WantedLevel[giveplayerid]*ticket_rate;//3600//должно быть после SetPlayerCriminal

			strmid(commentary, PenalCode[i][Commentary], 0, strlen(PenalCode[i][Commentary]), 128);
	    	format(strcmd, sizeof(strcmd), "Cт. %d.%d - %s: %s", PenalCode[i][Article], PenalCode[i][Part], PenalCode[i][Title], commentary);
			SendClientMessage(giveplayerid, COLOR_MAUVE, strcmd);
		    format(strcmd, sizeof(strcmd), "* Штраф - $%d", PUNticket);
			SendClientMessage(giveplayerid, COLOR_MAUVE, strcmd);
			SendClientMessage(playerid, COLOR_RED, strcmd);

			if(PenalCode[i][Jailed] == 10) strmid(punishment, "c отбыванием в исправительной колонии.", 0, strlen("с отбыванием в исправительной колонии."), 255);
			else strmid(punishment, "c отбыванием в КПЗ.", 0, strlen("с отбыванием в КПЗ."), 255);
			format(strcmd, sizeof(strcmd), "* Либо Лишением свободы от %d до %d часов %s", DOTL[PenalCode[i][Period]][0], DOTL[PenalCode[i][Period]][17], punishment);
			SendClientMessage(giveplayerid, COLOR_MAUVE, strcmd);
			SendClientMessage(playerid, COLOR_RED, strcmd);


			format(strcmd, sizeof(strcmd), "%s назначил Cт.%d.%d %s'у", PlayerName(playerid), PenalCode[i][Article], PenalCode[i][Part], PlayerName(giveplayerid));
			Log(CRIMINAL, strcmd);

			//IncreaseRank(playerid, 1);
			break;
		}
		//return 1;
	}
	//--------------------------------------------------------------------------
	else if(!strcmp(cmd, "/pdd", true))
	{
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{   //если просто набрали /pdd
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /pdd [Article] [Part(1-10)] [playerid/PartOfName]");
			SendClientMessage(playerid, COLOR_HERBAL, 	"| ГЛАВА 18. АДМИНИСТРАТИВНЫЕ ПРАВОНАРУШЕНИЯ ПРОТИВ БЕЗОПАСНОСТИ ДВИЖЕНИЯ И ЭКСПЛУАТАЦИИ ТРАНСПОРТА |");
		  	SendClientMessage(playerid, COLOR_SYSTEM, 	"| Нарушение правил перевозки грузов: 10.21 | Угон ТС: 19.1-2");
		  	SendClientMessage(playerid, COLOR_SYSTEM, 	"| Нарушение авиационной безопасности: 11.77");
		  	SendClientMessage(playerid, COLOR_SYSTEM, 	"| Hарушение правил эксплуатации ТС: 12.1 | Превышение скорости: 13.1-3");
		  	SendClientMessage(playerid, COLOR_SYSTEM, 	"| Невыполнение требований: 14.1-10, 21.1-2 | Управление ТС: 16.1-2, 18.1, 20.1-2");
		  	SendClientMessage(playerid, COLOR_SYSTEM, 	"| Hарушение лицом, управляющим ТС, правил: 15.1-2, 27.1, 29.1");
		  	SendClientMessage(playerid, COLOR_SYSTEM, 	"| Нарушения правил дорожного движения лицом, управляющим ТС: 17.1-2,4");
		  	SendClientMessage(playerid, COLOR_SYSTEM, 	"| Hарушение ПДД пешеходом и иным участником дорожного движения: 23.1");
		  	SendClientMessage(playerid, COLOR_SYSTEM, 	"| Повреждение либо загрязнение автомобильной дороги: 35.1");
		  	SendClientMessage(playerid, COLOR_SYSTEM, 	"| Hарушение порядка пользования автомобильными дорогами общего пользования: 36.1-2,4");
			SendClientMessage(playerid, COLOR_HERBAL,	"|_________________________________________________________________|");
			return 1;
		}
		new article = strval(tmp);

		tmp = strtok(cmdtext, idx);
		new title[64], commentary[128];
		new show;
		if(!strlen(tmp))
		{   //если просто набрали /pun 139
			for(new i=0; i<sizeof(PDD); i++)
			{   //сканируем весь УК по номеру статьи
 				if(article != PDD[i][Article]) continue;
				if(show == 0)
				{
					strmid(title, PDD[i][Title], 0, strlen(PDD[i][Title]), 64);
					//Извлекает диапазон символов из строки arrCoords и заносит в title
			    	format(strcmd, sizeof(strcmd), "Статья %d: %s", PDD[i][Article], title);
					SendClientMessage(playerid, COLOR_PINK, strcmd);
					show = 1;//поднять флаг статья показана
				}
				strmid(commentary, PDD[i][Commentary], 0, strlen(PDD[i][Commentary]), 128);
		    	format(strcmd, sizeof(strcmd), "Часть %d: %s", PDD[i][Part], commentary);
				SendClientMessage(playerid, COLOR_MAUVE, strcmd);
			}
			show = 0;
			return 1;
		}
		new part = strval(tmp);
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{	//если просто набрали /pun 139 1
			for(new i=0; i<sizeof(PDD); i++)
			{
 				if(article != PDD[i][Article]) continue;
				if(part != PDD[i][Part]) continue;
				{
					//new PDDticket = PDD[i][Bail]*PlayerInfo[playerid][pLevel]*360;//3600
					new PDDticket = PDD[i][Bail]*6*3600;//3600
					//new PDDperiod = PDD[i][Period]*(PlayerInfo[playerid][pLevel]+1);//*4
					new PDDperiod = PDD[i][Period]*(6+1);//*4

					if(PDD[i][Jailed] == 1) format(strcmd, sizeof(strcmd), "Предупреждение либо Штраф в размере $%d", PDDticket);
					else if(PDD[i][Jailed] == 2) format(strcmd, sizeof(strcmd), "Штраф в размере $%d", PDDticket);
					else if(PDD[i][Jailed] == 3) format(strcmd, sizeof(strcmd), "Штраф в размере $%d либо лишение ВУ сроком на %d часов.", PDDticket, PDDperiod);
					else if(PDD[i][Jailed] == 4) format(strcmd, sizeof(strcmd), "Административный арест с лишением ВУ на %d часов.", PDDperiod);
					SendClientMessage(playerid, COLOR_RED, strcmd);
					//strmid(punishment, strcmd, 0, strlen(strcmd), 255);
					break;
				}
			}
			return 1;
		}
		if(nCarModel[playerid] == 497)//Police_Maverick
		{
			goto Mark7;//Mark7:
		}
	    if(!IsACop(playerid) && PlayerInfo[playerid][pMember] != DoJ)
	    {// && !IsAtPolice(playerid)
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
			return 1;
		}
        if(PlayerInfo[playerid][pMember] == DoJ && PlayerInfo[playerid][pRank] != 7)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 7 Ранга !");
		    return 1;
		}
Mark7:
	    if(gOnDuty[playerid] == 0)
		{   //чтобы наказание довали только копы
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не на службе !");
		    return 1;
		}
		giveplayerid = ReturnUser(tmp);
		if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   %d не активный игрок.", giveplayerid);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
	    if(PlayerInfo[giveplayerid][pMember] == PlayerInfo[playerid][pMember] && PlayerInfo[playerid][pRank] != 12)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете назначить наказание члену своей фракции !");
			return 1;
		}
	    /*if(WantedPoints[giveplayerid] <= 0)// && article == 13
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете назначить наказание игроку, когда на нём нету очков розыска !");
			return 1;
		}*/
	    if(PlayerInfo[giveplayerid][pArticle] != 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете назначить наказание игроку, когда на нём уже есть статья !");
			return 1;
		}
		for(new i=0; i<sizeof(PDD); i++)
		{
 			if(article != PDD[i][Article]) continue;
			if(part != PDD[i][Part]) continue;
		    PlayerInfo[giveplayerid][pArticle] = article;
		    PlayerInfo[giveplayerid][pPart] = part;
			if(WantedPoints[giveplayerid] <= 0) WantedPoints[giveplayerid] = PDD[i][Bail];
			new strtmp[13+3+1];
			format(strtmp, sizeof(strtmp), "Cтатья %d.%d", article, part);//Статья
			if(PlayerInfo[giveplayerid][pJailed] == 0)
			{
				SetPlayerCriminal(DoT, giveplayerid, playerid, strtmp);
				//SendClientMessage(playerid, COLOR_GREY, "   Вы не можете снять Уровень Розыска с заключенного!");
				//return 1;
			}
			strmid(commentary, PDD[i][Commentary], 0, strlen(PDD[i][Commentary]), 128);
	    	format(strcmd, sizeof(strcmd), "Cт. %d.%d - %s: %s", PDD[i][Article], PDD[i][Part], PDD[i][Title], commentary);
			SendClientMessage(giveplayerid, COLOR_MAUVE, strcmd);

			//new PDDticket = PDD[i][Bail]*PlayerInfo[giveplayerid][pLevel]*360;//3600*
			new PDDticket = PDD[i][Bail]*WantedLevel[giveplayerid]*ticket_rate;//3600*

			//new PDDperiod = PDD[i][Period]*(PlayerInfo[giveplayerid][pLevel]+1);//*4
			new PDDperiod = PDD[i][Period]*(WantedLevel[giveplayerid]+1);//*4

			if(PDD[i][Jailed] == 1) format(strcmd, sizeof(strcmd), "Предупреждение либо Штраф в размере $%d", PDDticket);
			else if(PDD[i][Jailed] == 2) format(strcmd, sizeof(strcmd), "Штраф в размере $%d", PDDticket);
			else if(PDD[i][Jailed] == 3) format(strcmd, sizeof(strcmd), "Штраф в размере $%d либо лишение ВУ сроком на %d часов.", PDDticket, PDDperiod);
			else if(PDD[i][Jailed] == 4) format(strcmd, sizeof(strcmd), "Административный арест с лишением ВУ на %d часов.", PDDperiod);
			SendClientMessage(giveplayerid, COLOR_MAUVE, strcmd);
			SendClientMessage(playerid, COLOR_RED, strcmd);

			IncreaseRank(playerid, 1);

			format(strcmd, sizeof(strcmd), "%s назначил Cт.%d.%d %s'у", PlayerName(playerid), PDD[i][Article], PDD[i][Part], PlayerName(giveplayerid));
			Log(CRIMINAL, strcmd);
			break;
		}
		//return 1;
	}
	//--------------------------------------------------------------------------
	else if(!strcmp(cmd, "/arrest", true))
	{
		if(!IsACop(playerid) && PlayerInfo[playerid][pMember] != DoJ)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не Cop / FBI /DoJ !");
			return 1;
		}
        if(PlayerInfo[playerid][pMember] == DoJ && PlayerInfo[playerid][pRank] != 5)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 5 Ранга !");
		    return 1;
		}
        if(gOnDuty[playerid] != 1)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 1;
		}
        if(!IsAtPolice(playerid))
		{// Jail spot
		    SendClientMessage(playerid, COLOR_GREY, "   В этом месте нельзя произвести задержание !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /arrest [time (minutes)] [playerid/PartOfName]");
			return 1;
		}
		new time= strval(tmp);
		if(time < 15 || time > 60) { SendClientMessage(playerid, COLOR_GREY, "   Время Заключения не может быть ниже 15 и выше 60 минут!"); return 1; }
		tmp = strtok(cmdtext, idx);
		giveplayerid = ReturnUser(tmp);
        if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы не можете сами себя арестовать !"); return 1; }
		new title[64], commentary[128];
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(PlayerInfo[giveplayerid][pLocal] == 100)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Команда запрещена в БАНКе !");
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(5.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
		if(WantedLevel[giveplayerid] <= 0)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Игрок должен иметь хотя бы 1 уровень розыска !");
		    return 1;
		}
		if(PlayerInfo[giveplayerid][pJailed] > 0 && PlayerInfo[giveplayerid][pJailed] < 10)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Игрок уже арестован и отбывает свой срок !");
		    return 1;
		}
		if(PlayerInfo[giveplayerid][pArticle] == 0)// || PlayerInfo[giveplayerid][pPart] == 0
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Игроку не назначена статья нарушения !");
		    return 1;
		}
		/*if(gGotOrder[playerid] != giveplayerid)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   У Вас нет Ордера на Аррест этого человека !");
		    return 1;
		}*/
		if(	(PlayerInfo[playerid][pMember] == DoT || PlayerInfo[playerid][pMember] == FBI) &&
			PlayerInfo[giveplayerid][pArticle] >= 1 &&
			PlayerInfo[giveplayerid][pArticle] <= 36)
		{
			for(new i=0; i<sizeof(PDD); i++)
			{
 				if(PlayerInfo[giveplayerid][pArticle] != PDD[i][Article]) continue;
				if(PlayerInfo[giveplayerid][pPart] != PDD[i][Part]) continue;

				//new PDDticket = PDD[i][Bail]*PlayerInfo[giveplayerid][pLevel]*360;//3600
				new PDDticket = PDD[i][Bail]*WantedLevel[giveplayerid]*ticket_rate;//3600

				//new PDDperiod = PDD[i][Period]*(PlayerInfo[giveplayerid][pLevel]+1)*4;
				PlayerInfo[giveplayerid][pJailPrice] = PDDticket;//установили залог, в случаи отказа он обнулится
				format(strcmd, sizeof(strcmd), "* Вы арестовали %s'а. Уровень Преступности был %d.", PlayerName(giveplayerid), LevelToCriminality);//3600
				SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				strmid(title, PDD[i][Title], 0, strlen(PDD[i][Title]), 64);
				format(strcmd, sizeof(strcmd), " Bы арестованы по Cтатье %d.%d: %s !", PlayerInfo[giveplayerid][pArticle], PlayerInfo[giveplayerid][pPart], title);
				SendClientMessage(giveplayerid, COLOR_RED, strcmd);
				strmid(commentary, PDD[i][Commentary], 0, strlen(PDD[i][Commentary]), 128);
				format(strcmd, sizeof(strcmd), " %s", commentary);
				SendClientMessage(giveplayerid, COLOR_RED, strcmd);

				//FamilyInfo[DoT][fBank] += 10*PDDticket/100;


				new ToBase[74+24+2];
				format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", PlayerName(giveplayerid), DoT);
				mysql_query(ToBase); mysql_store_result();
				if(mysql_num_rows() > 0)
			 	{
		       		SendClientMessage(playerid, COLOR_GREY, "   Находясь в Чёрном Списке ваш срок заключения и цена выхода увеличены в 2 раза!");
					PlayerInfo[giveplayerid][pJailPrice] = PlayerInfo[giveplayerid][pJailPrice] * 2;
					time = time*2;
				}
				mysql_free_result();

				break;
			}
			//if(gTagForPlayer[playerid] != 0)
			//{   //если ник НЕ скрыт
			format(strcmd, sizeof(strcmd), "арестовал подозреваемого %s'а !",PlayerName(giveplayerid));
			//JobNews(COLOR_BLUEGREY, strcmd);
			SendDepartmentMessage(playerid, strcmd);
			//}
		}
		else if( (PlayerInfo[playerid][pMember] == FBI || PlayerInfo[playerid][pMember] == DoJ) &&
				PlayerInfo[giveplayerid][pArticle] >= 139)
		{
			for(new i=0; i<sizeof(PenalCode); i++)
			{
 				if(PlayerInfo[giveplayerid][pArticle] != PenalCode[i][Article]) continue;
  				if(PlayerInfo[giveplayerid][pPart] != PenalCode[i][Part]) continue;

				//new PUNticket = PenalCode[i][Bail]*PlayerInfo[giveplayerid][pLevel]*360;//3600
				new PUNticket = PenalCode[i][Bail]*WantedLevel[giveplayerid]*ticket_rate;//3600
				PlayerInfo[giveplayerid][pJailPrice] = PUNticket;//установили залог, в случаи отказа он обнулится

				//GivePlayerMoneyB(1, playerid, PenalCode[i][Bail]*360);//3600
				//format(strcmd, sizeof(strcmd), "* Вы арестовали %s'а. Вам перечислено на счёт в банке $%d.", PlayerName(giveplayerid), PenalCode[i][Bail]*360);//3600
				format(strcmd, sizeof(strcmd), "* Вы арестовали %s'а. Уровень Преступности был %d.", PlayerName(giveplayerid), LevelToCriminality);//3600
				SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
				strmid(title, PenalCode[i][Title], 0, strlen(PenalCode[i][Title]), 64);
				format(strcmd, sizeof(strcmd), " Bы арестованы по Cтатье %d.%d: %s !", PlayerInfo[giveplayerid][pArticle], PlayerInfo[giveplayerid][pPart], title);
				SendClientMessage(giveplayerid, COLOR_RED, strcmd);
				strmid(commentary, PenalCode[i][Commentary], 0, strlen(PenalCode[i][Commentary]), 128);
				format(strcmd, sizeof(strcmd), " %s", commentary);
				SendClientMessage(giveplayerid, COLOR_RED, strcmd);

				//FamilyInfo[FBI][fBank] += PUNticket/2;

				new ToBase[74+24+2];
				format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", PlayerName(giveplayerid), FBI);
				mysql_query(ToBase); mysql_store_result();
				if(mysql_num_rows() > 0)
			 	{
		       		SendClientMessage(playerid, COLOR_GREY, "   Находясь в Чёрном Списке ваш срок заключения и цена выхода увеличены в 2 раза!");
					PlayerInfo[giveplayerid][pJailPrice] = PlayerInfo[giveplayerid][pJailPrice] * 2;
					time = time*2;
				}
				mysql_free_result();

				break;
			}
			if(gTagForPlayer[playerid] != 0)
			{   //если ник НЕ скрыт
				format(strcmd, sizeof(strcmd), "произвёл арест %s'а !", PlayerName(giveplayerid));
				SendDepartmentMessage(playerid, strcmd);

				//format(strcmd, sizeof(strcmd), "%s %s произвёл арест %s'а !", GetPlayerRanks(playerid), PlayerName(playerid), PlayerName(giveplayerid));
				//JobNews(COLOR_BLUEGREY, strcmd);
			}
			LevelToDeliver ++;
		}
		else
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены арестовывать этого человека! Проверьте статью нарушения!");
		    return 1;
		}

		new strtmp[22+3+1];
		format(strtmp, sizeof(strtmp), "Арест по статье %d.%d",
			PlayerInfo[giveplayerid][pArticle], PlayerInfo[giveplayerid][pPart]);//Статья
		CriminalList(giveplayerid, PlayerName(playerid), strtmp, 2);//0 - ничего, 1 - преступление, 2 - арест, 3 - перевод

		if(FollowBy[giveplayerid] != MAX_PLAYERS-1)//для конвоя
		{
			SetPVarInt(FollowBy[giveplayerid], "TempFollowBy", -1);
			KillTimer(FollowTimer[giveplayerid]);
			FollowTimer[giveplayerid] = MAX_PLAYERS-1;
	    	FollowBy[giveplayerid] = MAX_PLAYERS-1;
			SendClientMessage(FollowBy[giveplayerid], COLOR_GREY, "   Ваш заключенный арестован !");
	    }
		new rand;
		if(IsPlayerInArea(playerid, checkCoords[CP_LSPD]) || IsPlayerInRangeOfPoint(playerid, 30.0, 1535.8275,-1678.0283,13.1680))
		{// Jail spot LSPD int6
			PlayerInfo[giveplayerid][pJailed] = 1;
			SetPlayerInteriorEx(giveplayerid, 6);
   			rand = random(sizeof(JailSpawnLS));
			SetPlayerPosEx(giveplayerid, JailSpawnLS[rand][0],JailSpawnLS[rand][1],JailSpawnLS[rand][2], JailSpawnLS[rand][3]);
			SetPlayerWorldBoundsEx(giveplayerid, checkCoords[CP_LSPD][maxx], checkCoords[CP_LSPD][minx], checkCoords[CP_LSPD][maxy], checkCoords[CP_LSPD][miny]);
			SetPVarInt(giveplayerid, "gWorldBounds", 1);
		}
		else if(IsPlayerInArea(playerid, checkCoords[CP_SFPD]) || IsPlayerInRangeOfPoint(playerid, 30.0, -1589.9442,716.3722,-5.2422))
		{// Jail spot SFPD int10
			PlayerInfo[giveplayerid][pJailed] = 2;
			SetPlayerInteriorEx(giveplayerid, 10);
   			rand = random(sizeof(JailSpawnSF));
			SetPlayerPosEx(giveplayerid, JailSpawnSF[rand][0],JailSpawnSF[rand][1],JailSpawnSF[rand][2], JailSpawnSF[rand][3]);
			SetPlayerWorldBoundsEx(giveplayerid, checkCoords[CP_SFPD][maxx], checkCoords[CP_SFPD][minx], checkCoords[CP_SFPD][maxy], checkCoords[CP_SFPD][miny]);
			SetPVarInt(giveplayerid, "gWorldBounds", 1);
		}
		else if(IsPlayerInArea(playerid, checkCoords[CP_LVPD_UPFLOOR]) ||
				IsPlayerInArea(playerid, checkCoords[CP_LVPD_DOWNFLOOR]) ||
				IsPlayerInRangeOfPoint(playerid, 30.0, 2287.1213,2428.4788,10.8203))
		{// Jail spot LVPD int3
			PlayerInfo[giveplayerid][pJailed] = 3;
			SetPlayerInteriorEx(giveplayerid, 3);
   			rand = random(sizeof(JailSpawnLV));
			SetPlayerPosEx(giveplayerid, JailSpawnLV[rand][0],JailSpawnLV[rand][1],JailSpawnLV[rand][2], JailSpawnLV[rand][3]);
			SetPlayerWorldBoundsEx(giveplayerid, checkCoords[CP_LVPD_DOWNFLOOR][maxx], checkCoords[CP_LVPD_DOWNFLOOR][minx], checkCoords[CP_LVPD_DOWNFLOOR][maxy], checkCoords[CP_LVPD_DOWNFLOOR][miny]);
			SetPVarInt(giveplayerid, "gWorldBounds", 1);
		}

		gOnDuty[giveplayerid] = 0;
		//DeletePVar(giveplayerid, "dutylist");
		strdel(dutylist[giveplayerid], 0, sizeof(dutylist));
		//gJobDuty[giveplayerid] = 0;
		FixJobCounter(giveplayerid);
		ResetPlayerWeaponsEx(giveplayerid);//забрали оружие
		PlayerInfo[giveplayerid][pDrugs] = 0;//Наркотики
		PlayerInfo[giveplayerid][pFuel] = 0;//Канистра с топливом.
        PlayerInfo[giveplayerid][pArrested] += 1;//добавили к общему кол-во арестов 1
		PlayerInfo[giveplayerid][pJailTime] = time;//*60;
		//ClearCrime(giveplayerid, playerid);//не очищаем розыск, чтобы по уровню розыска расчитать залог
		PlayerCuffed[giveplayerid] = MAX_PLAYERS-1;
		PlayerCuffedTime[giveplayerid] = 0;

		if(IsPlayerAttachedObjectSlotUsed(giveplayerid, CUFF_SLOT)) RemovePlayerAttachedObject(giveplayerid, CUFF_SLOT);
		SetPlayerSpecialAction(giveplayerid, SPECIAL_ACTION_NONE);

		PlayerTied[giveplayerid] = 0;
		PlayerTiedTime[giveplayerid] = 0;
		TogglePlayerControllableEx(giveplayerid, 1);//оcвободили игрока
		format(strcmd, sizeof(strcmd), "Bас посадили в КПЗ (камера №%d) на %d минут. Залог: %d$. Все ваши вещи конфискованы.", rand, PlayerInfo[giveplayerid][pJailTime], PlayerInfo[giveplayerid][pJailPrice]);
		SendClientMessage(giveplayerid, COLOR_BROWN, strcmd);
		//--------------------------------------------------------------------------
		gGotOrder[playerid] = MAX_PLAYERS-1;
		IncreaseRank(playerid, 10);
		//return 1;
	}
	else if(!strcmp(cmd, "/deliver", true))
	{
        if(PlayerInfo[playerid][pMember] != DoD && PlayerInfo[playerid][pMember] != DoJ)
        {
			SendClientMessage(playerid, COLOR_GREY, "   Вы не ВоенноСлужащий !");
			return 1;
		}
        if(PlayerInfo[playerid][pMember] == DoJ && PlayerInfo[playerid][pRank] != 6)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 6 Ранга !");
		    return 1;
		}
        if(gOnDuty[playerid] != 1)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 1;
		}
        if(PlayerInfo[playerid][pJailed] > 0)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы находитесь под арестом !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /deliver [playerid/PartOfName]");
			return 1;
		}
        giveplayerid = ReturnUser(tmp);
        if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы не можете сами себя поместить в Форт DeMorgan !"); return 1; }
		new time;
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
        if(PlayerInfo[giveplayerid][pJailed] == 0 || PlayerInfo[giveplayerid][pJailed] == 10) { SendClientMessage(playerid, COLOR_GREY, "   Игрок должен быть под арестом, чтобы быть помещенным в Форт DeMorgan !"); return 1; }
		if(!IsPlayerInRangeOfPlayer(10.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
		if(WantedLevel[giveplayerid] <= 0)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Игрок должен иметь хотя бы 1 уровень розыска !");
		    return 1;
		}
	    if(PlayerInfo[giveplayerid][pArticle] == 0 && PlayerInfo[giveplayerid][pPart] == 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этому игроку не предусмотрено отбывание в исправительной колонии !");
			return 1;
		}
		if(PlayerInfo[giveplayerid][pArticle] < 139)
		{
			//SendClientMessage(playerid, COLOR_GREY, "   Этому игроку не предусмотрено отбывание в исправительной колонии !");
			SendClientMessage(playerid, COLOR_GREY, "   Этому игроку предусмотрено административное взыскание !");
			return 1;
		}
		if(PlayerInfo[giveplayerid][pLevel] < 2)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Игрокам прожившим в штате менее 2-х лет не предусмотрено отбывание в исправительной колонии !");
			return 1;
		}

		for(new i=0; i<sizeof(PenalCode); i++)
		{
			if(PlayerInfo[giveplayerid][pArticle] != PenalCode[i][Article]) continue;
			if(PlayerInfo[giveplayerid][pPart] != PenalCode[i][Part]) continue;
			if(PenalCode[i][Jailed] == 3)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Этому игроку не предусмотрено отбывание в исправительной колонии !");
				return 1;
			}
			//new PUNticket = PenalCode[i][Bail]*PlayerInfo[giveplayerid][pLevel]*360;//3600
			new PUNticket = PenalCode[i][Bail]*WantedLevel[giveplayerid]*ticket_rate;//3600
			PlayerInfo[giveplayerid][pJailPrice] = PUNticket;//устанавливаем залог
			new rand = 0;//random(18);//выбираем случайный столбец из масива DOTL
			time = DOTL[PenalCode[i][Period]][rand];
			//выбираем из массив Лишение свободы время в часах из указанной строки
			PlayerInfo[giveplayerid][pJailTime] = time * 60;//3600;//устанавливаем время заключения переводим из часов в секунды
			//GivePlayerMoneyB(1, playerid, PenalCode[i][Bail]*360);//3600
			break;
       	}
       	//FamilyInfo[DoD][fBank] += PlayerInfo[giveplayerid][pJailPrice];///10;

		format(strcmd, sizeof(strcmd), "переводит %s'а на Зону 51! Уровень судимости %d", PlayerName(giveplayerid), LevelToDeliver);
		//JobNews(COLOR_BLUEGREY, strcmd);
		SendDepartmentMessage(playerid, strcmd);

		if(LevelToDeliver > 0) LevelToDeliver --;
		if(PlayerInfo[giveplayerid][pJailed] == 1)
		{   //LS
			SetPlayerInteriorEx(giveplayerid, 6);
			SetPlayerPosEx(giveplayerid,268.0903,77.6489,1001.0391, 0);//за решёткой
		}
		else if(PlayerInfo[giveplayerid][pJailed] == 2)
		{   //SF
			SetPlayerInteriorEx(giveplayerid, 10);
			SetPlayerPosEx(giveplayerid,227.2106,114.6068,999.0156, 0);//за решёткой
		}
		else if(PlayerInfo[giveplayerid][pJailed] == 3)
		{   //LV
			SetPlayerInteriorEx(giveplayerid, 3);
			SetPlayerPosEx(giveplayerid,197.2874,179.4189,1003.0234, 0);//за решёткой
		}
		new strtmp[34+3+1];
		format(strtmp, sizeof(strtmp), "Отбывание на зоне по статье %d.%d",
			PlayerInfo[giveplayerid][pArticle], PlayerInfo[giveplayerid][pPart]);//Статья
		CriminalList(giveplayerid, PlayerName(playerid), strtmp, 3);//0 - ничего, 1 - преступление, 2 - арест, 3 - перевод

		SetPlayerWorldBoundsEx(giveplayerid,4100.0000,-4100.0000,4100.0000,-4100.0000); //Reset world to player
  		SetPVarInt(giveplayerid, "gWorldBounds", 0);
		ResetPlayerWeaponsEx(giveplayerid);
		TogglePlayerControllableEx(giveplayerid, 1);//оcвободили игрока
        PlayerInfo[giveplayerid][pArrested] += 1;//добавили к общему кол-во арестов 1
		//WantLawyerTime[giveplayerid] = 1;//есть потребность в адвокате
		PlayerInfo[giveplayerid][pJailed] = 10;
		if(PlayerInfo[giveplayerid][pSex] == Male) PlayerInfo[giveplayerid][pChar] = 62;//скин зэка
		SetPlayerSkinEx(giveplayerid, PlayerInfo[giveplayerid][pChar]);
		ClearCrime(giveplayerid, playerid, 3);
		//PlayerCuffed[giveplayerid] = MAX_PLAYERS-1;//сняли наручники
		format(strcmd, sizeof(strcmd), "%s переводит Bас в Форт DeMorgan на %d часов. Залог: $%d",
			PlayerName(playerid), PlayerInfo[giveplayerid][pJailTime]/60, PlayerInfo[giveplayerid][pJailPrice] );
		SendClientMessage(giveplayerid, COLOR_BROWNGREEN, strcmd);
   		//format(strcmd, sizeof(strcmd), "\t%s\nВы хотите Адвоката?", PlayerName(giveplayerid));
		//ShowPlayerDialogEx1(giveplayerid,18, DIALOG_STYLE_MSGBOX, "Want Lawyer",strcmd, "YES", "NO");
		IncreaseRank(playerid, 10);
		//return 1;
	}
	else if(!strcmp(cmd, "/roadstatus", true))//для ремонтников
	{
		/*if(	PlayerInfo[playerid][pJob] != ROADWORKER && PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}*/

		new bigmsgitem[1934];
		//format(bigmsgitem, sizeof(bigmsgitem), "Здоровье мостов: %d\n", LevelToEpidemics);
		strcat(bigmsgitem, "______________________________________________________________________\n№ \tRoadName \t\tRoadHealth:\n");
		for(new ir=0; ir<MAX_RADARS; ir++)
		{
			if(strlen(aRadar[ir][radName]) < 8) format(strcmd, sizeof(strcmd), "%d \t%s \t\t\t%d hp\n", ir+1, aRadar[ir][radName], 1000-BridgeHealth[ir]);
			else if(strlen(aRadar[ir][radName]) >= 8 && strlen(aRadar[ir][radName]) < 13) format(strcmd, sizeof(strcmd), "%d \t%s \t\t%d hp\n", ir+1, aRadar[ir][radName], 1000-BridgeHealth[ir]);
			else format(strcmd, sizeof(strcmd), "%d \t%s \t%d hp\n", ir+1, aRadar[ir][radName], 1000-BridgeHealth[ir]);
			strins(bigmsgitem, strcmd, strlen(bigmsgitem));
		}

		strins(bigmsgitem, "\n______________________________________________________________________\n", strlen(bigmsgitem));
		if(strlen(bigmsgitem) >= sizeof(bigmsgitem))
		{
			//ИНФОРМИРОВАНИЕ
			format(strcmd, sizeof(strcmd), "Error31: ROAD STATUS - %s[%d], strlen(msgitem): %d, sizeof(msgitem): %d", PlayerName(playerid), playerid, strlen(bigmsgitem), sizeof(bigmsgitem));
			Log(ERROR, strcmd);
			return 1;
		}
		if(strlen(bigmsgitem) <= 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   ROAD STATUS пуст");
			return 1;
		}
		ShowPlayerDialogEx1(playerid, DIALOG100, DIALOG_STYLE_MSGBOX, "ROAD STATUS", bigmsgitem, "OK", "");
		//return 1;
	}
	else if(!strcmp(cmd, "/healstats", true))
	{
		if(	PlayerInfo[playerid][pMember] != DoH &&
			PlayerInfo[playerid][pMember] != DoJ &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}
        /*if(PlayerInfo[playerid][pMember] == DoJ && PlayerInfo[playerid][pRank] != 7)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 8 Ранга !");
		    return 1;
		}*/
		new bigmsgitem[1934];//1882
		format(bigmsgitem, sizeof(bigmsgitem), "Уровень Эпидемии: %d\n", LevelToEpidemics);
		strins(bigmsgitem, "______________________________________________________________________\nid \tname \t\t\tlevel \tSTD \tdisease \thealth\nБольные:\n", strlen(bigmsgitem));
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) ) continue;
			if(PlayerInfo[i][pSTD] == 1)
			{
				if(strlen(PlayerName(i)) < 13) format(strcmd, sizeof(strcmd), "%d \t%s \t\t%d \t%d \tМигрень \t%.0f hp\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pSTD], LastHealth[i]);
				else format(strcmd, sizeof(strcmd), "%d \t%s \t%d \t%d \tМигрень \t%.0f hp\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pSTD], LastHealth[i]);
				strins(bigmsgitem, strcmd, strlen(bigmsgitem));
			}
			else if(PlayerInfo[i][pSTD] == 2)
			{
				if(strlen(PlayerName(i)) < 13) format(strcmd, sizeof(strcmd), "%d \t%s \t\t%d \t%d \tОРВИ \t%.0f hp\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pSTD], LastHealth[i]);
				else format(strcmd, sizeof(strcmd), "%d \t%s \t%d \t%d \tОРВИ \t%.0f hp\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pSTD], LastHealth[i]);
				strins(bigmsgitem, strcmd, strlen(bigmsgitem));
			}
			else if(PlayerInfo[i][pSTD] == 3)
			{
				if(strlen(PlayerName(i)) < 13) format(strcmd, sizeof(strcmd), "%d \t%s \t\t%d \t%d \tГастрит \t%.0f hp\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pSTD], LastHealth[i]);
				else format(strcmd, sizeof(strcmd), "%d \t%s \t%d \t%d \tГастрит \t%.0f hp\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pSTD], LastHealth[i]);
				strins(bigmsgitem, strcmd, strlen(bigmsgitem));
			}
			else if(PlayerInfo[i][pSTD] == 4)
			{
				if(strlen(PlayerName(i)) < 13) format(strcmd, sizeof(strcmd), "%d \t%s \t\t%d \t%d \tНедержание \t%.0f hp\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pSTD], LastHealth[i]);
				else format(strcmd, sizeof(strcmd), "%d \t%s \t%d \t%d \tНедержание \t%.0f hp\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pSTD], LastHealth[i]);
				strins(bigmsgitem, strcmd, strlen(bigmsgitem));
			}
			else if(PlayerInfo[i][pSTD] == 5)
			{
				if(strlen(PlayerName(i)) < 13) format(strcmd, sizeof(strcmd), "%d \t%s \t\t%d \t%d \tПсих \t%.0f hp\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pSTD], LastHealth[i]);
				else format(strcmd, sizeof(strcmd), "%d \t%s \t%d \t%d \tПсих \t%.0f hp\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pSTD], LastHealth[i]);
				strins(bigmsgitem, strcmd, strlen(bigmsgitem));
			}
			else if(PlayerInfo[i][pSTD] == 6)
			{
				if(strlen(PlayerName(i)) < 13) format(strcmd, sizeof(strcmd), "%d \t%s \t\t%d \t%d \tЭпилепсия \t%.0f hp\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pSTD], LastHealth[i]);
				else format(strcmd, sizeof(strcmd), "%d \t%s \t%d \t%d \tЭпилепсия \t%.0f hp\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pSTD], LastHealth[i]);
				strins(bigmsgitem, strcmd, strlen(bigmsgitem));
			}
			else if(PlayerInfo[i][pSTD] == 7)
			{
				if(strlen(PlayerName(i)) < 13) format(strcmd, sizeof(strcmd), "%d \t%s \t\t%d \t%d \tАртрит \t%.0f hp\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pSTD], LastHealth[i]);
				else format(strcmd, sizeof(strcmd), "%d \t%s \t%d \t%d \tАртрит \t%.0f hp\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pSTD], LastHealth[i]);
				strins(bigmsgitem, strcmd, strlen(bigmsgitem));
			}
			else if(PlayerInfo[i][pSTD] == 8)
			{
				if(strlen(PlayerName(i)) < 13) format(strcmd, sizeof(strcmd), "%d \t%s \t\t%d \t%d \tАстма \t%.0f hp\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pSTD], LastHealth[i]);
				else format(strcmd, sizeof(strcmd), "%d \t%s \t%d \t%d \tАстма \t%.0f hp\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pSTD], LastHealth[i]);
				strins(bigmsgitem, strcmd, strlen(bigmsgitem));
			}
			else if(PlayerInfo[i][pSTD] == 9)
			{
				if(strlen(PlayerName(i)) < 13) format(strcmd, sizeof(strcmd), "%d \t%s \t\t%d \t%d \tРак \t%.0f hp\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pSTD], LastHealth[i]);
				else format(strcmd, sizeof(strcmd), "%d \t%s \t%d \t%d \tРак \t%.0f hp\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pSTD], LastHealth[i]);
				strins(bigmsgitem, strcmd, strlen(bigmsgitem));
			}
			else if(PlayerInfo[i][pSTD] == 10)
			{
				if(strlen(PlayerName(i)) < 13) format(strcmd, sizeof(strcmd), "%d \t%s \t\t%d \t%d \tПневмония \t%.0f hp\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pSTD], LastHealth[i]);
				else format(strcmd, sizeof(strcmd), "%d \t%s \t%d \t%d \tПневмония \t%.0f hp\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pSTD], LastHealth[i]);
				strins(bigmsgitem, strcmd, strlen(bigmsgitem));
			}
		}
		strins(bigmsgitem, "\n______________________________________________________________________\n", strlen(bigmsgitem));
		if(strlen(bigmsgitem) >= sizeof(bigmsgitem))
		{
			//ИНФОРМИРОВАНИЕ
			format(strcmd, sizeof(strcmd), "Error32: HEAL STATS - %s[%d], strlen(bigmsgitem): %d, sizeof(bigmsgitem): %d", PlayerName(playerid), playerid, strlen(bigmsgitem), sizeof(bigmsgitem));
			Log(ERROR, strcmd);
			return 1;
		}
		if(strlen(bigmsgitem) <= 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   HEAL STATS пуст");
			return 1;
		}
		ShowPlayerDialogEx1(playerid, DIALOG100, DIALOG_STYLE_MSGBOX, "HEAL STATS", bigmsgitem, "OK", "");
		//return 1;
	}
	else if(!strcmp(cmd, "/jailstats", true))
	{
		if(	PlayerInfo[playerid][pJob] != 2 &&
			!IsACop(playerid) &&
			PlayerInfo[playerid][pMember] != DoD &&
			PlayerInfo[playerid][pMember] != DoJ &&
			PlayerInfo[playerid][pAdmin] != 4 &&//для конкурсов
			PlayerInfo[playerid][pAdmin] != 9)
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        /*if(PlayerInfo[playerid][pMember] == DoJ && PlayerInfo[playerid][pRank] != 7)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 7 Ранга !");
		    return 1;
		}*/
		new bigmsgitem[1930];
		format(bigmsgitem, sizeof(bigmsgitem), "Уровень судимостей: %d\n", LevelToDeliver);
		strins(bigmsgitem, "______________________________________________________________________\nid \tname \t\t\tlevel \tplace \tarticle  jail time\nAрестованные:\n", strlen(bigmsgitem));
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) ) continue;
			if(PlayerInfo[i][pJailed] == 1)
			{
				if(strlen(PlayerName(i)) < 13) format(strcmd, sizeof(strcmd), "%d \t%s \t\t%d \tLSPD \t%d.%d \t%d мин\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pArticle], PlayerInfo[i][pPart], PlayerInfo[i][pJailTime]);
				else format(strcmd, sizeof(strcmd), "%d \t%s \t%d \tLSPD \t%d.%d \t%d мин\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pArticle], PlayerInfo[i][pPart], PlayerInfo[i][pJailTime]);
					//SendClientMessage(playerid, COLOR_BLUEGREY, strcmd);
				strins(bigmsgitem, strcmd, strlen(bigmsgitem));
			}
			else if(PlayerInfo[i][pJailed] == 2)
			{
				if(strlen(PlayerName(i)) < 13) format(strcmd, sizeof(strcmd), "%d \t%s \t\t%d \tSFPD \t%d.%d \t%d мин\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pArticle], PlayerInfo[i][pPart], PlayerInfo[i][pJailTime]);
				else format(strcmd, sizeof(strcmd), "%d \t%s \t%d \tSFPD \t%d.%d \t%d мин\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pArticle], PlayerInfo[i][pPart], PlayerInfo[i][pJailTime]);
					//SendClientMessage(playerid, COLOR_BLUEGREY, strcmd);
				strins(bigmsgitem, strcmd, strlen(bigmsgitem));
			}
			else if(PlayerInfo[i][pJailed] == 3)
			{
				if(strlen(PlayerName(i)) < 13) format(strcmd, sizeof(strcmd), "%d \t%s \t\t%d \tLVPD \t%d.%d \t%d мин\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pArticle], PlayerInfo[i][pPart], PlayerInfo[i][pJailTime]);
				else format(strcmd, sizeof(strcmd), "%d \t%s \t%d \tLVPD \t%d.%d \t%d мин\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pArticle], PlayerInfo[i][pPart], PlayerInfo[i][pJailTime]);
					//SendClientMessage(playerid, COLOR_BLUEGREY, strcmd);
				strins(bigmsgitem, strcmd, strlen(bigmsgitem));
			}
		}
		//SendClientMessage(playerid, COLOR_BROWNGREEN, "Заключённые:");
		strins(bigmsgitem, "______________________________________________________________________\nid \tname \t\t\tlevel \tplace \tarticle  jail time  jail price\nЗаключённые:\n", strlen(bigmsgitem));
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) ) continue;
			if(PlayerInfo[i][pJailed] != 10) continue;
			if(IsPlayerInArea(i, specialzone[0]))
			{
				if(strlen(PlayerName(i)) < 13) format(strcmd, sizeof(strcmd), "%d \t%s \t\t%d \tZone \t%d.%d \t%d мин  $%d\n",
				 i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pArticle], PlayerInfo[i][pPart], PlayerInfo[i][pJailTime], PlayerInfo[i][pJailPrice]);
				else format(strcmd, sizeof(strcmd), "%d \t%s \t%d \tZone \t%d.%d \t%d мин  $%d\n",
				 i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pArticle], PlayerInfo[i][pPart], PlayerInfo[i][pJailTime], PlayerInfo[i][pJailPrice]);
					//SendClientMessage(playerid, COLOR_BLUEGREY, strcmd);
				strins(bigmsgitem, strcmd, strlen(bigmsgitem));
			}
			else if(!IsPlayerInArea(i, specialzone[0]) &&
					IsPlayerControllable[i] == 0
					&& FollowBy[i] == MAX_PLAYERS-1)
			{
				if(strlen(PlayerName(i)) < 13) format(strcmd, sizeof(strcmd), "%d \t%s \t\t%d \tZone \t%d.%d \t%d мин  $%d  в бегах\n",
				 i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pArticle], PlayerInfo[i][pPart], PlayerInfo[i][pJailTime], PlayerInfo[i][pJailPrice]);
				else format(strcmd, sizeof(strcmd), "%d \t%s \t%d \tZone \t%d.%d \t%d мин  $%d  в бегах\n",
				 i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pArticle], PlayerInfo[i][pPart], PlayerInfo[i][pJailTime], PlayerInfo[i][pJailPrice]);
					//SendClientMessage(playerid, COLOR_BLUEGREY, strcmd);
				strins(bigmsgitem, strcmd, strlen(bigmsgitem));
			}
		}
    	//SendClientMessage(playerid, COLOR_GREEN, "Охранники:");
		strins(bigmsgitem, "______________________________________________________________________\nid \tname \t\t\tlevel \trank\tjob title\nОхранники:\n", strlen(bigmsgitem));
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) ) continue;
			if(PlayerInfo[i][pMember] != DoD) continue;
			if(!IsPlayerInArea(i, specialzone[0])) continue;
			if(strlen(PlayerName(i)) < 13) format(strcmd, sizeof(strcmd), "%d \t%s \t\t%d \t%d \t%s\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pRank], GetPlayerRanks(i));
			else format(strcmd, sizeof(strcmd), "%d \t%s \t%d \t%d \t%s\n", i, PlayerName(i), PlayerInfo[i][pLevel], PlayerInfo[i][pRank], GetPlayerRanks(i));
				//SendClientMessage(playerid, COLOR_EMERALD, strcmd);
			strins(bigmsgitem, strcmd, strlen(bigmsgitem));
		}
		strins(bigmsgitem, "\n______________________________________________________________________\n", strlen(bigmsgitem));
		if(strlen(bigmsgitem) >= sizeof(bigmsgitem))
		{
			//ИНФОРМИРОВАНИЕ
			format(strcmd, sizeof(strcmd), "Error33: JAIL STATS - %s[%d], strlen(bigmsgitem): %d, sizeof(bigmsgitem): %d", PlayerName(playerid), playerid, strlen(bigmsgitem), sizeof(bigmsgitem));
			Log(ERROR, strcmd);
			return 1;
		}
		if(strlen(bigmsgitem) <= 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   JAIL STATS пуст");
			return 1;
		}
		ShowPlayerDialogEx1(playerid, DIALOG100, DIALOG_STYLE_MSGBOX, "JAIL STATS", bigmsgitem, "OK", "");
		//return 1;
	}
	else if(!strcmp(cmd, "/jump", true))//для дисанта
	{
	 	LastCar[playerid] = nCarID[playerid];
	 	new modelid = VehInfo[LastCar[playerid]][cModel];//GetVehicleModel(LastCar[playerid]);
		if( (modelid == 548 ||	modelid == 563)
			&& CurState[playerid] == PLAYER_STATE_PASSENGER)
		{
			TogglePlayerControllableEx(playerid, 1);
			PlayerCuffed[playerid] = MAX_PLAYERS-1;
			PlayerCuffedTime[playerid] = 0;

			if(IsPlayerAttachedObjectSlotUsed(giveplayerid, CUFF_SLOT)) RemovePlayerAttachedObject(giveplayerid, CUFF_SLOT);
			SetPlayerSpecialAction(giveplayerid, SPECIAL_ACTION_NONE);

			PlayerTied[playerid] = 0;
			PlayerTiedTime[playerid] = 0;

			SetPlayerInteriorEx(playerid, 9);
			SetPlayerVirtualWorldEx(playerid, 0);
			PlayerInfo[playerid][pLocal] = FREEROAM;
			SetPlayerPosEx(playerid, 315.8936,975.0897,1961.1989, 0.0);
			GameTextForPlayerEx(playerid, "~w~Grab a parachute~n~~g~Then exit the plane via the ~r~ramp", 2000, 5);
		}
		else SendClientMessage(playerid, COLOR_GREY, "   Вы не пассажир военного вертолета Cargobob !");
		//return 1;
	}
	else if(!strcmp(cmd, "/trafic", true))//для дальнобойщиков
	{
		/*if(PlayerInfo[playerid][pAdmin] < 1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
		    return 1;
		}*/
		TraficList(playerid);
	}

	else if(!strcmp(cmd, "/ram", true))
	{   //для входа в чужие дома
		if(	!IsACop(playerid) )// && !IsAFamilyMember(playerid)	&& PlayerInfo[playerid][pLeader] != Hitman
		{   //если силовая структура или лидер Yakudza или лидер Hitman
			SendClientMessage(playerid, COLOR_GREY, "   Вы не Полицейский !");///Член Семьи/Лидер Киллеров
			return 1;
		}
		if(	!gOnDuty[playerid])//IsACop(playerid) &&
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не дежурстве !");
			return 1;
		}
		if(gGotOrder[playerid] == MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не имеете ордера на аррест !");
			return 1;
		}
	    if( !IsPlayerConnectedEx(gGotOrder[playerid]) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		for(new h = 0; h < MAX_HOUSE; h++)
		{
			if(IsPlayerInRangeOfPoint(playerid, 3.0, HouseInfo[h][hEntranceX], HouseInfo[h][hEntranceY], HouseInfo[h][hEntranceZ]))
			{   //если игрок около выхода одного из домов всего СА
				PlayerInfo[playerid][pLocal] = h;
				SetPlayerVirtualWorldEx(playerid, h);
				SetPlayerInteriorEx(playerid, HouseInfo[h][hInt]);
				SetPlayerPosEx(playerid, HouseInfo[h][hExitX],HouseInfo[h][hExitY],HouseInfo[h][hExitZ], 0);
				GameTextForPlayerEx(playerid, "~r~Breached the door", 5000, 1);
			}//то переместится в этот дом
		}
		for(new b=0; b<MAX_BIZ; b++)
		{
			if(IsPlayerInRangeOfPoint(playerid, 3.0, BizInfo[b][bEntranceX], BizInfo[b][bEntranceY], BizInfo[b][bEntranceZ]))
			{   //если игрок около выхода одного из домов всего СА
				SetPlayerVirtualWorldEx(playerid, b);
				SetPlayerInteriorEx(playerid, BizInfo[b][bInt]);
				SetPlayerPosEx(playerid, BizInfo[b][bExitX],BizInfo[b][bExitY],BizInfo[b][bExitZ], 0);
				PlayerInfo[playerid][pLocal] = 100+b;//(0-4)+100=104
				GameTextForPlayerEx(playerid, "~r~Breached the door", 5000, 1);
			}//то переместится в этот дом
		}
		gGotOrder[playerid] = MAX_PLAYERS-1;
		//return 1;
	}
	else if(!strcmp(cmd, "/camera", true))
	{   //для наблюдения за заключенными
       	if(	!IsPlayerInRangeOfPoint(playerid, 8.0, 211.6222,1811.9565,21.8594) &&
			!IsPlayerInRangeOfPoint(playerid, 8.0, 246.4324,1861.1317,14.0840) &&
			!IsPlayerInRangeOfPoint(playerid, 8.0, 219.9658,1822.9408,7.5069))
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не в комнате видеонаблюдения Зоны 51 !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /camera [number 1 - 8] (0 = OFF)");
			return 1;
		}
		new number = strval(tmp);
		if(number < 0 || number > 8) { SendClientMessage(playerid, COLOR_GREY, "   Номер Камеры может быть от 1 до 8 (0 = OFF)!"); return 1; }
		TogglePlayerControllableEx(playerid, 0);//обездвиживает
		GetPlayerPos(playerid, Unspec[playerid][sPx],Unspec[playerid][sPy],Unspec[playerid][sPz]);
		if(number == 1)
		{   //вид на вентиляционную шахту
			if( IsPlayerInRangeOfPoint(playerid, 2.0, 246.4324,1861.1317,14.0840)) { SetPlayerCameraPos(playerid, 105.2043,1902.5901,37.5757); SetPlayerCameraLookAt(playerid, 134.3954,1923.1571,19.1553, CAMERA_MOVE); }
			else if( IsPlayerInRangeOfPoint(playerid, 2.0, 211.6222,1811.9565,21.8594)) { SetPlayerCameraPos(playerid, 201.3,1873.5,16.0); SetPlayerCameraLookAt(playerid, 225.9616,1859.2627,13.1470, CAMERA_MOVE); }
			else if( IsPlayerInRangeOfPoint(playerid, 8.0, 219.9658,1822.9408,7.5069)) { SetPlayerCameraPos(playerid, 105.2043,1902.5901,37.5757); SetPlayerCameraLookAt(playerid, 134.3954,1923.1571,19.1553, CAMERA_MOVE); }
		}
		else if(number == 2)
		{   //вид на комнату видео наблюдения
			if( IsPlayerInRangeOfPoint(playerid, 2.0, 246.4324,1861.1317,14.0840)) { SetPlayerCameraPos(playerid, 162.9302,1931.3431,38.3139); SetPlayerCameraLookAt(playerid, 178.9656,1904.7085,18.0396, CAMERA_MOVE); }
			else if( IsPlayerInRangeOfPoint(playerid, 2.0, 211.6222,1811.9565,21.8594)) { SetPlayerCameraPos(playerid, 255.3781,1880.1326,14.8453); SetPlayerCameraLookAt(playerid, 248.2015,1870.9860,8.7578, CAMERA_MOVE); }
			else if( IsPlayerInRangeOfPoint(playerid, 8.0, 219.9658,1822.9408,7.5069)) { SetPlayerCameraPos(playerid, 255.3781,1880.1326,14.8453); SetPlayerCameraLookAt(playerid, 248.2015,1870.9860,8.7578, CAMERA_MOVE); }
		}
		else if(number == 3)
		{   //вид на выход из больших ворот
			if( IsPlayerInRangeOfPoint(playerid, 2.0, 246.4324,1861.1317,14.0840)) { SetPlayerCameraPos(playerid, 233.8431,1932.9349,38.2935); SetPlayerCameraLookAt(playerid, 238.4557,1904.4595,17.6406, CAMERA_MOVE); }
			else if( IsPlayerInRangeOfPoint(playerid, 2.0, 211.6222,1811.9565,21.8594)) { SetPlayerCameraPos(playerid, 239.3958,1846.5741,14.9331); SetPlayerCameraLookAt(playerid, 248.9415,1846.4688,8.7611, CAMERA_MOVE); }
			else if( IsPlayerInRangeOfPoint(playerid, 8.0, 219.9658,1822.9408,7.5069)) { SetPlayerCameraPos(playerid, 201.3,1873.5,16.0); SetPlayerCameraLookAt(playerid, 225.9616,1859.2627,13.1470, CAMERA_MOVE); }
		}
		else if(number == 4)
		{   //вид на командный мостик
			//if(IsPlayerInRangeOfPoint(playerid, 8.0, 246.4324,1861.1317,14.0840)) { SetPlayerCameraPos(playerid, 265.7247,1894.7050,38.8924); SetPlayerCameraLookAt(playerid, 183.5241,1863.0684,20.6700); }
			if( IsPlayerInRangeOfPoint(playerid, 2.0, 246.4324,1861.1317,14.0840)) { SetPlayerCameraPos(playerid, 265.7247,1894.7050,38.8924); SetPlayerCameraLookAt(playerid, 226.4241,1854.3451,20.2937, CAMERA_MOVE); }
			else if( IsPlayerInRangeOfPoint(playerid, 2.0, 211.6222,1811.9565,21.8594)) { SetPlayerCameraPos(playerid, 245.1414,1837.8503,13.5859); SetPlayerCameraLookAt(playerid, 253.6146,1826.4663,7.55478, CAMERA_MOVE); }
			else if( IsPlayerInRangeOfPoint(playerid, 8.0, 219.9658,1822.9408,7.5069)) { SetPlayerCameraPos(playerid, 265.7247,1894.7050,38.8924); SetPlayerCameraLookAt(playerid, 226.4241,1854.3451,20.2937, CAMERA_MOVE); }
		}
		else if(number == 5)
		{   //вид над решёткой отстойника
			if( IsPlayerInRangeOfPoint(playerid, 2.0, 246.4324,1861.1317,14.0840)) { SetPlayerCameraPos(playerid, 260.5036,1807.6575,38.8729); SetPlayerCameraLookAt(playerid, 179.4698,1823.0284,17.6406, CAMERA_MOVE); }
			else if( IsPlayerInRangeOfPoint(playerid, 2.0, 211.6222,1811.9565,21.8594)) { SetPlayerCameraPos(playerid, 299.4821,1816.9563,10.5440); SetPlayerCameraLookAt(playerid, 286.6944,1816.6301,4.7266, CAMERA_MOVE); }
			else if( IsPlayerInRangeOfPoint(playerid, 8.0, 219.9658,1822.9408,7.5069)) { SetPlayerCameraPos(playerid, 299.4821,1816.9563,10.5440); SetPlayerCameraLookAt(playerid, 286.6944,1816.6301,4.7266, CAMERA_MOVE); }
		}
		else if(number == 6)
		{   //спаун зэков
			if(IsPlayerInRangeOfPoint(playerid, 8.0, 246.4324,1861.1317,14.0840)) { SetPlayerCameraPos(playerid, 114.9123,1814.5474,38.8729); SetPlayerCameraLookAt(playerid, 193.0036,1807.3794,17.6406, CAMERA_MOVE); }
			//else if(IsPlayerInRangeOfPoint(playerid, 8.0, 246.4324,1861.1317,14.0840)) { SetPlayerCameraPos(playerid, 264.8,1852.9,11.0000); SetPlayerCameraLookAt(playerid, 284.2216,1871.3436,8.7578); }
			else if(IsPlayerInRangeOfPoint(playerid, 8.0, 211.6222,1811.9565,21.8594)) { SetPlayerCameraPos(playerid, 264.4274,1855.8301,10.8059); SetPlayerCameraLookAt(playerid, 284.5709,1871.4137,8.7578, CAMERA_MOVE); }
			else if( IsPlayerInRangeOfPoint(playerid, 8.0, 219.9658,1822.9408,7.5069)) { SetPlayerCameraPos(playerid, 114.9123,1814.5474,38.8729); SetPlayerCameraLookAt(playerid, 193.0036,1807.3794,17.6406, CAMERA_MOVE); }
		}
		else if(number == 7)
		{   //ракетная шахта
			if( IsPlayerInRangeOfPoint(playerid, 2.0, 246.4324,1861.1317,14.0840)) { SetPlayerCameraPos(playerid, 164.5304,1848.7245,38.4037); SetPlayerCameraLookAt(playerid, 136.3928,1820.8358,17.6406, CAMERA_MOVE); }
			else if( IsPlayerInRangeOfPoint(playerid, 2.0, 211.6222,1811.9565,21.85940)) { SetPlayerCameraPos(playerid, 268.7055,1883.8724,19.5000); SetPlayerCameraLookAt(playerid, 268.7055,1883.8724,-30.0938, CAMERA_MOVE); }
			else if( IsPlayerInRangeOfPoint(playerid, 8.0, 219.9658,1822.9408,7.5069)) { SetPlayerCameraPos(playerid, 264.4274,1855.8301,10.8059); SetPlayerCameraLookAt(playerid, 284.5709,1871.4137,8.7578, CAMERA_MOVE); }
		}
		else if(number == 8)
		{   //отстойник
			if( IsPlayerInRangeOfPoint(playerid, 2.0, 246.4324,1861.1317,14.0840)) { SetPlayerCameraPos(playerid, 118.1011,1931.3221,22.5527); SetPlayerCameraLookAt(playerid, 98.9656,1920.9819,18.2180, CAMERA_MOVE); }
			else if( IsPlayerInRangeOfPoint(playerid, 2.0, 211.6222,1811.9565,21.8594)) { SetPlayerCameraPos(playerid, 257.4648,1816.6011,3.0000); SetPlayerCameraLookAt(playerid, 293.9911,1816.2635,1.0000, CAMERA_MOVE); }
			else if( IsPlayerInRangeOfPoint(playerid, 8.0, 219.9658,1822.9408,7.5069)) { SetPlayerCameraPos(playerid, 118.1011,1931.3221,22.5527); SetPlayerCameraLookAt(playerid, 98.9656,1920.9819,18.2180, CAMERA_MOVE); }
		}
		else if(number == 0)    //Устанавливает новую позицию камеры игрока.    //Устанавливает направление и место, куда будет смотреть камера игрока.
		{
		    //gMedicBill[playerid] = 0;
			TogglePlayerControllableEx(playerid, 1);
			SetCameraBehindPlayer(playerid);//Восстановить камеру на место позади игрока после использования функций, подобных SetPlayerCameraPos.
			SetPlayerPosEx(playerid, Unspec[playerid][sPx],Unspec[playerid][sPy],Unspec[playerid][sPz], 0);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/contract", true))
	{
		if(PlayerInfo[playerid][pLevel] < 3)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны иметь 3 уровень или выше, чтобы заключать контракт !");
			return 1;
		}
	    if(PlayerInfo[playerid][pMember] == Hitman)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Вы не можете делать заказы !");
	        return 1;
	    }

		new ToBase[74+24+2];
		format(ToBase, sizeof(ToBase), "SELECT `IND` FROM `blacklist` WHERE `Player`='%s' AND Family=%d", PlayerName(playerid), Hitman);
		mysql_query(ToBase); mysql_store_result();
		if(mysql_num_rows() > 0)
	 	{
       		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете воспользоваться услугами этой организации!");
			mysql_free_result();
			return 1;
		}
		mysql_free_result();

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /contract [playerid/PartOfName] [reason(0-убийство,1-лицензии,2-дом,3-бизнес,4-компания)] [amount]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
        if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы не можете делать заказ на самого себя!"); return 1; }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /contract [playerid/PartOfName] [reason(0-убийство,1-лицензии,2-дом,3-бизнес,4-компания)] [amount]");
			return 1;
		}
		new Reason = strval(tmp);
		if(Reason < 0 || Reason > 4) { SendClientMessage(playerid, COLOR_GREY, "   Причина убийства должна быть от 0 до 4 (0-убийство,1-лицензии,2-дом,3-бизнес,4-компания)!"); return 1; }
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /contract [playerid/PartOfName] [reason(0-убийство,1-лицензии,2-дом,3-бизнес,4-компания)] [amount]");
			return 1;
		}
		new moneys = strval(tmp);//для экономики
		if(Reason == 0 && (moneys < 10000 || moneys > 1000000)) { SendClientMessage(playerid, COLOR_GREY, "   Стоимость Контракта должна быть от $10000 до $1000000!"); return 1; }
		else if(Reason > 0 && moneys < 10000) { SendClientMessage(playerid, COLOR_GREY, "   Стоимость Контракта должна быть от $10000!"); return 1; }
		if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d - неактивен !", giveplayerid);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
	    if(PlayerInfo[giveplayerid][pConnectTime] < 10)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Вы не можете заказать этого человека !");
	        return 1;
	    }
	    if(PlayerInfo[giveplayerid][pPurposeMurder] > 0 && Reason != 0 || (PlayerInfo[giveplayerid][pAccount] != 0))
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Вы не можете заказать этого человека !");
	        return 1;
	    }
	    /*if(PlayerInfo[giveplayerid][pMember] == Hitman)//PlayerInfo[giveplayerid][pLeader] == 8 ||
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   Вы не можете заказать этого человека !");
	        return 1;
	    }*/
	    //new PriceOrder;
	  	new house = NOT_KEY;
		new bouse = NOT_KEY;
		new sbouse = NOT_KEY;
	    if(Reason == 0)
	    {
			if(IsACop(giveplayerid) && moneys < 100000)
			{
		        SendClientMessage(playerid, COLOR_GREY, "   Заказ Полицейского - не менее $100000!");
		        return 1;
	        }
	    }
    	else if(Reason == 1)
	    {
			new cost;//для экономики
			if(PlayerInfo[giveplayerid][pBikeLic] == 1) { cost += 10000; }
			if(PlayerInfo[giveplayerid][pCarLic] == 1) { cost += 2500; }
			if(PlayerInfo[giveplayerid][pFlyLic] == 1) { cost += 5000; }
			if(PlayerInfo[giveplayerid][pBoatLic] == 1) { cost += 3000; }
	        if(PlayerInfo[giveplayerid][pFishLic] == 1) { cost += 2000; }
	        if(PlayerInfo[giveplayerid][pGunLic] == 1) { cost += 7000; }
			if( IsACop(giveplayerid) || PlayerInfo[giveplayerid][pMember] == DoD || PlayerInfo[playerid][pMember] == DoE )
		    {
		        SendClientMessage(playerid, COLOR_GREY, "   Вы не можете сделать заказ с данной целью убийства !");
		        return 1;
		    }
   	        if( IsPlayerInArea(giveplayerid, checkCoords[CP_DRIVESCHOOL]) )
			{
		        SendClientMessage(playerid, COLOR_GREY, "   Вы не можете сделать здесь заказ с данной целью убийства !");
		        return 1;
		    }
			if(	PlayerInfo[giveplayerid][pBikeLic] == 0 &&
				PlayerInfo[giveplayerid][pCarLic] == 0 &&
				PlayerInfo[giveplayerid][pFlyLic] == 0 &&
				PlayerInfo[giveplayerid][pBoatLic] == 0 &&
				PlayerInfo[giveplayerid][pFishLic] == 0 &&
				PlayerInfo[giveplayerid][pGunLic] == 0)
		    {
		        SendClientMessage(playerid, COLOR_GREY, "   Заказ не возможен, т.к. у человека нет ни одной лицензии !");
		        return 1;
		    }
			if(moneys < cost*2)
			{
    			format(strcmd, sizeof(strcmd), "   Заказ на потерю всех лицензий - не менее $%d !", cost*2);
		        SendClientMessage(playerid, COLOR_GREY, strcmd);
		        return 1;
	        }
			if(moneys < cost*2*2 && IsACop(giveplayerid))
			{
    			format(strcmd, sizeof(strcmd), "   Заказ на потерю всех лицензий Полицейского - не менее $%d !", cost*2*2);
		        SendClientMessage(playerid, COLOR_GREY, strcmd);
		        return 1;
	        }
	    }
		else if(Reason == 2)
		{
			for(new limit = 0; limit < 5; limit++)
			{
				if(MyHouse[giveplayerid][limit] == NOT_KEY) continue;
				house = MyHouse[giveplayerid][limit];
			    if(moneys < BizInfo[house][bBuyPrice])
			    {
	    			format(strcmd, sizeof(strcmd), "   Заказ на владельца дома - не менее $%d !",HouseInfo[house][hBuyPrice]);
			        SendClientMessage(playerid, COLOR_GREY, strcmd);
			        return 1;
			    }
				break;
			}
			if(house == NOT_KEY) { SendClientMessage(playerid, COLOR_GREY, "   Игрок не владеет домом."); return 1; }
		}
		else if(Reason == 3)
		{
			for(new limit = 0; limit < 10; limit++)
			{
				if(MyBizz[giveplayerid][limit] == NOT_KEY) continue;
				bouse = MyBizz[giveplayerid][limit];
			    if(moneys < BizInfo[bouse][bBuyPrice])
			    {
	    			format(strcmd, sizeof(strcmd), "   Заказ на владельца биза - не менее $%d !", BizInfo[bouse][bBuyPrice]);
			        SendClientMessage(playerid, COLOR_GREY, strcmd);
			        return 1;
			    }
				break;
			}
			if(bouse == NOT_KEY) { SendClientMessage(playerid, COLOR_GREY, "   Игрок не владеет бизнесом."); return 1; }
		}
		else if(Reason == 4)
		{
			for(new limit = 0; limit < 20; limit++)
			{
				if(MyCompany[giveplayerid][limit] == NOT_KEY) continue;
				sbouse = MyCompany[giveplayerid][limit];
			    if(moneys < SBizInfo[sbouse][sbBuyPrice])
			    {
		   			format(strcmd, sizeof(strcmd), "   Заказ на владельца компании - не менее $%d !", SBizInfo[sbouse][sbBuyPrice]);
			        SendClientMessage(playerid, COLOR_GREY, strcmd);
			        return 1;
			    }
				break;
			}
			if(sbouse == NOT_KEY) { SendClientMessage(playerid, COLOR_GREY, "   Игрок не владеет компанией."); return 1; }
		}

	    if(giveplayerid == playerid) { SendClientMessage(playerid, COLOR_GREY, "   Вы не можете заказать самого себя!"); return 1; }
		if(GetPlayerMoneyH(playerid) < moneys)
		{   //если указанная сумма контракта больше 0 и больше денег на руках у заказчика
			SendClientMessage(playerid, COLOR_GREY, "   У вас нет столько наличных, чтобы заказать этого человека!");
	        return 1;
	    }
		GivePlayerMoneyH(ffamily+Hitman, playerid, -moneys);
		if(Reason == 1) PlayerInfo[giveplayerid][pPurposeMurder] = 301;//на лицензии
		else if(Reason == 2) PlayerInfo[giveplayerid][pPurposeMurder] = house;
		else if(Reason == 3) PlayerInfo[giveplayerid][pPurposeMurder] = 100+bouse;
		else if(Reason == 4) PlayerInfo[giveplayerid][pPurposeMurder] = 200+sbouse;
		PlayerInfo[giveplayerid][pHeadValue] += moneys;//цены за голову игрока с giveplayerid суммируется
		format(strcmd, sizeof(strcmd), "*%s оценил голову %s'a в $%d.", PlayerName(playerid), PlayerName(giveplayerid), moneys);
		SendFamilyMessage(Hitman, strcmd);
		format(strcmd, sizeof(strcmd), "* Вы оценили голову %s'a в $%d.", PlayerName(giveplayerid), moneys);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);

		format(strcmd, sizeof(strcmd), "%s[%d] contracted by %s[%d] to $%d reason: %d", PlayerName(playerid), playerid, PlayerName(giveplayerid), giveplayerid, moneys, Reason);
		Log(CONTRACT,strcmd);
		//return 1;
	}//"/contract" конец
	else if(!strcmp(cmd, "/portable", true))	//ДЛЯ КИЛЛЕРОВ
	{   //доработать
	    if(PlayerInfo[playerid][pMember] != Hitman)
	    {
			SendClientMessage(playerid, COLOR_GREY, "   Вы не член Агентства Наёмных Убийц !");
	        return 1;
	    }
	    /*if(ConnectedToPC[playerid] == 1)
	    {
	        SendClientMessage(playerid, COLOR_LIGHTBLUE, "* Вы закрыли портативный ПК, и Отсоединены от вашего Агентства.");
	        ConnectedToPC[playerid] = 0;
	        return 1;
	    }*/
	    SendClientMessage(playerid, COLOR_LIGHTBLUE, "* Вы расчехлили свой ПК и присоединились к серверу Агентства.");
	    /*SendClientMessage(playerid, COLOR_HERBAL, "|___ Hitman Agency ___|");
	    SendClientMessage(playerid, COLOR_GRAD6, "| - News");
	    SendClientMessage(playerid, COLOR_GRAD5, "| - Contracts");
	    SendClientMessage(playerid, COLOR_GRAD4, "| - Givehit");
	    SendClientMessage(playerid, COLOR_GRAD3, "| - Order");
	    SendClientMessage(playerid, COLOR_GRAD2, "| - Rating");
	    SendClientMessage(playerid, COLOR_GRAD1, "| - Logout");
		SendClientMessage(playerid, COLOR_HERBAL, "|______________|00:00|");*/
		ConnectedToPC[playerid] = 1;
		new listitems[] = "News\nContracts\nOrder\nRating";
		MenuOperation[playerid] = 95;
		ShowPlayerDialogEx1(playerid, HITMAN_DIALOG, DIALOG_STYLE_LIST, "Hitman Agency", listitems, "OK", "Cancel");
		//return 1;
	}
	//--------------------------------------------------------------------------
	else if(!strcmp(cmd, "/score", true))
	{
        /*if(PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }*/
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /score [playerid/PartOfName]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
	    if( !IsPlayerConnected(giveplayerid) )
	    {
	    	SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не присоединился к игре !");
			return 1;
		}
		//--------------------------------------------------------------------------
		new BuyPrice;
		for(new limit = 0; limit < 3; limit++)
		{
			if(MyCar[playerid][limit] == 0) continue;
			new car = MyCar[playerid][limit];
			new modelid = VehInfo[car][cModel];//GetVehicleModel(car);
			BuyPrice += VehicleArray[modelid-400][Virtual_Price];
		}
		//if(PlayerInfo[playerid][pHouse] >= 0 && PlayerInfo[playerid][pHouse] < MAX_HOUSE)
		//{
		for(new limit = 0; limit < 5; limit++)
		{
			if(MyHouse[playerid][limit] == NOT_KEY) continue;
			new house = MyHouse[playerid][limit];
			BuyPrice += HouseInfo[house][hBuyPrice];
			BuyPrice += HouseInfo[house][hTill];
		}
		//}
		for(new limit = 0; limit < 10; limit++)
		{
			if(MyBizz[playerid][limit] == NOT_KEY) continue;
			new bouse = MyBizz[playerid][limit];
			BuyPrice += BizInfo[bouse][bBuyPrice];
			BuyPrice += BizInfo[bouse][bTill];
		}
		for(new limit = 0; limit < 20; limit++)
		{
			if(MyCompany[playerid][limit] == NOT_KEY) continue;
			new sbouse = MyCompany[playerid][limit];
			BuyPrice += SBizInfo[sbouse][sbBuyPrice];
			BuyPrice += SBizInfo[sbouse][sbTill];
		}
		//new strtmp[140];
		//strtmp = GetPlayerScoreBuyPrice(giveplayerid, Cash, 1);
		new strtmp[19 + 24+3+10];
		format(strtmp, sizeof(strtmp), "%s[%d]: Score - %d",
			PlayerName(playerid), playerid, GetPlayerScoreBuyPrice(giveplayerid, BuyPrice, 1));
       	SendClientMessageEx(playerid, COLOR_LIGHTBLUE, strtmp);
		//return 1;
	}
	else if(!strcmp(cmd, "/bigmoney", true))
	{
        if(PlayerInfo[playerid][pMember] != DoJ && PlayerInfo[playerid][pAdmin] < 1)
        {
			SendClientMessage(playerid, COLOR_GREY, "   Вы не член Правительства !");
			return 1;
        }
        if(PlayerInfo[playerid][pRank] != 11 && PlayerInfo[playerid][pAdmin] < 1)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 11 Ранга !");
		    return 1;
		}
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /bigmoney [min] [max]");
			return 1;
		}
		new Min = strval(tmp);
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /bigmoney [min] [max]");
			return 1;
		}
		new Max = strval(tmp);
		for(new j=0, i; j<MaxPlayers; j++)	{
			i = PLIDs[j];
			if( !IsPlayerConnectedEx(i) ) continue;
			new money = PlayerInfo[i][pBank] + PlayerInfo[i][pCash] + PlayerInfo[i][pDeposit];
			if(PlayerInfo[i][pHouse] >= 0 && PlayerInfo[i][pHouse] < MAX_HOUSE)
		    {   //если в банке больше нуля и у игрока есть дом
		    	if(!strcmp(PlayerName(i), HouseInfo[PlayerInfo[i][pHouse]][hOwner], true))
		    	{
					money += HouseInfo[PlayerInfo[i][pHouse]][hBuyPrice];
					money += HouseInfo[PlayerInfo[i][pHouse]][hTill];
				}
			}
			for(new limit = 0; limit < 10; limit++)
			{
				if(MyBizz[i][limit] == NOT_KEY) continue;
				new bouse = MyBizz[i][limit];
		    	if(!strcmp( PlayerName(i), BizInfo[bouse][bOwner], true))
		    	{
					money += BizInfo[bouse][bBuyPrice];
					money += BizInfo[bouse][bTill];
				}
			}
			for(new limit = 0; limit < 20; limit++)
			{
				if(MyCompany[playerid][limit] == NOT_KEY) continue;
				new sbouse = MyCompany[i][limit];
		    	if(!strcmp( PlayerName(i), SBizInfo[sbouse][sbOwner], true))
		    	{
					money += SBizInfo[sbouse][sbBuyPrice];
					money += SBizInfo[sbouse][sbTill];
				}
			}
		    if(money >= Min && money <= Max)
		    {
				format(strcmd, sizeof(strcmd), "%s[%d]: $%d", PlayerName(i), i, money);
            	SendClientMessage(playerid, COLOR_GREEN, strcmd);
		    }
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/criminal", true))///families
	{
        if(PlayerInfo[playerid][pMember] != DoJ)
        {
			SendClientMessage(playerid, COLOR_GREY, "   Вы не член Правительства !");
			return 1;
        }
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /criminal [min] [max] [value]");
			return 1;
		}
		new Min = strval(tmp);
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /criminal [min] [max] [value]");
			return 1;
		}
		new Max = strval(tmp);

        tmp = strtok(cmdtext, idx);
        if(!strlen(tmp))
		{
			new index;
			for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				if( !IsPlayerConnectedEx(i) ) continue;
			    if(Min < PlayerInfo[i][pCrimes] < Max)
			    {
	            	index ++;
					format(strcmd, sizeof(strcmd), "%d. Crimes %s[%d]: %d", index, PlayerName(i), i, PlayerInfo[i][pCrimes]);
	            	SendClientMessage(playerid, COLOR_LIGHTBROWN, strcmd);
			    }
			}
		}
		else
		{
			//if(!IsPlayerInArea(playerid, specialzone[7]))
			if(PlayerInfo[playerid][pLocal] != 241)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы - не в Мэрии !");
				return 1;
			}
	        if(PlayerInfo[playerid][pRank] != 7)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 7 Ранга !");
			    return 1;
			}
			new value = strval(tmp);//для экономики
			if(value < 100 || value > 1000) { SendClientMessage(playerid, COLOR_GREY, "   Порог нарушений может быть от 100 до 1000 !"); return 1; }
			CriminalLevel = value;
			SaveSettingsSQL();
			format(strcmd, sizeof(strcmd), "%s %s: установил в штате Сан-Андреас порог криминальных преступлений в размере %d", GetPlayerRanks(playerid), PlayerName(playerid), CriminalLevel);
			Log(ADMINLOG, strcmd);
			OOCNews(COLOR_HERBAL, "|_____________________________________ Правительственное сообщение _____________________________________|");
			OOCNews(COLOR_LIGHTBLUE, strcmd);
			//OOCNews(COLOR_HERBAL, "|__________________________________________________________________________________________________________|");
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/setcrim", true))///families
	{
        if(	PlayerInfo[playerid][pMember] != DoJ &&
        	PlayerInfo[playerid][pAdmin] != 5 &&
			PlayerInfo[playerid][pAdmin] != 7 &&
			PlayerInfo[playerid][pAdmin] != 9)
        {
			//SendClientMessage(playerid, COLOR_GREY, "   Вы не член Правительства !");
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
        }
        if(PlayerInfo[playerid][pMember] == DoJ && PlayerInfo[playerid][pRank] != 7)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 7 Ранга !");
		    return 1;
		}
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setcrim [playerid/PartOfName] [value]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
    	tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /setcrim [playerid/PartOfName] [value]");
			return 1;
		}
		new amount = strval(tmp);
		if(amount < PlayerInfo[giveplayerid][pCrimes] && PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены уменьшать кол-во преступлений!");
			return 1;
		}

		PlayerInfo[giveplayerid][pCrimes] = amount;
		format(strcmd, sizeof(strcmd), "%s {FFFFFF}%s: {FFFF00}установил %s's кол-во преступлений %d", GetPlayerRanks(playerid), PlayerName(playerid), PlayerName(giveplayerid), amount);
		Log(ADMINLOG, strcmd);
		OOCNews(COLOR_HERBAL, "|_____________________________________ Правительственное сообщение _____________________________________|");
		OOCNews(COLOR_LIGHTBLUE, strcmd);
		//OOCNews(COLOR_HERBAL, "|__________________________________________________________________________________________________________|");

		IncreaseRank(playerid, 1);
		gGotOrder[playerid] = MAX_PLAYERS-1;
		//return 1;
	}
	else if(!strcmp(cmd, "/jobs", true))///families
	{
        if(PlayerInfo[playerid][pMember] != DoJ)
        {
			SendClientMessage(playerid, COLOR_GREY, "   Вы не член Правительства !");
			return 1;
        }
        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /jobs [job] [0/1(On/Off)]");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "1: Шахтёр 2: Адвокат 3: Ремонтник 4: НаркоДилер 5: АвтоУгонщик");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "7: АвтоМеханик 8: Фермер 9: Оружейник 10: АвтоДилер");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "11: Инкассатор 12: Букмекер 13: Таксист 14: Водитель Автобуса 15: Курьер");
			SendClientMessage(playerid, COLOR_GRAYWHITE, "16: Дальнобойщик 17: Водитель Мусоровоза 18: Грузчик 19: Рыболов 20: Повар");
			return 1;
		}
        new jobs = strval(tmp);
        if(jobs < 1 || jobs > 16) { SendClientMessage(playerid, COLOR_GREY, "   Номер Работы может быть от 1 до 16 !"); return 1; }
        new jtext[20];
        if(jobs == 1) { jtext = "Шахтёр"; }
        else if(jobs == 2) { jtext = "Адвокат"; }
        else if(jobs == 3) { jtext = "Ремонтник Дорог"; }
        else if(jobs == 4) { jtext = "Наркодилер"; }
        else if(jobs == 5) { jtext = "Автоугонщик"; }
        else if(jobs == 7) { jtext = "АвтоМеханик"; }
        else if(jobs == 8) { jtext = "Фермер"; }
        else if(jobs == 9) { jtext = "Оружейник"; }
        else if(jobs == 10) { jtext = "Автодилер"; }
        else if(jobs == 11) { jtext = "Инкассатор"; }
		else if(jobs == 12) { jtext = "Букмекер"; }
		else if(jobs == 13) { jtext = "Таксист"; }//для таксистов
		else if(jobs == 14) { jtext = "Водитель автобуса"; }
        else if(jobs == 15) { jtext = "Курьер"; }
        else if(jobs == 16) { jtext = "Дальнобойщик"; }//для дальнобойщиков
        else { jtext = "None"; }

        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			new index;
			for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
			    if( !IsPlayerConnectedEx(i) ) continue;
				if(PlayerInfo[i][pJob] == jobs)
			    {
					index ++;
		            format(strcmd, sizeof(strcmd), "%d. Jobs %s[%d]: %s[%d]", index, jtext, jobs, PlayerName(i), i);
		            SendClientMessage(playerid, COLOR_LIGHTBROWN, strcmd);
			    }
			}
		}
		else
		{
			//if(!IsPlayerInArea(playerid, specialzone[7]))
			if(PlayerInfo[playerid][pLocal] != 241)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы - не в Мэрии !");
				return 1;
			}
	        if(PlayerInfo[playerid][pRank] != 3)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 3 Ранга !");
			    return 1;
			}
	        new status = strval(tmp);
			if(status < 0 || status > 1) { SendClientMessage(playerid, COLOR_GREY, "  Допустимые значения 0 или 1 !"); return 1; }
	        StatusJob[jobs] = status;
	        SaveSettingsSQL();
	        new statustext[16];
			if(status == 1) statustext = "прекратил";
			else if(status == 0) statustext = "возобновил";
			format(strcmd, sizeof(strcmd), "%s %s: %s Трудоустройство на работу %s", GetPlayerRanks(playerid), PlayerName(playerid), statustext, jtext);
   			Log(ADMINLOG, strcmd);
			OOCNews(COLOR_HERBAL, "|_____________________________________ Правительственное сообщение _____________________________________|");
			OOCNews(COLOR_LIGHTBLUE, strcmd);
			//OOCNews(COLOR_HERBAL, "|__________________________________________________________________________________________________________|");
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/jobquit", true))
	{
		if(PlayerInfo[playerid][pMember] != DoJ)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
        if(PlayerInfo[playerid][pRank] != 3)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 3 Ранга !");
		    return 1;
		}
		//if(!IsPlayerInArea(playerid, specialzone[7]))
		if(PlayerInfo[playerid][pLocal] != 241)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы - не в Мэрии !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /jobquit [playerid/PartOfName]");
			return 1;
		}
		new playername[MAX_PLAYER_NAME];
		strmid(playername, tmp, 0, strlen(tmp), MAX_PLAYER_NAME);
		//mysql_real_escape_string(playername, playername);

		giveplayerid = ReturnUser(tmp);
		if(giveplayerid == playerid)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выгнать самого себя!");
			return 1;
		}
	    if( !IsPlayerConnected(giveplayerid) && giveplayerid != playerid)
	    {   //если уволняется неиграющий
			/*if(gGotOrder[playerid] != QUIT_JOB)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы не имеете разрешения на увольнение с работы этого игрока !");
				return 1;
			}*/
			if(CheckExistPlayer(playerid, playername) == 0)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Это имя не зарегистрировано или указано не верно !");
				return 1;
			}
			new ToBase[101+MAX_PLAYER_NAME];
			format(ToBase, sizeof(ToBase), "UPDATE `players` SET `Job`=0, `ContractTime`=0, `CarTime`=0, `Materials`=0 WHERE `Name`='%s' LIMIT 1", playername);
			mysql_query(ToBase);
			format(strcmd, sizeof(strcmd), "%s {FFFFFF}%s: {0080FF}Уволил с работы %s'а", GetPlayerRanks(playerid), PlayerName(playerid), playername);
			OOCNews(COLOR_HERBAL, "|_____________________________________ Правительственное сообщение _____________________________________|");
			OOCNews(COLOR_LIGHTBLUE, strcmd);
			//OOCNews(COLOR_HERBAL, "|__________________________________________________________________________________________________________|");
		}//not connected
		else if(IsPlayerConnected(giveplayerid))
		{
			/*if(gGotOrder[playerid] != giveplayerid)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы не имеете разрешения на увольнение с работы этого игрока !");
				return 1;
			}*/
		    if(PlayerInfo[giveplayerid][pJob] <= 0)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Этот игрок безработный !");
				return 1;
			}
		    if(AFK_IdleTime[giveplayerid] >= 3)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Вы не можете выгнать игрока в AFK !");
				return 1;
			}
			if(	!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid) )
			{
				SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
				return 1;
			}
			new jobs = PlayerInfo[giveplayerid][pJob];
			new jtext[20];
	        if(jobs == 1) { jtext = "Детектив"; }
	        else if(jobs == 2) { jtext = "Адвокат"; }
	        else if(jobs == 3) { jtext = "Ремонтник Дорог"; }
	        else if(jobs == 4) { jtext = "Наркодилер"; }
	        else if(jobs == 5) { jtext = "Автоугонщик"; }
	        else if(jobs == 7) { jtext = "АвтоМеханик"; }
	        else if(jobs == 8) { jtext = "Телохранитель"; }
	        else if(jobs == 9) { jtext = "Оружейник"; }
	        else if(jobs == 10) { jtext = "Автодилер"; }
	        else if(jobs == 11) { jtext = "Инкассатор"; }
			else if(jobs == 12) { jtext = "Букмекер"; }
			else if(jobs == 13) { jtext = "Таксист"; }//для таксистов
			else if(jobs == 14) { jtext = "Водитель автобуса"; }
	        else if(jobs == 15) { jtext = "Курьер"; }
	        else if(jobs == 16) { jtext = "Дальнобойщик"; }//для дальнобойщиков
			format(strcmd, sizeof(strcmd), "%s {FFFFFF}%s: {0080FF}Уволил %s'а с работы %s'а", GetPlayerRanks(playerid), PlayerName(playerid), PlayerName(giveplayerid), jtext);
			OOCNews(COLOR_HERBAL, "|_____________________________________ Правительственное сообщение _____________________________________|");
			OOCNews(COLOR_LIGHTBLUE, strcmd);
			//OOCNews(COLOR_HERBAL, "|__________________________________________________________________________________________________________|");
			QuitJob(giveplayerid);

		}
		IncreaseRank(playerid, 1);
		gGotOrder[playerid] = MAX_PLAYERS-1;
		//return 1;
	}
	else if(!strcmp(cmd, "/settaxi", true))
    {
        if(PlayerInfo[playerid][pMember] != DoJ)
        {
			SendClientMessage(playerid, COLOR_GREY, "   Вы не член Правительства !");
			return 1;
        }
        if(PlayerInfo[playerid][pRank] != 11)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 11 Ранга !");
		    return 1;
		}
		//if(!IsPlayerInArea(playerid, specialzone[7]))
		if(PlayerInfo[playerid][pLocal] != 241)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы - не в Мэрии !");
			return 1;
		}
        tmp = strtok(cmdtext, idx);
        if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /settaxi [ammount]");
			format(strcmd, sizeof(strcmd), "На данный момент в казне находится $%d.", BizInfo[0][bTill]);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			//SendAllAdminMessage(COLOR_MAROON, strcmd, 1);
			return 1;
		}
		new percent = strval(tmp);//для экономики
		if(percent < 5 || percent > 500) { SendClientMessage(playerid, COLOR_GREY, "   Плата за проезд может быть от $5 до $500 !"); return 1; }
		TaxiValue = percent;
		//SaveSettingsSQL();
		format(strcmd, sizeof(strcmd), "%s %s: установил в штате Сан-Андреас цену проезда на такси в размере $%d", GetPlayerRanks(playerid), PlayerName(playerid), TaxiValue);
		Log(ADMINLOG, strcmd);
		OOCNews(COLOR_HERBAL, "|_____________________________________ Правительственное сообщение _____________________________________|");
		OOCNews(COLOR_LIGHTBLUE, strcmd);
		//OOCNews(COLOR_HERBAL, "|__________________________________________________________________________________________________________|");
		//return 1;
	}

	else if(!strcmp(cmd, "/compcost", true))
    {
        if(PlayerInfo[playerid][pAdmin] < 7)
        {
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
        }
        tmp = strtok(cmdtext, idx);
        if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /compcost [ammount]");
			format(strcmd, sizeof(strcmd), "На данный момент коэффициент товарооборота - %d", compcost);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			//SendAllAdminMessage(COLOR_MAROON, strcmd, 1);
			return 1;
		}
		if(strval(tmp) < 1 || strval(tmp) > 999) { SendClientMessage(playerid, COLOR_GREY, "   Коэффициент может быть от 1 до 999 !"); return 1; }
		compcost = strval(tmp);//для экономики
		SaveSettingsSQL();
		format(strcmd, sizeof(strcmd), "%s %s: установил в штате Сан-Андреас коэффициент товарооборота - %d", GetPlayerRanks(playerid), PlayerName(playerid), compcost);
		Log(ADMINLOG,  strcmd);
		OOCNews(COLOR_HERBAL, "|_____________________________________ Правительственное сообщение _____________________________________|");
		OOCNews(COLOR_LIGHTBLUE, strcmd);
		//OOCNews(COLOR_HERBAL, "|__________________________________________________________________________________________________________|");
		//return 1;
	}
	else if(!strcmp(cmd, "/fuelcost", true))
    {
        if(PlayerInfo[playerid][pMember] != DoJ)
        {
			SendClientMessage(playerid, COLOR_GREY, "   Вы не член Правительства !");
			return 1;
        }
        if(PlayerInfo[playerid][pRank] != 11)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 11 Ранга !");
		    return 1;
		}
		//if(!IsPlayerInArea(playerid, specialzone[7]))
		if(PlayerInfo[playerid][pLocal] != 241)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы - не в Мэрии !");
			return 1;
		}
        tmp = strtok(cmdtext, idx);
        if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /fuelcost [ammount]");
			format(strcmd, sizeof(strcmd), "На данный момент коэффициент на попкупку топлива равен %.1f.", FuelCost);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			//SendAllAdminMessage(COLOR_MAROON, strcmd, 1);
			return 1;
		}
		if(floatstr(tmp) < 0.1 || floatstr(tmp) > 2.0) { SendClientMessage(playerid, COLOR_GREY, "   Коэффициент может быть от 0.1 до 2.0 !"); return 1; }
		FuelCost = floatstr(tmp);//для экономики
		SaveSettingsSQL();
		format(strcmd, sizeof(strcmd), "%s %s: установил в штате Сан-Андреас коэффициент на топливо %.1f.", GetPlayerRanks(playerid), PlayerName(playerid), FuelCost);
		Log(ADMINLOG,  strcmd);
		OOCNews(COLOR_HERBAL, "|_____________________________________ Правительственное сообщение _____________________________________|");
		OOCNews(COLOR_LIGHTBLUE, strcmd);
		//OOCNews(COLOR_HERBAL, "|__________________________________________________________________________________________________________|");
		//return 1;
	}

	else if(!strcmp(cmd, "/settax", true))
    {
        if(PlayerInfo[playerid][pMember] != DoJ)
        {
			SendClientMessage(playerid, COLOR_GREY, "   Вы не член Правительства !");
			return 1;
        }
        if(PlayerInfo[playerid][pRank] != 11)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 11 Ранга !");
		    return 1;
		}
		//if(!IsPlayerInArea(playerid, specialzone[7]))
		if(PlayerInfo[playerid][pLocal] != 241)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы - не в Мэрии !");
			return 1;
		}
        tmp = strtok(cmdtext, idx);
        if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /settax [ammount]");
			format(strcmd, sizeof(strcmd), "На данный момент в казне находится $%d.", BizInfo[0][bTill]);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			//SendAllAdminMessage(COLOR_MAROON, strcmd, 1);
			return 1;
		}
		new percent = strval(tmp);//для экономики
		if(percent < 0 || percent > 20) { SendClientMessage(playerid, COLOR_GREY, "   Налог может быть от 0 до 20 процентов !"); return 1; }
		TaxValue = percent;
		SaveSettingsSQL();
		format(strcmd, sizeof(strcmd), "%s %s: установил в штате Сан-Андреас налог в размере %d%%\%%.", GetPlayerRanks(playerid), PlayerName(playerid), TaxValue);
  		Log(ADMINLOG, strcmd);
		OOCNews(COLOR_HERBAL, "|_____________________________________ Правительственное сообщение _____________________________________|");
		OOCNews(COLOR_LIGHTBLUE, strcmd);
		//OOCNews(COLOR_HERBAL, "|__________________________________________________________________________________________________________|");
		//return 1;
	}
	else if(!strcmp(cmd, "/givetax", true))
	{
        if(getdate() < 127)
        {
			format(strcmd, sizeof(strcmd), "* Команда заблокирована до %s.", getDate(127));
			SendClientMessage(playerid, COLOR_RED, strcmd);
            return 1;
        }
        if(PlayerInfo[playerid][pMember] != DoJ)
        {
			SendClientMessage(playerid, COLOR_GREY, "   Вы не член Правительства !");
			return 1;
        }
        if(PlayerInfo[playerid][pRank] != 11 && PlayerInfo[playerid][pRank] != 12)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 11 Ранга !");
		    return 1;
		}
		//if(!IsPlayerInArea(playerid, specialzone[7]))
		if(PlayerInfo[playerid][pLocal] != 241)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы - не в Мэрии !");
			return 1;
		}
        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /givetax [playerid/PartOfName] [сумма] [причина]");
    		new listitems[] = "{FFFFFF}10\t{00FF00}[DoT] Министерство Транспорта\
\n{FFFFFF}11\t{00FF00}[FBI] Федеральное Бюро Раследований\
\n{FFFFFF}12\t{00FF00}[DoD] Министерство Обороны\
\n{FFFFFF}13\t{00FF00}[DoH] Министерство Здравохранения\
\n{FFFFFF}18\t{00FF00}[SAN] Служба Новостей\
\n{FFFFFF}19\t{00FF00}[DoE] Министерство Образования";
			MenuOperation[playerid] = 120;
			ShowPlayerDialogEx1(playerid, TRANSFER_DIALOG, DIALOG_STYLE_LIST, "Выбирите Организацию:", listitems, "OK", "Cancel");
			return 1;
		}
        giveplayerid = ReturnUser(tmp);
	    if(giveplayerid == playerid)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете делать выплаты самому себе !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /givetax [playerid/PartOfName] [сумма] [причина]");
			format(strcmd, sizeof(strcmd), "На данный момент в казне находится $%d.", BizInfo[0][bTill]);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			return 1;
		}
		new ammount = strval(tmp);
		if(BizInfo[0][bTill] < 1 || ammount > BizInfo[0][bTill])
		{
		    SendClientMessage(playerid, COLOR_GREY, "   В Казне нет столько денег или сумма указана не верно !");
			return 1;
		}
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
		if(gGotOrder[giveplayerid] != SOC_PACKET)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не имеет разрешения на получения Соц. Пакета !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /givetax [playerid/PartOfName] [сумма] [причина]");
			format(strcmd, sizeof(strcmd), "На данный момент в казне находится $%d.", BizInfo[0][bTill]);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			return 1;
		}
		//new reason = strval(tmp);

	    if(PlayerInfo[giveplayerid][pBank] + ammount < 2147483647) GivePlayerMoneyB(ftax, giveplayerid, ammount);
	    else { SendClientMessage(playerid, COLOR_GREY, "   Данный игрок не может больше иметь денег на карточке."); return 1; }
	    
	//TAX -= ammount;

		BizInfo[0][bTill] -= ammount;
		BizInfo[0][bImport] += ammount;

		format(strcmd, sizeof(strcmd), "%s[%d] получил $%d из бюджета от %s[%d]. Причина: %s", PlayerName(giveplayerid), giveplayerid, ammount, PlayerName(playerid), playerid, tmp);
		SendTeamMessage(PlayerInfo[giveplayerid][pMember], COLOR_LIGHTBLUE, strcmd);
		format(strcmd, sizeof(strcmd), "* Вы передали %s[%d] из бюджета штата СА $%d.", PlayerName(giveplayerid), giveplayerid, ammount);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);

		SaveSettingsSQL();

		format(strcmd, sizeof(strcmd), "AdmCmd: %s has give %s's - $%d from tax. reason: %s", PlayerName(playerid), PlayerName(giveplayerid), ammount, tmp);
		Log(FAMILY,strcmd);

        OnePlayAnim(playerid, "DEALER", "DEALER_DEAL", 4.0, 0, 1, 1, 0, 0); // Deal Drugs
		OnePlayAnim(giveplayerid, "DEALER", "DEALER_DEAL", 4.0, 0, 1, 1, 0, 0); // Deal Drugs
		IncreaseRank(playerid, 1);
		//return 1;
	}
	else if(!strcmp(cmd, "/taketax", true))
    {
        if(PlayerInfo[playerid][pMember] != DoJ && PlayerInfo[playerid][pAdmin] != 9)
        {
			SendClientMessage(playerid, COLOR_GREY, "   Вы не член Правительства !");
			return 1;
        }
        if(PlayerInfo[playerid][pRank] != 11)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 11 Ранга !");
		    return 1;
		}
		//if(!IsPlayerInArea(playerid, specialzone[7]))
		if(PlayerInfo[playerid][pLocal] != 241)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы - не в Мэрии !");
			return 1;
		}
        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /taketax [playerid/PartOfName] [сумма] [причина]");//[1-Card, 2-Hand, 3-Deposit]
			return 1;
		}
        giveplayerid = ReturnUser(tmp);
	    if(giveplayerid == playerid && PlayerInfo[playerid][pAdmin] != 9)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете снимать деньги с самого себя !");
			return 1;
		}
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
	    if(PlayerInfo[giveplayerid][pBank] < 2)
		{
			SendClientMessage(playerid, COLOR_GREY, "   У Этого игрока зафиксирован минусовой баланс на счёте в банке !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /taketax [playerid/PartOfName] [1-Card, 2-Hand, 3-Deposit] [сумма] [причина]");
			format(strcmd, sizeof(strcmd), "На данный момент в казне находится $%d.", BizInfo[0][bTill]);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
			return 1;
		}
		if(strval(tmp) < 1 || strval(tmp) > 3)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /taketax [playerid/PartOfName] [1-Card, 2-Hand, 3-Deposit] [сумма] [причина]");
			return 1;
		}
		new operation = strval(tmp);

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /taketax [playerid/PartOfName] [1-Card, 2-Hand, 3-Deposit] [сумма] [причина]");
			return 1;
		}
		new ammount = strval(tmp);
		if(ammount < 1 || ammount+BizInfo[0][bTill] >= 2147483647)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /taketax [playerid/PartOfName] [1-Card, 2-Hand, 3-Deposit] [сумма] [причина]");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /taketax [playerid/PartOfName] [1-Card, 2-Hand, 3-Deposit] [сумма] [причина]");
			return 1;
		}

		if(operation == 1) {
			if(PlayerInfo[giveplayerid][pBank]-ammount < 0 && PlayerInfo[playerid][pAdmin] != 9) {
				SendClientMessage(playerid, COLOR_GREY, "  Операция не допустима, т.к. приведёт к минусовому балансу!");
				return 1;
			}
			GivePlayerMoneyB(ftax, giveplayerid, -ammount);
		}
		else if(operation == 2)	{
			if(GetPlayerMoneyH(giveplayerid)-ammount < 0 && PlayerInfo[playerid][pAdmin] != 9) {
				SendClientMessage(playerid, COLOR_GREY, "  Операция не допустима, т.к. приведёт к минусовому балансу!");
				return 1;
			}
			GivePlayerMoneyH(ffamily+PlayerInfo[playerid][pMember], giveplayerid, -ammount);
		}
		else if(operation == 3)	{
			if(PlayerInfo[giveplayerid][pDeposit]-ammount < 0) {
				SendClientMessage(playerid, COLOR_GREY, "  Операция не допустима, т.к. приведёт к минусовому балансу!");
				return 1;
			}
			PlaySoundForPlayer(playerid, SOUND_BASEBALL_BAT_HIT_PED);
			format(strcmd, sizeof(strcmd), "~r~%d$", ammount);
			GameTextForPlayerEx(playerid, strcmd, 1000, 1);
			PlayerInfo[giveplayerid][pDeposit] -= ammount;
		}
		/*else
		{
			SendClientMessage(playerid, COLOR_GREY, "  Не указан тип Операции!");
			return 1;
		}*/
		if(BizInfo[0][bTill]+ammount < 2147480000) { BizInfo[0][bTill] += ammount; BizInfo[0][bExport] += ammount; }
		format(strcmd, sizeof(strcmd), "%s[%d] лишился суммы в $%d по решению %s[%d]. Причина: %s", PlayerName(giveplayerid), giveplayerid, ammount, PlayerName(playerid), playerid, tmp);
		//SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
		SendTeamMessage(PlayerInfo[giveplayerid][pMember], COLOR_LIGHTBLUE, strcmd);

		format(strcmd, sizeof(strcmd), "* Вы передали в бюджет штата СА $%d от %s[%d].", ammount, PlayerName(giveplayerid), giveplayerid);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);

		SaveSettingsSQL();

		format(strcmd, sizeof(strcmd), "AdmCmd: %s has take %s's - $%d to tax. reason: %s", PlayerName(playerid), PlayerName(giveplayerid), ammount, tmp);
		Log(FAMILY,strcmd);

		IncreaseRank(playerid, 1);
		//return 1;
	}
	//--------------------------------------------------------------------------
	else if(!strcmp(cmd, "/noooc", true))
	{
		if(	PlayerInfo[playerid][pAdmin] < 1 &&
			PlayerInfo[playerid][pMember] != SAN)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
  		}
		if(	PlayerInfo[playerid][pMember] == SAN && PlayerInfo[playerid][pRank] < 6)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 6 Ранга !");
			return 1;
  		}
		if(	gOffGeneralChat)
		{
			gOffGeneralChat = 0;
			format(strcmd, sizeof(strcmd), "AdmCmd: Общий Чат заблокирован %s !", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
			SendClientMessageToAll(COLOR_GREY, strcmd);
		}
		else
		{
			gOffGeneralChat = 1;
			format(strcmd, sizeof(strcmd), "AdmCmd: Общий Чат разблокирован %s !", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
			SendClientMessageToAll(COLOR_GREY, strcmd);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/realchat", true))
	{
		if(PlayerInfo[playerid][pAdmin] < 5)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
  		}
		if(gRealChat == 1)
		{
			gRealChat = 0;
			format(strcmd, sizeof(strcmd), "AdmCmd: Обычный Чат заблокировал %s !", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
			SendClientMessageToAll(COLOR_GREY, strcmd);
		}
		else //if(!gRealChat)
		{
			gRealChat = 1;
			format(strcmd, sizeof(strcmd), "AdmCmd: Обычный Чат разблокировал %s !", PlayerName(playerid));
			//Log(ADMINLOG, strcmd);
			SendClientMessageToAll(COLOR_GREY, strcmd);
		}
		//return 1;
	}
	//для курьеров
	else if(!strcmp(cmd, "/sellpaper", true))
	{
        if(PlayerInfo[playerid][pJob] != 15)
        {
			SendClientMessage(playerid, COLOR_GREY, "   Вы не Курьер");
            return 1;
        }
        if(!GotPaper[playerid])
        {
            SendClientMessage(playerid, COLOR_GREY, "   У Вас при себе нет Газеты со Студии Новостей !");
            return 1;
        }
        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /sellpaper [playerid/PartOfName] [price]");
			return 1;
		}
        giveplayerid = ReturnUser(tmp);
 		if(giveplayerid == playerid)
	    {
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не можете продовать газету самому себе!");
		    return 1;
		}

		if((GetTickCount()-iOfferTime[playerid]) < 30000)
		{   //если прошло время меньше 60 секунд с момента нажатия Cancel другим игроком
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы можете делать предложение раз в 30 секунд.");
		    return 1;
	    }
        tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /sellpaper [playerid/PartOfName] [price]");
			return 1;
		}
		new moneys = strval(tmp);
		if(PlayerInfo[playerid][pCourierSkill] >= 400)
		{
			if(moneys < 10 || moneys > 500) { SendClientMessage(playerid, COLOR_GREY, "   Стоимость газеты не ниже 10$ и не выше 500$ !"); return 1; }
		}
		else if(PlayerInfo[playerid][pCourierSkill] >= 200)
		{
			if(moneys < 10 || moneys > 400) { SendClientMessage(playerid, COLOR_GREY, "   Стоимость газеты не ниже 10$ и не выше 400$ !"); return 1; }
		}
		else if(PlayerInfo[playerid][pCourierSkill] >= 100)
		{
			if(moneys < 10 || moneys > 300) { SendClientMessage(playerid, COLOR_GREY, "   Стоимость газеты не ниже 10$ и не выше 300$ !"); return 1; }
		}
		else if(PlayerInfo[playerid][pCourierSkill] >= 50)
		{
			if(moneys < 10 || moneys > 200) { SendClientMessage(playerid, COLOR_GREY, "   Стоимость газеты не ниже 10$ и не выше 200$ !"); return 1; }
		}
		else
		{
			if(moneys < 10 || moneys > 100) { SendClientMessage(playerid, COLOR_GREY, "   Стоимость газеты не ниже 10$ и не выше 100$ !"); return 1; }
		}
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid); SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}

		if(!IsPlayerInRangeOfPlayer(8.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
		if(GetPlayerMoneyH(giveplayerid) < moneys)
	    {
		    SendClientMessage(playerid, COLOR_GREY, "   Игрок не может оплатить покупку!");
		    return 1;
		}
		if(GotPaper[giveplayerid])
	    {
		    SendClientMessage(playerid, COLOR_GREY, "   Игрок уже получил газету!");
		    return 1;
		}
		if(GetPVarInt(giveplayerid, "gShowDialog") != -1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   У игрока открыто диалоговое окно!");
			SendClientMessage(playerid, COLOR_GREY, "   Подождите когда игрок закроет Диалоговое окно !");
			return 1;
		}

		format(strcmd, sizeof(strcmd), "* Вы предложили одну из ваших Газет %s'у.", PlayerName(giveplayerid));
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		new msgitem[87+24+10];
		format(msgitem, sizeof(msgitem), "* Курьер %s хочет продать вам Газету за $%d .\n\n Нажмите Accept, чтобы купить газету.", PlayerName(playerid), moneys);
		//SendClientMessage(giveplayerid, COLOR_LIGHTBLUE, strcmd);
		Offer[giveplayerid] = playerid;//ID курьера для этого игрока
		PaperPrice[giveplayerid] = moneys;//цена для этого игрока
		MenuOperation[giveplayerid] = 20;
		ShowPlayerDialogEx(giveplayerid, ACCEPT_DIALOG, DIALOG_STYLE_MSGBOX, "Разносчик Газет", msgitem, "Accept", "Cancel");
		//return 1;
	}
	else if(!strcmp(cmd, "/bring", true))//для курьеров
	{
        if(PlayerInfo[playerid][pJob] != 15)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не Разносчик Газет !");
            return 1;
        }
		//if(!IsPlayerInRangeOfPoint(playerid, 3.0, -2050.8962,460.0262,35.1719))
		//if(!IsPlayerInRangeOfPoint(playerid, 3.0, 2164.4080,1600.1506,999.9773))
		if(!IsPlayerInRangeOfPoint(playerid, 3.0, 844.6560,-1045.5555,25.4300))
		{
		    SendClientMessage(playerid, COLOR_GREY, "    Вы не у Здания Редакции Новостей !");
		    return 1;
		}
	    tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /bring [paper number]");
			return 1;
		}
        new paper = strval(tmp);
        if(paper < 1 || paper > 30) { SendClientMessage(playerid, COLOR_GREY, "   Номер Газеты может быть от 1 до 30 !"); return 1; }
		TakePaper[playerid] = paper;
		paper -= 1;//корректировка в массиве
		if(PaperInfo[paper][PaperUsed] == 0)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   За этим номером нету Газеты !");
		    return 1;
		}
		SendClientMessage(playerid, COLOR_GRAYWHITE, "* Bы теперь можете развозить Газеты людям (USE: /sellpaper [playerid/PartOfName])");
        format(strcmd, sizeof(strcmd), "Газета: %s, Редактор: %s.",PaperInfo[paper][PaperTitle],PaperInfo[paper][PaperMaker]);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
		strmid(Paper[playerid][pMaker], PaperInfo[paper][PaperMaker], 0, strlen(PaperInfo[paper][PaperMaker]), MAX_PLAYER_NAME);
		strmid(Paper[playerid][pTitle], PaperInfo[paper][PaperTitle], 0, strlen(PaperInfo[paper][PaperTitle]), 32);
		strmid(Paper[playerid][pLine1], PaperInfo[paper][PaperText1], 0, strlen(PaperInfo[paper][PaperText1]), 70);
		strmid(Paper[playerid][pLine2], PaperInfo[paper][PaperText2], 0, strlen(PaperInfo[paper][PaperText2]), 70);
		strmid(Paper[playerid][pLine3], PaperInfo[paper][PaperText3], 0, strlen(PaperInfo[paper][PaperText3]), 70);
		strmid(Paper[playerid][pLine4], PaperInfo[paper][PaperText4], 0, strlen(PaperInfo[paper][PaperText4]), 70);
		strmid(Paper[playerid][pLine5], PaperInfo[paper][PaperText5], 0, strlen(PaperInfo[paper][PaperText5]), 70);
		strmid(Paper[playerid][pLine6], PaperInfo[paper][PaperText6], 0, strlen(PaperInfo[paper][PaperText6]), 70);
		strmid(Paper[playerid][pLine7], PaperInfo[paper][PaperText7], 0, strlen(PaperInfo[paper][PaperText7]), 70);
		strmid(Paper[playerid][pLine8], PaperInfo[paper][PaperText8], 0, strlen(PaperInfo[paper][PaperText8]), 70);
		strmid(Paper[playerid][pLine9], PaperInfo[paper][PaperText9], 0, strlen(PaperInfo[paper][PaperText9]), 70);
		strmid(Paper[playerid][pLine10], PaperInfo[paper][PaperText10], 0, strlen(PaperInfo[paper][PaperText10]), 70);
		strmid(Paper[playerid][pLine11], PaperInfo[paper][PaperText11], 0, strlen(PaperInfo[paper][PaperText11]), 70);
		Paper[playerid][pDate] = PaperInfo[paper][PaperDate];

		GotPaper[playerid] = 1;//получил тоже газету

		if(CP[playerid] != 0)
		{   //если предыдущее задание не выполнено
		   	SendClientMessage(playerid, COLOR_GREY, "   Вы уже взяли газету ! Поторопитесь !");
			return 1;
		}
	    PlayerInfo[playerid][pCarTime] = 0;//обнуляем при получении задания, т.к. не всегда обнуляется
		DisablePlayerCheckpointEx(playerid);
	    if(PlayerInfo[playerid][pMember] != SAN)
	    {
			gTextDrawShowCarTime[playerid] = true; OnPlayerTextDrawStateChange(playerid);
			new level = PlayerInfo[playerid][pCourierSkill];
			if(level < 50)
			{
				SendClientMessage(playerid, COLOR_GREEN, "Pаботодатель: {0080FF}Доставь её туда, куда указывает красный маркер.>>");
			    PlayerInfo[playerid][pCarTime] = 1200;//установить время отсчёта - запуститься таймер
			}
			else if(level >= 50 && level < 100)
			{
			    PlayerInfo[playerid][pCarTime] = 1080;//1080
			}
			else if(level >= 100 && level < 200)
			{
			    PlayerInfo[playerid][pCarTime] = 960;
			}
			else if( level >= 200 && level < 400)
			{
			    PlayerInfo[playerid][pCarTime] = 840;
			}
			else if(level >= 400)
			{
			    PlayerInfo[playerid][pCarTime] = 720;
			}
			new rand = random(MAX_HOUSE);//выбираем строку из массива randGRUZ, и берем от туда параметры контрольной точки
			CP[playerid] = CP_PAPERBOY;//получено задание 150: Миссия курьера
			SetPlayerCheckpointEx(playerid,
				HouseInfo[rand][hEntranceX],
				HouseInfo[rand][hEntranceY],
				HouseInfo[rand][hEntranceZ],
				CHECKPOINT_SIZE);

			checktimedeliver[playerid] = GetTickCount();
		    format(strings, sizeof(strings), "При доставке быстрее чем за %d секунд у вас обнулится скилл.", MinTimeCheckpoint[playerid]/1000);
		    SendClientMessage(playerid, COLOR_LIGHTBLUE, strings);

			GameTextForPlayerEx(playerid, "~w~Paper Delivery~n~~r~Deliver the shipment at the Spot", 5000, 1);
			BringingPaper[playerid] = 1 + rand;//взял газету
		}
		else
		{
			SendClientMessage(playerid, COLOR_LIGHTBLUE, "Вы взяли газету, для продажи газеты (USE: /sellpaper).");
			SendClientMessage(playerid, COLOR_GREEN, "Pаботодатель: {0080FF}Теперь вы можете продавать газеты населению штата.>>");
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/papers", true))//для газет
	{
        if(PlayerInfo[playerid][pJob] != 15 && PlayerInfo[playerid][pMember] != SAN)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 1;
		}
		//if(!IsPlayerInRangeOfPoint(playerid, 3.0, -2050.8962,460.0262,35.1719))
		//if(!IsPlayerInRangeOfPoint(playerid, 3.0, 2164.4080,1600.1506,999.9773))
		if(	PlayerInfo[playerid][pJob] == PAPERBOY &&
			PlayerInfo[playerid][pMember] != SAN &&
			!IsPlayerInRangeOfPoint(playerid, 3.0, 844.6560,-1045.5555,25.4300))
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не у Здания Редакции Новостей !");
		    return 1;
		}
		if(PlayerInfo[playerid][pMember] == SAN && !IsPlayerInRangeOfPoint(playerid, 3.0, 2164.4080,1600.1506,999.9773))
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не в Здания Студии Новостей !");
		    return 1;
		}
	    new number = 0;
	    for(new p = 0; p < PAPERLINE; p++)
	    {
	        number ++;
	        if(PaperInfo[p][PaperUsed] != 0)
	    	{   //cканируем все написанные газеты
	        	format(strcmd, sizeof(strcmd), "Newspaper %d: %s, By: %s",number,PaperInfo[p][PaperTitle],PaperInfo[p][PaperMaker]);
				SendClientMessage(playerid, COLOR_WHITE, strcmd);
			}
	    }
		//return 1;
	}
	else if(!strcmp(cmd, "/paper", true))//для газет STEP1
	{
        if(PlayerInfo[playerid][pMember] != SAN)
        {
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не Репортер Новостей !");
            return 1;
		}
		if(!IsPlayerInRangeOfPoint(playerid, 3.0, 2164.4080,1600.1506,999.9773))
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не в Здания Редакции Новостей !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /paper write [papernr] or /paper delete [papernr]");
		    return 1;
		}
	    if(!strcmp(tmp, "write", true))//для газет STEP2
		{
            tmp = strtok(cmdtext, idx);
		    if(!strlen(tmp))
			{
			    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /paper write [papernr]");
			    return 1;
			}
			new paper = strval(tmp);
			if(paper < 1 || paper > 30) { SendClientMessage(playerid, COLOR_GREY, "   Номер Газеты может быть от 1 до 30 !"); return 1; }
			paper -= 1;
			if(PaperInfo[paper][PaperUsed] != 0)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   С этим номером есть уже Газета !");
			    return 1;
			}
			SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Вы принялись за создание новой Газеты. Все, что Вы печатаете теперь, будет добавлено в Газету, Вы имеете 11 строк в наличии.");
			SendClientMessage(playerid, COLOR_RED, "   Длина строки должна не превышать 70 символов, т.е. не больше чем область для ввода строки !");
			SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Пожалуйста придумайте Название вашей Газеты длиной не более 32 символа !");
			WritingPaper[playerid] = 1;//подняли флаг, чтобы писать газету
			WritingStep[playerid] = 1;//флаг для название для вашей газеты
			WritingPaperNumber[playerid] = paper;//номер газеты т.е. строка массива куда будем всё писать
		}
		else if(!strcmp(tmp, "delete", true))
		{
		    if(PlayerInfo[playerid][pRank] < 8)
		    {
		        SendClientMessage(playerid, COLOR_GREY, "   Вы должны иметь Ранг 8, чтобы Удалять Газеты !");
		        return 1;
		    }
	        tmp = strtok(cmdtext, idx);
		    if(!strlen(tmp))
			{
			    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /paper delete [papernr]");
			    return 1;
			}
			new paper = strval(tmp);
			if(paper < 1 || paper > 30) { SendClientMessage(playerid, COLOR_GREY, "   Номер Газеты может быть от 1 до 30 !"); return 1; }
			//paper -= 1;
			ClearPaper(paper-1);
			//new number = paper; number += 1;
			format(strcmd, sizeof(strcmd), "   Bы удалили Газету %d.", paper);
			SendClientMessage(playerid, COLOR_YELLOW, strcmd);

		    for(new p = 0; p < PAPERLINE; p++)
		    {
		        if(PaperInfo[p][PaperUsed] == 0)
		    	{   //удаляем все пустышки
		        	ClearPaper(p);
				}
		    }
		    SavePapers();
		}
		else
		{
		    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /paper write [papernr] or /paper delete [papernr]");
		}
	    //return 1;
    }
	else if(!strcmp(cmd, "/read", true))//для газет
    {
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /read [name]");
			SendClientMessage(playerid, COLOR_GREY, "Available names: Paper, TestPaper");
			return 1;
		}
		new strtmp[70];
        if(!strcmp(tmp, "paper", true))//	/read paper
		{
			new location = GetHouseLocation(playerid);
		    if(GotPaper[playerid])
		    {
				new bigmsgitem[1304];
       			format(strtmp, sizeof(strtmp), "%s | News Reporter: %s\n",Paper[playerid][pTitle],Paper[playerid][pMaker]);
				strins(bigmsgitem, strtmp, strlen(bigmsgitem));
       			format(strtmp, sizeof(strtmp), "%s\n",Paper[playerid][pLine1]);
				strins(bigmsgitem, strtmp, strlen(bigmsgitem));
       			format(strtmp, sizeof(strtmp), "%s\n",Paper[playerid][pLine2]);
				strins(bigmsgitem, strtmp, strlen(bigmsgitem));
				format(strtmp, sizeof(strtmp), "%s\n",Paper[playerid][pLine3]);
				strins(bigmsgitem, strtmp, strlen(bigmsgitem));
				format(strtmp, sizeof(strtmp), "%s\n",Paper[playerid][pLine4]);
				strins(bigmsgitem, strtmp, strlen(bigmsgitem));
				format(strtmp, sizeof(strtmp), "%s\n",Paper[playerid][pLine5]);
				strins(bigmsgitem, strtmp, strlen(bigmsgitem));
				format(strtmp, sizeof(strtmp), "%s\n",Paper[playerid][pLine6]);
				strins(bigmsgitem, strtmp, strlen(bigmsgitem));
				format(strtmp, sizeof(strtmp), "%s\n",Paper[playerid][pLine7]);
				strins(bigmsgitem, strtmp, strlen(bigmsgitem));
				format(strtmp, sizeof(strtmp), "%s\n",Paper[playerid][pLine8]);
				strins(bigmsgitem, strtmp, strlen(bigmsgitem));
				format(strtmp, sizeof(strtmp), "%s\n",Paper[playerid][pLine9]);
				strins(bigmsgitem, strtmp, strlen(bigmsgitem));
				format(strtmp, sizeof(strtmp), "%s\n",Paper[playerid][pLine10]);
				strins(bigmsgitem, strtmp, strlen(bigmsgitem));
				format(strtmp, sizeof(strtmp), "%s\n",Paper[playerid][pLine11]);
				strins(bigmsgitem, strtmp, strlen(bigmsgitem));
				//format(strtmp, sizeof(strtmp), "_____________________________________________________________________\n");
				//strins(bigmsgitem, strtmp, strlen(bigmsgitem), sizeof(strtmp));
				format(strcmd, sizeof(strcmd), "Если Вам понравилась газета, нажмите кнопку 'YES'.\n");
				strins(bigmsgitem, strcmd, strlen(bigmsgitem));
				if(strlen(bigmsgitem) >= sizeof(bigmsgitem))
				{
					//ИНФОРМИРОВАНИЕ
					format(strcmd, sizeof(strcmd), "Error35: Newspaper %s[%d], strlen(bigmsgitem): %d, sizeof(bigmsgitem): %d",
						PlayerName(playerid), playerid, strlen(bigmsgitem), sizeof(bigmsgitem));
					Log(ERROR, strcmd);
					return 1;
				}
				if(strlen(bigmsgitem) <= 0)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Newspaper пуст");//COLOR_BLUEGREY
					return 1;
				}
				new caption[35+19+3];
				format(caption, sizeof(caption), "Newspaper %s: Выпуск %d", HostName, Paper[playerid][pDate]);
				ShowPlayerDialogEx1(playerid, NEWS_DIALOG, DIALOG_STYLE_LIST, caption, bigmsgitem, "YES", "NO");
		    }
	     	if(HouseInfo[location][hPaper] <= 0)
	     	{
		        SendClientMessage(playerid, COLOR_GREY, "   В этот дом ещё не поступала свежая пресса !");
		        return 1;
	     	}
	        new paper = HouseInfo[location][hPaper]-1;
			new bigmsgitem[1304];
   			format(strtmp, sizeof(strtmp), "%s | News Reporter: %s\n",PaperInfo[paper][PaperTitle],PaperInfo[paper][PaperMaker]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
   			format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText1]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
   			format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText2]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
			format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText3]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
			format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText4]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
			format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText5]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
			format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText6]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
			format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText7]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
			format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText8]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
			format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText9]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
			format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText10]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
			format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText11]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
			//format(strcmd, sizeof(strcmd), "Если Вам понравилась газета, нажмите кнопку 'YES'.\n");
			//strins(bigmsgitem, strcmd, strlen(bigmsgitem), strlen(strcmd));
			if(strlen(bigmsgitem) >= sizeof(bigmsgitem))
			{
				//ИНФОРМИРОВАНИЕ
				format(strcmd, sizeof(strcmd), "Error36: Newspaper %s[%d], strlen(bigmsgitem): %d, sizeof(bigmsgitem): %d",
					PlayerName(playerid), playerid, strlen(bigmsgitem), sizeof(bigmsgitem));
				Log(ERROR, strcmd);
				return 1;
			}
			if(strlen(bigmsgitem) <= 0)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Newspaper пуст");
				return 1;
			}
			new caption[35+19+3];
			format(caption, sizeof(caption), "Newspaper %s: Выпуск %d", HostName, PaperInfo[paper][PaperDate]);
			ShowPlayerDialogEx1(playerid, NEWS_DIALOG, DIALOG_STYLE_LIST, caption, bigmsgitem, "YES", "NO");

	        //SendClientMessage(playerid, COLOR_GREY, "   Вы не Журналист !");
		    //SendClientMessage(playerid, COLOR_GREY, "   У вас нет больше газет !");
		}
		else if(!strcmp(tmp, "testpaper", true))
		{
		    if(PlayerInfo[playerid][pMember] != SAN)//для репортёров
			{
       			SendClientMessage(playerid, COLOR_GREY, "   Вы не Репортёр !");
			    return 1;
			}
		    tmp = strtok(cmdtext, idx);
			if(!strlen(tmp)) {
				SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /read testpaper [papernr]");
				return 1;
			}
			new paper = strval(tmp);
			if(paper < 1 || paper > 30) { SendClientMessage(playerid, COLOR_GREY, "   Номер Газеты может быть от 1 до 30 !"); return 1; }
			paper -= 1;
			if(PaperInfo[paper][PaperUsed] == 0)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Нет Газеты, написанной под этим номером !");
			    return 1;
			}
			if(PaperInfo[paper][PaperDate] == 0)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Нет Газеты, сохранённой под этим номером !");
			    return 1;
			}
			new bigmsgitem[1304];
      		format(strtmp, sizeof(strtmp), "%s | News Reporter: %s\n",PaperInfo[paper][PaperTitle],PaperInfo[paper][PaperMaker]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
      		format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText1]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
     		format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText2]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
			format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText3]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
			format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText4]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
			format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText5]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
			format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText6]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
			format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText7]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
			format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText8]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
			format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText9]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
			format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText10]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
			format(strtmp, sizeof(strtmp), "%s\n",PaperInfo[paper][PaperText11]);
			strins(bigmsgitem, strtmp, strlen(bigmsgitem));
			//format(strtmp, sizeof(strtmp), "_____________________________________________________________________\n");
			//strins(bigmsgitem, strtmp, strlen(bigmsgitem), sizeof(strtmp));
			if(strlen(bigmsgitem) >= sizeof(bigmsgitem))
			{
				//ИНФОРМИРОВАНИЕ
				format(strcmd, sizeof(strcmd), "Error37: Newspaper %s[%d], strlen(bigmsgitem): %d, sizeof(bigmsgitem): %d",
					PlayerName(playerid), playerid, strlen(bigmsgitem), sizeof(bigmsgitem));
				Log(ERROR, strcmd);
				return 1;
			}
			if(strlen(bigmsgitem) <= 0)
			{
				SendClientMessage(playerid, COLOR_GREY, "   Newspaper пуст");//COLOR_BLUEGREY
				return 1;
			}
			new caption[35+19+3];
			format(caption, sizeof(caption), "Newspaper %s: Выпуск %d", HostName, PaperInfo[paper][PaperDate]);
			ShowPlayerDialogEx1(playerid, NEWS_DIALOG, DIALOG_STYLE_LIST, caption, bigmsgitem, "YES", "NO");
		}
		else
		{
		    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /read testpaper [papernr]");
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/questioning", true) || !strcmp(cmd, "/quest", true))//для опроса STEP1
	{
	    //SendClientMessage(playerid, COLOR_GREY, "   Временно не работает !");
        if(PlayerInfo[playerid][pMember] != SAN)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не Репортер Новостей !");
            return 1;
		}
		if(PlayerInfo[playerid][pRank] < 6)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вам нужен Ранг 6, чтобы создавать Опрос !");
		    return 1;
		}
		if(!IsPlayerInRangeOfPoint(playerid, 3.0, 2164.4080,1600.1506,999.9773))
		{
		    //SendClientMessage(playerid, COLOR_GREY, "   Вы не в Здания Редакции Новостей !");
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны находиться возле журнала в Здании Редакции Новостей !");
		    return 1;
		}
		if(Question[qApprove])
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Идёт голосование (USE: /approve) !");
		    return 1;
		}
		if(WritingQuestion[playerid] > 0)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Составление Опроса уже начато !");
		    return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /questioning [line] [style]");
			SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Пожалуйста укажите кол-во вариантов ответа от 1 до 10 и стиль опроса!");
		    return 1;
		}
		if(strval(tmp) < 1 || strval(tmp) > 10)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /questioning [line] [style]");
			SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Пожалуйста укажите кол-во вариантов ответа от 1 до 10.");
		    return 1;
		}
		Question[qLine] = strval(tmp);

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /questioning [line] [style]");
			SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Пожалуйста укажите стиль опроса!");
			SendClientMessage(playerid, COLOR_GREY, "Style: 0 - окно с 2-мя вариантами ответа");
			SendClientMessage(playerid, COLOR_GREY, "Style: 1 - окно с полем для ввода номера ответа");
			SendClientMessage(playerid, COLOR_GREY, "Style: 2 - окно со списком вариантов ответа");
		    return 1;
		}
		if(strval(tmp) < 0 || strval(tmp) > 2)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /questioning [line] [style]");
			SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Пожалуйста укажите стиль опроса и кол-во вариантов ответа от 1 до 10.!");
			SendClientMessage(playerid, COLOR_GREY, "Style: 0 - окно с 2-мя вариантами ответа");
			SendClientMessage(playerid, COLOR_GREY, "Style: 1 - окно с полем для ввода номера ответа");
			SendClientMessage(playerid, COLOR_GREY, "Style: 2 - окно со списком вариантов ответа");
			return 1;
		}
		Question[qStyle] = strval(tmp);

		strmid(Question[qMaker], PlayerName(playerid), 0, MAX_PLAYER_NAME, MAX_PLAYER_NAME);
		WritingQuestion[playerid] = 1;//опрос
		WritingStep[playerid] = 0;//флаг для начала
		strdel(Question[qCaption], 0, 65);
		//strdel(Question[qInfoFull], 0, 712);
		strdel(Question[qInfo], 0, 700);
		strdel(Question[qInfo1], 0, 70);
		strdel(Question[qInfo2], 0, 70);
		strdel(Question[qInfo3], 0, 70);
		strdel(Question[qInfo4], 0, 70);
		strdel(Question[qInfo5], 0, 70);
		strdel(Question[qInfo6], 0, 70);
		strdel(Question[qInfo7], 0, 70);
		strdel(Question[qInfo8], 0, 70);
		strdel(Question[qInfo9], 0, 70);
		strdel(Question[qInfo10], 0, 70);
		strdel(Question[qButton1], 0, 10);
		strdel(Question[qButton2], 0, 10);

		SendClientMessage(playerid, COLOR_PINK, "   Вы принялись за создание Опроса. Все, что Вы печатаете теперь, будет определять вид Опроса. Вы можете задать только 1 вопрос.");
		SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Пожалуйста сформулируйте Вопрос. Он будет размещен в заголовке окна.");
		//return 1;
	}

	else if(!strcmp(cmd, "/vote", true))//для голосования STEP1
	{
        if(	PlayerInfo[playerid][pMember] != SAN
			&& PlayerInfo[playerid][pAdmin] != 7 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    //SendClientMessage(playerid, COLOR_GREY, "   Вы не Репортер Новостей !");
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
		}
		if(PlayerInfo[playerid][pMember] == SAN && PlayerInfo[playerid][pRank] < 6)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вам нужен Ранг 6, чтобы создавать Опрос !");
		    return 1;
		}
		if(PlayerInfo[playerid][pMember] == SAN && !IsPlayerInRangeOfPoint(playerid, 3.0, 2164.4080,1600.1506,999.9773))
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не в Здания Редакции Новостей !");
		    return 1;
		}
		if(Question[qApprove])
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Идёт голосование (USE: /approve) !");
		    return 1;
		}
		if(WritingQuestion[playerid] > 0)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Составление Опроса уже начато !");
		    return 1;
		}

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /vote [line] [days]");
			SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Пожалуйста укажите кол-во вариантов ответа от 1 до 10 и кол-во дней проведения голосования.");
		    return 1;
		}
		if(strval(tmp) < 1 || strval(tmp) > 10)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /vote [line] [days]");
			SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Пожалуйста укажите кол-во вариантов ответа от 1 до 10.");
		    return 1;
		}
		Question[qLine] = strval(tmp);

		Question[qStyle] = 2;

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /vote [line] [days]");
			SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Пожалуйста укажите кол-во дней проведения голосования.");
		    return 1;
		}
		if(strval(tmp) < 0 || strval(tmp) > (365-getdate()) )
		{
			format(strcmd, sizeof(strcmd), "USE: /vote [line] [days 0-%d]", 365-getdate());
			SendClientMessage(playerid, COLOR_GRAYWHITE, strcmd);
		    return 1;
		}
		Question[qDays] = strval(tmp);
		Question[qEnd] = getdate()+Question[qDays];

		strmid(Question[qMaker], PlayerName(playerid), 0, MAX_PLAYER_NAME, MAX_PLAYER_NAME);
		WritingQuestion[playerid] = 2;//голосование
		WritingStep[playerid] = 0;//флаг для начала
		strdel(Question[qCaption], 0, 65);
		//strdel(Question[qInfoFull], 0, 712);
		strdel(Question[qInfo], 0, 700);
		strdel(Question[qInfo1], 0, 70);
		strdel(Question[qInfo2], 0, 70);
		strdel(Question[qInfo3], 0, 70);
		strdel(Question[qInfo4], 0, 70);
		strdel(Question[qInfo5], 0, 70);
		strdel(Question[qInfo6], 0, 70);
		strdel(Question[qInfo7], 0, 70);
		strdel(Question[qInfo8], 0, 70);
		strdel(Question[qInfo9], 0, 70);
		strdel(Question[qInfo10], 0, 70);
		strdel(Question[qButton1], 0, 10);
		strdel(Question[qButton2], 0, 10);
		SendClientMessage(playerid, COLOR_PINK, "   Вы принялись за создание Голосования. Все, что Вы печатаете теперь, будет определять вид Опроса. Вы можете задать только 1 вопрос.");
		SendClientMessage(playerid, COLOR_GREY, "   Не используйте символы: '");
		SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Пожалуйста сформулируйте Вопрос. (Пример: Кто, по вашему мнению, достоин места губернатора?)");
		//return 1;
	}
	else if(!strcmp(cmd, "/approve", true))
	{
        if(	PlayerInfo[playerid][pMember] != SAN &&
			PlayerInfo[playerid][pAdmin] != 4 &&
			PlayerInfo[playerid][pAdmin] != 7 &&
			PlayerInfo[playerid][pAdmin] != 9)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        /*if(PlayerInfo[playerid][pMember] != SAN)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не Репортер Новостей !");
            return 1;
		}*/
		if(PlayerInfo[playerid][pMember] == SAN && PlayerInfo[playerid][pRank] < 6)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вам нужен Ранг 6, чтобы создавать Опрос !");
		    return 1;
		}
    	/*tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /approve [day] (0-Создание Голосования разрешено)");
			format(strcmd, sizeof(strcmd), "approve: %d", Question[qApprove]);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		Question[qApprove] = strval(tmp);*/

		new ToBase[33+1];
        if(!Question[qApprove])
        {
			Question[qApprove] = 1;
			SendAllAdminMessage(COLOR_RED, "Создание Голосования запрещено !!!", 4);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has running Vote", PlayerName(playerid));
		}
		else
        {
			Question[qApprove] = 0;
			SendAllAdminMessage(COLOR_RED, "Создание Голосования разрешено !!!", 4);
			format(strcmd, sizeof(strcmd), "AdmCmd: %s has stoped Vote", PlayerName(playerid));
		}

		format(ToBase, sizeof(ToBase), "UPDATE `vote` SET `approve` = %d", Question[qApprove]);
		mysql_query(ToBase);
  		Log(ADMINLOG, strcmd);
		//return 1;
	}
	//--------------------------------------------------------------------------
	else if(!strcmp(cmd, "/gps", true) || !strcmp(cmd, "/tp", true))
	{
	    /*if(PlayerInfo[playerid][pGPS] == 0 && PlayerInfo[playerid][pAdmin] != 9)
	    {
	        SendClientMessage(playerid, COLOR_GREY, "   У вас отсутствует GPS-Навигатор !");
			return 1;
	    }*/
		if(CP[playerid] != 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете в данный момент воспользоваться поисковой системой !");
			return 1;
		}
       	if(PlayerInfo[playerid][pInt] != 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы должны находится Не в Интерьере !");
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			if(PlayerInfo[playerid][pAdmin] >= 6)  SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /tp [playerid/number]");
			else SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /gps [playerid/number]");
			SendClientMessage(playerid, COLOR_GRAD11, "| LS: {A5C3E7}1001:Полицейский участок 1002:Больница 1003:Тюн TransFender 1004:Тюн LocoLowCo 1005:Магазин рыбалова");
			SendClientMessage(playerid, COLOR_GRAD11, "| LS: {A5C3E7}1006:Наркопритон 1007:Motel 1008:Здание новостей 1009:Дерби 8Ball");
			SendClientMessage(playerid, COLOR_GRAD10, "| SF: {A5C3E7}1010:Полицейский участок 1011:Больница 1012:Церковь 1013:Автошкола 1014:Мэрия");
			SendClientMessage(playerid, COLOR_GRAD10, "| SF: {A5C3E7}1015:Автосалон 1016:Тюн TransFender 1017:Тюн WheelArchAngels 1018:BloodBowl");
			SendClientMessage(playerid, COLOR_GRAD9, "| LV: {A5C3E7}1019:Полицейский участок 1020:Больница 1021:Церковь");
			SendClientMessage(playerid, COLOR_GRAD9, "| LV: {A5C3E7}1022:Тюн TransFender 1023:Студия Новостей 1024:Паркинг 1025:KickStart");
			SendClientMessage(playerid, COLOR_GRAD8, "| Other: {A5C3E7}1026:Bank 1027:Церковь 1028:Zone51 1029:Заброшенное Аэро");
 			SendClientMessage(playerid, COLOR_GRAD7, "| Other: {A5C3E7}1030:База Механиков 1031:Свалка авто 1032:Ферма 1033:Пункт приёма грибов 1034:Склад 1035:Порт");
			SendClientMessage(playerid, COLOR_GRAD6, "| Материалы: {A5C3E7}1036,1037:Оружейников 1038:Ремонтников 1039,1040:Автоугонщиков 1041-1045:Полуприцепы Дальнобойщиков");
			SendClientMessage(playerid, COLOR_GRAD5, "| Раздевалки: {A5C3E7}1046:Грузчиков 1047:Мусоровоза 1048:Ремонтников 1049:Шахтёров 1050:Лесорубов 1051:Пожарных");
			SendClientMessage(playerid, COLOR_GRAD5, "| Other: {A5C3E7}1052:Paintball 1053:Лодочная станция 1054:Мэрия LS");
			if(PlayerInfo[playerid][pAdmin] < 5) SendClientMessage(playerid, COLOR_RED, "To turn off GPS type USE: /gps "#CHECKPOINT_NONE);

			GPS(playerid);
			return 1;
		}
		new itemtmp = strval(tmp);
		SYSTEM_GPS(playerid, itemtmp, 12);
		//return 1;
	}
	//==========================================================================
	//для анимаций

	else if(!strcmp(cmd, "/scratchballs", true))
	{	///animmisc 35 - чесать яйца
		OnePlayAnim(playerid, "MISC", "Scratchballs_01", 4.0, 0, 0, 0, 0, 0);
		//return 1;
	}

	else if(!strcmp(cmd, "/hiker", true))
	{	///animmisc 18 - голосовать
		OnePlayAnim(playerid, "MISC", "Hiker_Pose", 4.0, 0, 0, 0, 0, 0);
		//return 1;
	}

	else if(!strcmp(cmd, "/case", true))
	{	///animmisc 14 - ПОКЛОН
		OnePlayAnim(playerid, "MISC", "Case_pickup", 4.0, 0, 0, 0, 0, 0);
		//return 1;
	}

	// Place a Bomb
	else if(!strcmp(cmd, "/bomb", true))
	{//позволяет не умереть при падении
		//OnePlayAnim(playerid, "BOMBER", "BOM_Plant", 4.0, 0,0,0,0,0 ); // Place Bomb
		OnePlayAnim(playerid, "BOMBER", "BOM_Plant_Loop", 4.1,1,0,0,0,6000, 1);
		//return 1;
	}
	else if(!strcmp(cmd, "/bomb2", true))
	{//позволяет не умереть при падении
		//OnePlayAnim(playerid, "BOMBER", "BOM_Plant", 4.0, 0,0,0,0,0 ); // Place Bomb
		OnePlayAnim(playerid, "BOMBER", "BOM_Plant_Loop", 4.0,0,0,0,0,6000, 1);
		//return 1;
	}
	// Laugh
    else if(!strcmp(cmd, "/laugh", true)) {//смех
		OnePlayAnim(playerid, "RAPPING", "Laugh_01", 4.0, 0, 0, 0, 0, 0); // Laugh
		//return 1;
	}
	// Rob Lookout
    else if(!strcmp(cmd, "/shifty", true)) {//надевает очки
		OnePlayAnim(playerid, "SHOP", "ROB_Shifty", 4.0, 0, 0, 0, 0, 0); // Rob Lookout
		//return 1;
	}
	// Rob Threat
    else if(!strcmp(cmd, "/threat", true)) {
		OnePlayAnim(playerid, "SHOP", "ROB_Loop_Threat", 4.0, 0, 0, 0, 0, 0); // Rob
		//return 1;
	}
	// Arms crossed
    else if(!strcmp(cmd, "/coplook", true)) {
		LoopingAnim(playerid, "COP_AMBIENT", "Coplook_loop", 4.0, 0, 1, 1, 1, -1); // Arms crossed
		//return 1;
	}
	// Lay Down
    else if(!strcmp(cmd, "/lay", true)) {//лежит и песни поёт
          LoopingAnim(playerid, "BEACH", "bather", 4.0, 1, 0, 0, 0, 0); // Lay down
		//return 1;
	}
	// Take Cover
    else if(!strcmp(cmd, "/cower", true)) {
          LoopingAnim(playerid, "ped", "cower", 4.0, 1, 0, 0, 0, 0); // Taking Cover
		//return 1;
	}
	// Vomit
    else if(!strcmp(cmd, "/vomit", true)) {
	      OnePlayAnim(playerid, "FOOD", "EAT_Vomit_P", 4.0, 0, 0, 0, 0, 0); // Vomit BAH!
		//return 1;
	}
	// Wave
    else if(!strcmp(cmd, "/wave", true)) {
	      LoopingAnim(playerid, "ON_LOOKERS", "wave_loop", 4.0, 1, 0, 0, 0, 0); // Wave
		//return 1;
	}
	// Slap Ass
    else if(!strcmp(cmd, "/slapass", true)) {
	      OnePlayAnim(playerid, "SWEET", "sweet_ass_slap", 4.0, 0, 0, 0, 0, 0); // Ass Slapping
		//return 1;
	}
	// Dealer
    else if(!strcmp(cmd, "/deal", true)) {
          LoopingAnim(playerid, "DEALER", "DEALER_DEAL", 4.0, 1, 0, 0, 0, 0); // Deal Drugs
		//return 1;
	}
	// Crack Dieing
    else if(!strcmp(cmd, "/crack", true)) {
          LoopingAnim(playerid, "CRACK", "crckdeth2", 4.0, 1, 0, 0, 0, 0); // Dieing of Crack
		//return 1;
	}
	// Smoking
    else if(!strcmp(cmd, "/smoke", true))
	{
       	if(IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Нельзя курить в транспортном средстве!");
			return 1;
		}
		if(CurState[playerid] == PLAYER_STATE_DRIVER)
		{
			SendClientMessage(playerid, COLOR_GREY, "  Нельзя курить за рулём транспортного средства!");
			return 1;
		}
	    if(PlayerInfo[playerid][pCigars] > 0)
	    {
			PlayerInfo[playerid][pCigars] --;
       		SetPlayerSpecialAction(playerid, SPECIAL_ACTION_SMOKE_CIGGY);
       		//LoopingAnim(playerid, "SMOKING", "M_smkstnd_loop", 4.0, 1, 0, 0, 0, 0); // Smoke
	    }
	    else SendClientMessage(playerid, COLOR_GREY, "   У Вас не осталось Сигар!");
		//return 1;
	}
	// Male Smoking
    /*else if(!strcmp(cmd, "/smokem", true))	{
          //SetPlayerSpecialAction(playerid, SPECIAL_ACTION_SMOKE_CIGGY);
          LoopingAnim(playerid, "SMOKING", "M_smklean_loop", 4.0, 1, 0, 0, 0, 0); // Male Smoke
		//return 1;
	}*/
	// Female Smoking
    else if(!strcmp(cmd, "/smokef", true))
	{
       	if(IsPlayerInAnyVehicle(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "  Нельзя курить в транспортном средстве!");
			return 1;
		}
		if(CurState[playerid] == PLAYER_STATE_DRIVER)
		{
			SendClientMessage(playerid, COLOR_GREY, "  Нельзя курить за рулём транспортного средства!");
			return 1;
		}
	    if(PlayerInfo[playerid][pCigars] > 0)
	    {
			//PlayerInfo[playerid][pCigars] --;
			//SetPlayerSpecialAction(playerid, SPECIAL_ACTION_SMOKE_CIGGY);
			LoopingAnim(playerid, "SMOKING", "F_smklean_loop", 4.0, 1, 0, 0, 0, 0); // Female Smoking
	    }
	    else SendClientMessage(playerid, COLOR_GREY, "   У Вас не осталось Сигар!");
		//return 1;
	}
	// Sit
    else if(!strcmp(cmd, "/groundsit", true)) {
          LoopingAnim(playerid, "BEACH", "ParkSit_M_loop", 4.0, 1, 0, 0, 0, 0); // Sit
		//return 1;
	}
	//--------------------------------------------------------------------------
    // Fucku
    else if(!strcmp(cmd, "/fucku", true)) {
		 //OnePlayAnim(playerid, "PED", "fucku", 4.1, 0, 0, 0, 0, 0);
		 //OnePlayAnim(playerid, "PED", "WALK_DOORPARTIAL", 4.1, 0, 1, 1, 0, 3000);
		 //OnePlayAnim(playerid, "PED", "WALK_CIVI", 4.1, 0, 1, 1, 0, 1000);
		 ApplyAnimation(playerid, "PED", "WALK_CIVI", 4.1, 0, 1, 1, 0, 1000);
		//return 1;
    }
    // Fuck
    else if(!strcmp(cmd, "/fuck", true)) {
		//OnePlayAnim(playerid, "RIOT", "RIOT_FUKU", 4.0, 0, 0, 0, 0, 0);
		ApplyAnimation(playerid, "RIOT", "RIOT_FUKU", 4.0, 0, 0, 0, 0, 0);
		//PlaySoundForPlayerInRange(playerid, 4001, 30.0);

		//OnePlayAnim(playerid, "PED", "RUN_CIVI", 4.1, 0, 1, 1, 0, 0);
		//OnePlayAnim(playerid, "PED", "WALK_CIVI", 4.1, 0, 1, 1, 0, 3000);
		//OnePlayAnim(playerid, "PED", "WALK_DOORPARTIAL", 3.1, 0, 0, 0, 0, 0);
		//return 1;
    }
    // TaiChi
    else if(!strcmp(cmd, "/taichi", true)) {
		LoopingAnim(playerid, "PARK", "Tai_Chi_Loop", 4.1, 1, 0, 0, 0, 0);
		//return 1;
	}
    // Bed Sleep R
    else if(!strcmp(cmd, "/bedr", true)) {
		LoopingAnim(playerid, "INT_HOUSE", "BED_Loop_R", 4.1, 1, 0, 0, 0, 0);
		//return 1;
	}
    // Bed Sleep L
    else if(!strcmp(cmd, "/bedl", true)) {
		LoopingAnim(playerid, "INT_HOUSE", "BED_Loop_L", 4.1, 1, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/sexM", true)) {
		LoopingAnim(playerid, "SNM", "SPANKINGP", 4.1, 1, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/sexF", true)) {
		LoopingAnim(playerid, "SNM", "SPANKINGW", 4.1, 1, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/drugbuy", true)) {
		 OnePlayAnim(playerid, "GANGS", "DRUGS_BUY", 4.1, 0, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/lowri", true)) {
		LoopingAnim(playerid, "LOWRIDER", "RAP_A_Loop", 4.1, 1, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/wof", true)) {
         OnePlayAnim(playerid, "CASINO", "wof", 4.1, 0, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/death", true)) {
         LoopingAnim(playerid, "SWEET", "Sweet_injuredloop", 4.1, 0, 1, 1, 1, 1);
		//return 1;
	}
    else if(!strcmp(cmd, "/sit", true)) {
   	     LoopingAnim(playerid, "INT_OFFICE", "FF_Dam_Fwd", 4.1, 0, 0, 0, 1, 1);
		//return 1;
	}
    else if(!strcmp(cmd, "/arrested", true)) {
   	     LoopingAnim(playerid, "PED", "ARRESTgun", 4.1, 0, 0, 0, 1, 1);
		//return 1;
	}
    else if(!strcmp(cmd, "/atm", true)) {
   	     OnePlayAnim(playerid, "PED", "ATM", 4.1, 0, 0, 0, 0, 0);
		//return 1;
	}
	//--------------------------------------------------------------------------
    else if(!strcmp(cmd, "/climb", true)) {
   	     LoopingAnim(playerid, "PED", "CLIMB_idle", 4.2, 1, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/damarm", true)) {
   	     OnePlayAnim(playerid, "PED", "DAM_armR_frmFT", 4.2, 0, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/dive", true)) {
   	     OnePlayAnim(playerid, "PED", "EV_dive", 4.2, 0, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/floor", true)) {
		LoopingAnim(playerid, "PED", "FLOOR_hit", 4.2, 0, 0, 0, 1, 1);
		//return 1;
	}
    else if(!strcmp(cmd, "/taxi", true)) {
   	     LoopingAnim(playerid, "PED", "IDLE_taxi", 4.1, 0, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/shotface", true)) {
   	     LoopingAnim(playerid, "PED", "KO_shot_face", 4.2, 0, 1, 1, 1, 1);
		//return 1;
	}
    else if(!strcmp(cmd, "/shotfront", true)) {
   	     LoopingAnim(playerid, "PED", "KO_shot_front", 4.2, 0, 1, 1, 1, 1);
		//return 1;
	}
	//--------------------------------------------------------------------------
    else if(!strcmp(cmd, "/shotstom", true)) {
   	     LoopingAnim(playerid, "PED", "KO_shot_stom", 4.3, 0, 1, 1, 1, 1);
		//return 1;
	}
    else if(!strcmp(cmd, "/shove", true)) {
   	     OnePlayAnim(playerid, "PED", "Shove_Partial", 4.3, 0, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/idlestance", true)) {
   	     LoopingAnim(playerid, "PED", "woman_idlestance", 4.3, 1, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/laybac", true)) {
   	     LoopingAnim(playerid, "SUNBATHE", "Lay_Bac_in", 4.3, 0, 1, 1, 1, 1);
		//return 1;
	}
    else if(!strcmp(cmd, "/parksita", true)) {
   	     LoopingAnim(playerid, "SUNBATHE", "ParkSit_W_idleA", 4.3, 0, 1, 1, 1, 1);
		//return 1;
	}
    else if(!strcmp(cmd, "/parksitb", true)) {
   	     LoopingAnim(playerid, "SUNBATHE", "ParkSit_W_idleB", 4.3, 0, 1, 1, 1, 1);
		//return 1;
	}
	else if(!strcmp(cmd, "/slass", true)) {//шлёпнуть по жопе
		LoopingAnim(playerid, "SNM", "SPANKEDW", 4.3, 0, 1, 1, 1, 1);
		//return 1;
	}
    else if(!strcmp(cmd, "/tgangs", true)) {
   	     OnePlayAnim(playerid, "GANGS", "hndshkba", 4.3, 0, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/stay", true)) {
   	     LoopingAnim(playerid, "GANGS", "leanIDLE", 4.3, 0, 1, 1, 1, 1);
		//return 1;
	}
    else if(!strcmp(cmd, "/lkt", true)) {
   	     OnePlayAnim(playerid, "SWAT", "swt_lkt", 4.3, 0, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/breach", true)) {
   	     OnePlayAnim(playerid, "SWAT", "swt_breach_01", 4.3, 0, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/katana", true)) {
   	     OnePlayAnim(playerid, "BASEBALL", "Bat_block", 4.3, 0, 1, 1, 1, 1);
		//return 1;
	}
    else if(!strcmp(cmd, "/bathit", true)) {
   	     LoopingAnim(playerid, "BASEBALL", "Bat_Hit_3", 4.3, 0, 1, 1, 1, 1);
		//return 1;
	}
    else if(!strcmp(cmd, "/rap", true)) {
   	     LoopingAnim(playerid, "benchpress", "gym_bp_celebrate", 4.3, 1, 0, 0, 0, 0);
		//return 1;
	}
	//--------------------------------------------------------------------------
    else if(!strcmp(cmd, "/crackdeth", true)) {
   	     LoopingAnim(playerid, "CRACK", "crckdeth1", 4.4, 1, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/direction", true)) {
   	     OnePlayAnim(playerid, "ON_LOOKERS", "Pointup_in", 4.4, 0, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/shout", true)) {
   	     OnePlayAnim(playerid, "ON_LOOKERS", "shout_02", 4.4, 0, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/point", true)) {
   	     OnePlayAnim(playerid, "ON_LOOKERS", "point_loop", 4.4, 0, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/lndroll", true)) {
   	     LoopingAnim(playerid, "MD_CHASE", "MD_HANG_Lnd_Roll", 4.4, 0, 1, 1, 1, 1);
		//return 1;
	}
    else if(!strcmp(cmd, "/nut", true)) {
   	     LoopingAnim(playerid, "PED", "HIT_back", 0.1, 1, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/wank", true)) {//дрочит
   	     LoopingAnim(playerid, "PAULNMAC", "wank_loop", 4.4, 1, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/piss", true)) {
		SetPlayerSpecialAction(playerid, SPECIAL_ACTION_PISSING);
		LoopingAnim(playerid, "PAULNMAC", "Piss_in", 4.4, 1, 0, 0, 0, 0); //писать

		if(PlayerInfo[playerid][pParam4] <= 0)	{ PlayerInfo[playerid][pParam4] = 0; }
		else { PlayerInfo[playerid][pParam4] -= 1; }
		//return 1;
	}
	//--------------------------------------------------------------------------
	else if(!strcmp(cmd, "/driveboat", true)) {
		OnePlayAnim(playerid, "PED", "DRIVE_BOAT", 4.0, 0, 1, 1, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/seatdown", true)) {
		LoopingAnim(playerid, "PED", "SEAT_down", 4.0, 0, 1, 1, 1, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/barserve", true)) {
		LoopingAnim(playerid, "BAR", "Barserve_loop", 4.0, 1, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/barman", true)) {
		LoopingAnim(playerid, "BAR", "BARman_idle", 4.0, 1, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/panic", true)) {
		LoopingAnim(playerid, "BD_FIRE", "BD_Panic_01", 4.0, 1, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/dieb", true)) {
		LoopingAnim(playerid, "FOOD", "FF_Die_Bkw", 4.0, 0, 1, 1, 1, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/dief", true)) {
		LoopingAnim(playerid, "FOOD", "FF_Die_Fwd", 4.0, 0, 1, 1, 1, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/diel", true)) {
		LoopingAnim(playerid, "FOOD", "FF_Die_Left", 4.0, 0, 1, 1, 1, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/angry", true)) {
		OnePlayAnim(playerid, "RIOT", "RIOT_ANGRY", 4.0, 0, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/chant", true)) {
		LoopingAnim(playerid, "RIOT", "RIOT_CHANT", 4.0, 1, 0, 0, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/punches", true)) {
		OnePlayAnim(playerid, "RIOT", "RIOT_PUNCHES", 4.0, 0, 1, 1, 0, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/sitinw", true)) {
		LoopingAnim(playerid, "SUNBATHE", "SitnWait_in_W", 4.0, 0, 1, 1, 1, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/camcrch", true)) {
		LoopingAnim(playerid, "CAMERA", "camcrch_cmon", 4.0, 0, 0, 0, 1, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/piccrch", true)) {
		LoopingAnim(playerid, "CAMERA", "piccrch_in", 4.0, 0, 0, 0, 1, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/damdive", true)) {
		LoopingAnim(playerid, "DAM_JUMP", "DAM_Dive_Loop", 4.0, 0, 1, 1, 1, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/graveyard", true)) {
		LoopingAnim(playerid, "GRAVEYARD", "mrnM_loop", 4.0, 0, 1, 1, 1, 0);
		//return 1;
	}
    else if(!strcmp(cmd, "/heist", true)) {
		LoopingAnim(playerid, "HEIST9", "CAS_G2_GasKO", 4.0, 0, 1, 1, 1, 0);
		//return 1;
	}
	//--------------------------------------------------------------------------
	// START CHATING
 	else if(!strcmp(cmd, "/chat", true))
	{
   		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, 0xFF0000FF, "USE: /chat [style 1-4]");
			return 1;
		}
		if(strval(tmp) < 1 || strval(tmp) > 5) {
		    SendClientMessage(playerid, 0xFF0000FF, "USE: /chat [style 1-5]");
		    return 1;
		}
		if(strval(tmp) == 1) {
		    LoopingAnim(playerid, "PED", "IDLE_CHAT", 4.0, 1, 0, 0, 0, 0);
		} else if(strval(tmp) == 2) {
		    OnePlayAnim(playerid, "PED", "endchat_01", 4.2, 0, 0, 0, 0, 0);
		} else if(strval(tmp) == 3) {
		    OnePlayAnim(playerid, "PED", "endchat_02", 4.2, 0, 0, 0, 0, 0);
		} else if(strval(tmp) == 4) {
		    OnePlayAnim(playerid, "PED", "endchat_03", 4.2, 0, 0, 0, 0, 0);
		} else if(strval(tmp) == 5) {
		    OnePlayAnim(playerid, "MISC", "Idle_Chat_02", 4.1, 0, 0, 0, 0, 0);
		}
  		//return 1;
	}
	//--------------------------------------------------------------------------
	// START DANCING
 	else if(!strcmp(cmd, "/dance", true))
	{
		if(CurState[playerid] != PLAYER_STATE_ONFOOT) { return 1; }
	    if( IsPlayerControllable[playerid] == 1 ||
			FollowBy[playerid] != MAX_PLAYERS-1)
	    {
			SendClientMessage(playerid,  COLOR_GREY, "   Вам пока запрещена данная команда !");
			return 1;
	    }
   		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /dance [style 1-4]");
			return 1;
		}
		new dancestyle = strval(tmp);
		if(dancestyle < 1 || dancestyle > 4)
		{
		    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /dance [style 1-4]");
		    return 1;
		}
		if(dancestyle == 1) {
			SetPlayerSpecialAction(playerid, SPECIAL_ACTION_DANCE1);
		} else if(dancestyle == 2) {
			SetPlayerSpecialAction(playerid, SPECIAL_ACTION_DANCE2);
		} else if(dancestyle == 3) {
			SetPlayerSpecialAction(playerid, SPECIAL_ACTION_DANCE3);
		} else if(dancestyle == 4) {
			SetPlayerSpecialAction(playerid, SPECIAL_ACTION_DANCE4);
		}
		/*if(	GetCheckpointType(playerid) == CP_BAR || GetCheckpointType(playerid) == CP_PUMP || GetCheckpointType(playerid) == CP_INN ||
			GetCheckpointType(playerid) == CP_PIGPEN || GetCheckpointType(playerid) == CP_STRIP ||
			GetCheckpointType(playerid) == CP_ALHAMBRA || GetCheckpointType(playerid) == CP_JIZZY)
		{
			if(PlayerInfo[playerid][pParam2] > 0)
			{
				PlayerInfo[playerid][pParam2] -= 1;
				//SetPlayerShowScale(playerid, 2, PlayerInfo[playerid][pParam2], operator2);
			}
			else
			{
				PlayerInfo[playerid][pParam2] = 0;
				gParameter2[playerid] = 0;
				SetPlayerShowScale(playerid, 2, PlayerInfo[playerid][pParam2], operator2);
			}
		}*/
  		//return 1;
	}
	// START STRIPTIZ
 	else if(!strcmp(cmd, "/strip", true))
	{
   		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /strip [style 1-20]");
			return 1;
		}
		new stripstyle = strval(tmp);
		if(stripstyle < 1 || stripstyle > 20) {
		    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /strip [style 1-20]");
		    return 1;
		}
		if(stripstyle == 1) {
			LoopingAnim(playerid, "STRIP", "PLY_CASH",4.1,1,1,1,1,1);
		} else if(stripstyle == 2) {
			LoopingAnim(playerid, "STRIP", "PUN_CASH",4.1,1,1,1,1,1);
		} else if(stripstyle == 3) {
			LoopingAnim(playerid, "STRIP", "PUN_HOLLER",4.1,1,1,1,1,1);
		} else if(stripstyle == 4) {
			LoopingAnim(playerid, "STRIP", "PUN_LOOP",4.1,1,1,1,1,1);
		} else if(stripstyle == 5) {
			LoopingAnim(playerid, "STRIP", "strip_A",4.1,1,1,1,1,1);
		} else if(stripstyle == 6) {
			LoopingAnim(playerid, "STRIP", "strip_B",4.1,1,1,1,1,1);
		} else if(stripstyle == 7) {
			LoopingAnim(playerid, "STRIP", "strip_C",4.1,1,1,1,1,1);
		} else if(stripstyle == 8) {
			LoopingAnim(playerid, "STRIP", "strip_D",4.1,1,1,1,1,1);
		} else if(stripstyle == 9) {
			LoopingAnim(playerid, "STRIP", "strip_E",4.1,1,1,1,1,1);
		} else if(stripstyle == 10) {
			LoopingAnim(playerid, "STRIP", "strip_F",4.1,1,1,1,1,1);
		} else if(stripstyle == 11) {
			LoopingAnim(playerid, "STRIP", "strip_G",4.1,1,1,1,1,1);
		} else if(stripstyle == 12) {
			LoopingAnim(playerid, "STRIP", "STR_A2B",4.1,1,1,1,1,1);
		} else if(stripstyle == 13) {
			LoopingAnim(playerid, "STRIP", "STR_B2A",4.1,0,1,1,1,1);
		} else if(stripstyle == 14) {
			LoopingAnim(playerid, "STRIP", "STR_B2C",4.1,1,1,1,1,1);
		} else if(stripstyle == 15) {
			LoopingAnim(playerid, "STRIP", "STR_C1",4.1,1,1,1,1,1);
		} else if(stripstyle == 16) {
			LoopingAnim(playerid, "STRIP", "STR_C2",4.1,1,1,1,1,1);
		} else if(stripstyle == 17) {
			LoopingAnim(playerid, "STRIP", "STR_C2B",4.1,0,0,0,0,0);
		} else if(stripstyle == 18) {
			LoopingAnim(playerid, "STRIP", "STR_Loop_A",4.1,1,1,1,1,1);
		} else if(stripstyle == 19) {
			LoopingAnim(playerid, "STRIP", "STR_Loop_B",4.1,1,1,1,1,1);
		} else if(stripstyle == 20) {
			LoopingAnim(playerid, "STRIP", "STR_Loop_C",4.1,1,1,1,1,1);
		}
  		//return 1;
	}
 	else if(!strcmp(cmd, "/kiss", true))
	{
   		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp)) {
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /kiss [type 1-15]");
			return 1;
		}
		new kisstype = strval(tmp);
		if(kisstype < 1 || kisstype > 15) {
		    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /kiss [type 1-15]");
		    return 1;
		}
		if(kisstype == 1) {
			LoopingAnim(playerid, "KISSING", "BD_GF_Wave",4.1,0,0,0,0,0);
		} else if(kisstype == 2) {
			LoopingAnim(playerid, "KISSING", "gfwave2",4.1,0,0,0,0,0);
		} else if(kisstype == 3) {
			LoopingAnim(playerid, "KISSING", "GF_CarArgue_01",4.1,0,0,0,0,0);
		} else if(kisstype == 4) {
			LoopingAnim(playerid, "KISSING", "GF_CarArgue_02",4.1,0,0,0,0,0);
		} else if(kisstype == 5) {
			LoopingAnim(playerid, "KISSING", "GF_CarSpot",4.1,0,0,0,0,0);
		} else if(kisstype == 6) {
			LoopingAnim(playerid, "KISSING", "GF_StreetArgue_01",4.1,0,0,0,0,0);
		} else if(kisstype == 7) {
			LoopingAnim(playerid, "KISSING", "GF_StreetArgue_02",4.1,0,0,0,0,0);
		} else if(kisstype == 8) {
			LoopingAnim(playerid, "KISSING", "gift_get",4.1,0,0,0,0,0);
		} else if(kisstype == 9) {
			LoopingAnim(playerid, "KISSING", "gift_give",4.1,0,0,0,0,0);
		} else if(kisstype == 10) {
			LoopingAnim(playerid, "KISSING", "Grlfrd_Kiss_01",4.1,0,0,0,0,0);
		} else if(kisstype == 11) {
			LoopingAnim(playerid, "KISSING", "Grlfrd_Kiss_02",4.1,0,0,0,0,0);
		} else if(kisstype == 12) {
			LoopingAnim(playerid, "KISSING", "Grlfrd_Kiss_03",4.1,0,0,0,0,0);
		} else if(kisstype == 13) {
			LoopingAnim(playerid, "KISSING", "Playa_Kiss_01",4.1,0,0,0,0,0);
		} else if(kisstype == 14) {
			LoopingAnim(playerid, "KISSING", "Playa_Kiss_02",4.1,0,0,0,0,0);
		} else if(kisstype == 15) {
			LoopingAnim(playerid, "KISSING", "Playa_Kiss_03",4.1,0,0,0,0,0);
		}
  		//return 1;
	}
	//==========================================================================
 	else if(!strcmp(cmd, "/show", true))
	{
		CMD_show(playerid);
		//return 1;
	}
	//==========================================================================
	else if(!strcmp(cmd, "/nameoff", true))//для скрытия ников
	{
		if(	!(PlayerInfo[playerid][pMember] == SAN && PlayerInfo[playerid][pRank] >= 11) &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }

        if(gTogNameTag == 1)
        {
        	gTogNameTag = 0;
			gTagForPlayer[playerid] = 0;
  		 	for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				if(IsPlayerNPC(i)) continue;
				if(!gPlayerSpawned[i]) continue;
				if(PlayerInfo[i][pMember] == Hitman) continue;
				ShowPlayerNameTagForPlayerEx(playerid, i, 0);//для игрока playerid показать ники всех игроков
			}
	    	GameTextForPlayer(playerid, "~W~Nametags ~G~OFF", 5000, 5);
	    }
	    else
	    {
        	gTogNameTag = 1;
        	gTagForPlayer[playerid] = 0;
  		 	for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				if(IsPlayerNPC(i)) continue;
				if(!gPlayerSpawned[i]) continue;
				if(PlayerInfo[i][pMember] == Hitman) continue;
				ShowPlayerNameTagForPlayerEx(playerid, i, 1);//для игрока playerid показать ники всех игроков
			}
	    	GameTextForPlayer(playerid, "~W~Nametags ~G~ON", 5000, 5);
	    }
	    return 1;
	}
 	else if(!strcmp(cmd, "/showtag", true))
	{
		if(	PlayerInfo[playerid][pAccount] == 0 &&
			PlayerInfo[playerid][pMember] != FBI &&
			//PlayerInfo[playerid][pMember] != DoJ &&
			PlayerInfo[playerid][pMember] != Hitman &&
			PlayerInfo[playerid][pAdmin] != 6 &&
			PlayerInfo[playerid][pAdmin] != 9)
		{
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 1;
        }
        if(	gInTerrorsCount[playerid] || gInCTerrorsCount[playerid])
		{
		    SendClientMessage(playerid, COLOR_GREY, "   В данный момент вы не можете использовать эту команду!");
		    return 1;
		}
        if( (PlayerInfo[playerid][pMember] == FBI || PlayerInfo[playerid][pMember] == DoJ)
			&& gOnDuty[playerid] != 1 && PlayerInfo[playerid][pAccount] == 0 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 1;
		}
        if(	PlayerInfo[playerid][pMember] == FBI && PlayerInfo[playerid][pAccount] == 0 && PlayerInfo[playerid][pAdmin] != 9
			&& PlayerInfo[playerid][pRank] != 3
			&& PlayerInfo[playerid][pRank] != 5
			&& PlayerInfo[playerid][pRank] != 7
			&& PlayerInfo[playerid][pRank] != 9)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 3,5,7,9 Ранга !");
		    return 1;
		}
        if(PlayerInfo[playerid][pMember] == DoJ && PlayerInfo[playerid][pAccount] == 0 && PlayerInfo[playerid][pAdmin] != 9
			&& PlayerInfo[playerid][pRank] != 5
			&& PlayerInfo[playerid][pRank] != 6)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 5,6 Ранга !");
		    return 1;
		}
	    if(PlayerCuffed[playerid] < MAX_PLAYERS-1)
	    {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете воспользоваться этой командой когда у Вас надеты наручники !");
	        return 1;
	    }
        if(PlayerTied[playerid] > 0)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не можете воспользоваться этой командой когда Вы связаны !");
	        return 1;
        }
		if(PlayerInfo[playerid][pJailed] > 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете воспользоваться этой командой когда под арестом !");
			return 1;
		}
	    if(gTagForPlayer[playerid] == 0)
	    {
   			gTagForPlayer[playerid] = 1;
		 	for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				//if(IsPlayerConnected(i) && !IsPlayerNPC(i) && gPlayerSpawned[i] == 1)
				ShowPlayerNameTagForPlayerEx(i, playerid, gTagForPlayer[playerid]);
			}
	       	if(CurState[playerid] == PLAYER_STATE_DRIVER &&
	       		VehInfo[nCarID[playerid]][cOwned] == PlayerInfo[playerid][pSQLID]
			   //!strcmp(VehInfo[nCarID[playerid]][cOwner], PlayerName(playerid), true)
			   )
			{
				new numberplate[MAX_PLAYER_NAME+10];
				format(numberplate, sizeof(numberplate), "%s [ %d ]", VehInfo[nCarID[playerid]][cOwner], nCarID[playerid]);
				Update3DTextLabelText(number3D[nCarID[playerid]], 0xEEEEEE50, numberplate);
			}
		    GameTextForPlayerEx(playerid, "~w~Nametags ~r~on", 1000, 5);
		}
		else
		{
			gTagForPlayer[playerid] = 0;
		 	for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
				if(PlayerInfo[i][pAdmin] == 9) continue;
//для всех игроков прячем ник playerid
				//if(IsPlayerConnected(i) && !IsPlayerNPC(i) && gPlayerSpawned[i] == 1)
				ShowPlayerNameTagForPlayerEx(i, playerid, gTagForPlayer[playerid]);
			}
	       	if(CurState[playerid] == PLAYER_STATE_DRIVER &&
	       		VehInfo[nCarID[playerid]][cOwned] == PlayerInfo[playerid][pSQLID]
			   //!strcmp(VehInfo[nCarID[playerid]][cOwner], PlayerName(playerid), true)
			   )
			{
				new numberplate[MAX_PLAYER_NAME+10];
				format(numberplate, sizeof(numberplate), "%s [ %d ]", VehInfo[nCarID[playerid]][cOwner], nCarID[playerid]);
				Update3DTextLabelText(number3D[nCarID[playerid]], 0x009DFF00, numberplate);
			}
		    GameTextForPlayerEx(playerid, "~w~Nametags ~r~off", 1000, 5);
		}
        /* Returning '1' is used to notify the server that the command
        has successfully been processed. If you return true here you won't
        get that 'SERVER: Unknown Command.', and any conflicts will be
        avoided.
        */
		//return 1;
	}
	//==========================================================================
	//==========================================================================
	//billboard COMMANDS
	//==========================================================================
 	/*else if(strcmp(cmd, "/addposter", true) == 0)
	{
		if(PlayerInfo[playerid][pMember] != SAN && PlayerInfo[playerid][pAdmin] < 4)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		if(PlayerInfo[playerid][pRank] < 9 && PlayerInfo[playerid][pAdmin] < 4)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
   		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USAGE: /addposter [playerid/PartOfName] [number poster] [price]");
			return 1;
		}
		giveplayerid = ReturnUser(tmp);
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USAGE: /addposter [playerid/PartOfName] [number poster] [price]");
			return 1;
		}
		new psnumber = strval(tmp);
		if(psnumber < 1 || psnumber > MAX_POST)
		{
		    format(strcmd, sizeof(strcmd), "Номер рекламного щита не может быть ниже 1 или выше %d.", MAX_POST);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USAGE: /addposter [playerid/PartOfName] [number poster] [price]");
			return 1;
		}
		new price = strval(tmp);
		if(price < 1000 || price > 100000)
		{
			SendClientMessage(playerid, COLOR_GREY, "Не ниже $1.000 и не выше $100.000");
			return 1;
		}
	    if( !IsPlayerConnected(giveplayerid) )
		{
			format(strcmd, sizeof(strcmd), "   ID:%d отсутствует на сервере.", giveplayerid);
			SendClientMessage(playerid, COLOR_GREY, strcmd);
			return 1;
		}
		if(!IsPlayerInRangeOfPlayer(30.0, playerid, giveplayerid)
			|| spectateid[playerid] != MAX_PLAYERS-1 || spectateid[giveplayerid] != MAX_PLAYERS-1)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Этот игрок не рядом с Вами !");
			return 1;
		}
	    if(!IsPlayerInRangeOfPoint(playerid, 100.0, PosterInfo[psnumber-1][postpX], PosterInfo[psnumber-1][postpY], PosterInfo[psnumber-1][postpZ]))
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы дальше 100 м от плаката!");
		    return 1;
		}
		Offer[giveplayerid] = playerid;
		NP[playerid] = psnumber;

		SetPVarInt(giveplayerid, "MoneyPlayerPoster", price);
		SendClientMessage(playerid, COLOR_GREY, "   Ожидайте, пока игрок согласится с вашим предложением!");

	    new caption[28+24];
		format(caption, sizeof(caption), "{AFAFAF}Редактор {FFFFFF}%s",PlayerName(playerid));
		new dlgitem[102+39+10+10];
		format(dlgitem, sizeof(dlgitem), "{FFFFFF}Предложил вам разместить объявление на рекламном щите {0080FF}№%d {FFFFFF}за {33AA33}$%d\n\n\
{AFAFAF}Нажмите Accept, чтобы принять.", psnumber, price);
		MenuOperation[giveplayerid] = 1;
		ShowPlayerDialogEx1(giveplayerid,BIGBOARD_DIALOG2,DIALOG_STYLE_MSGBOX,caption,dlgitem,"Accept","Cancel");
		//return 1;
	}*/
 	else if(strcmp(cmd, "/editposter", true) == 0)
	{
		if(PlayerInfo[playerid][pMember] != SAN && PlayerInfo[playerid][pAdmin] < 4)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
		if(PlayerInfo[playerid][pRank] < 9 && PlayerInfo[playerid][pAdmin] < 4)
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
		    return 1;
		}
	    MenuOperation[playerid] = 1;
		ShowPlayerDialogEx1(playerid,BIGBOARD_DIALOG2,DIALOG_STYLE_INPUT,"PosterEdit","Введите номер рекламного щита","Далее","Отмена");
	    //return 1;
	}
 	else if(strcmp(cmd, "/poster", true) == 0)
	{
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, 0xC0C0C0FF, "USAGE: /poster [number poster, 0-off]");
			return 1;
		}
		new poster = strval(tmp);
		if(poster != 0 && poster <= MAX_POST)
		{
			if(PlayerInfo[playerid][pAdmin] >= 6 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
			{
				SetPlayerPosEx(playerid, PosterInfo[poster-1][postpX], PosterInfo[poster-1][postpY], PosterInfo[poster-1][postpZ], 0);
			}
			else
			{
				SetPlayerCheckpointEx(playerid, PosterInfo[poster-1][postpX], PosterInfo[poster-1][postpY], PosterInfo[poster-1][postpZ], CHECKPOINT_SIZE/2);
				//SetPVarInt(playerid, "gCheckpointStatus", 1072);
				CP[playerid] = CP_BIGBOARD;// PlayerCheckpoint[playerid] = 1;
			}
		}
	 	else if(poster == 0)
		{
			DisablePlayerCheckpointEx(playerid);
		}
		else
		{
			format(strings, sizeof(strings), "Номер рекламного щита не может быть ниже 1 или выше %d.", MAX_POST);
			SendClientMessage(playerid, COLOR_GREY, strings);
		}
		//return 1;
	}
	else if(!strcmp(cmd, "/stopline", true))
	{
		if(PlayerInfo[playerid][pMember] != SAN && PlayerInfo[playerid][pAdmin] != 9)
		{
		    return SendClientMessage(playerid, COLOR_GREY, "   Вы не репортёр новостей! !");
		}
		if(PlayerInfo[playerid][pRank] < 6 && PlayerInfo[playerid][pAdmin] != 9)
		{
		    return SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 6 Ранга !");
		}
		if(offsettimer < 0)
		{
			return SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /startline [Size ~120] [Speed(ms) ~200] [Text]");
		}
		KillTimer(offsettimer); offsettimer = -1;
		if(TextDrawShowBegunok == true)
		{
			TextDrawShowBegunok = false;
			TextDrawHideForAll(txdBegunok);
			TextDrawDestroyEx(txdBegunok);
		}
		else SendClientMessage(playerid, COLOR_GREY, "   Бегущая строка не показана (USE: /startline)");
	}
	else if(!strcmp(cmd, "/startline", true))
	{
		if(PlayerInfo[playerid][pMember] != SAN && PlayerInfo[playerid][pAdmin] != 9)
		{
		    return SendClientMessage(playerid, COLOR_GREY, "   Вы не ЛИДЕР Агенства Новостей !");
		}
		if(PlayerInfo[playerid][pMember] == SAN && PlayerInfo[playerid][pRank] < 6)
		{
		    return SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 6 Ранга !");
		}
		if(offsettimer >= 0)
		{
			return SendClientMessage(playerid, COLOR_GREY, "USE: /stopline, чтобы остановить бегущую строку");
		}
		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /startline [Size ~120] [Speed(ms) ~200] [Text]");
			SendClientMessage(playerid, COLOR_GREY, "USE: /stopline, чтобы остановить");
			return 1;
		}
		if(strval(tmp) < 10 && strval(tmp) > 300)
		{
			return SendClientMessage(playerid, COLOR_GRAYWHITE,  "USE: /startline [Size ~120] [Speed(ms) ~200] [Text]");
		}
		new txdSize = strval(tmp);

   		format(strcmd, sizeof(strcmd), "txdSize: %d", txdSize);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);

		tmp = strtok(cmdtext, idx);
		if(!strlen(tmp))
		{
			return SendClientMessage(playerid, COLOR_GRAYWHITE,  "USE: /startline [Size ~120] [Speed(ms) ~200] [Text]");
		}
		if(strval(tmp) < 100 && strval(tmp) > 1000)
		{
			return SendClientMessage(playerid, COLOR_GRAYWHITE,  "USE: /startline [Size ~120] [Speed(ms) ~200] [Text]");
		}
		new movetime = strval(tmp);
   		format(strcmd, sizeof(strcmd), "movetime: %d miliseconds", movetime);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);

		gMessage = strrest(cmdtext, idx);
		if(strlen(gMessage) > sizeof(RunString))
		{
			return SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /startline [Size ~120] [Speed(ms) ~200] [Text(256 char)]");
		}
		if(!strlen(gMessage))
		{
			strmid(gMessage, "Zdes mogla byt vasha reklama", 0, strlen(gMessage), 255);
			//return 1;
		}
		strmid(RunString, gMessage, 0, strlen(gMessage), 255);
		BegunokOffset(150, 410, txdSize, movetime);//BegunokOffset(150, 438, txdSize, movetime);

   		format(strcmd, sizeof(strcmd), "gMessage: %s", gMessage);
		SendClientMessage(playerid, COLOR_LIGHTBLUE, strcmd);
	}
	else
	{
		//firstlook_OnPlayerCommandText(playerid, cmdtext);
		//begunok_OnPlayerCommandText(playerid, cmdtext);

		//iPlayerChatTime[playerid] = GetTickCount();
		SetPVarInt(playerid, "ChatTime", GetTickCount());
		return 0;
	}
	//iPlayerChatTime[playerid] = GetTickCount();
	SetPVarInt(playerid, "ChatTime", GetTickCount());
	//==========================================================================
	new strtmp[22+24+1+20];
	strcat(strtmp, "OnPlayerCommandText ");
	strcat(strtmp, PlayerName(playerid));
	strcat(strtmp, " ");
	strcat(strtmp, cmdtext);
	TestLog(OPTIM, strtmp, GetTickCount(), timers, 0);//new timers = GetTickCount();
	return 1;
	//- 0, скрипт передается во все скрипты, после обработки всеми скриптами выводиться собщения 'SERVER: Unknown command'.
//Порядок обработки: филтрскрипты, гейммод.
//Returning '0' is used to inform the server that the command
//has not been successfully processed, and passes it to other scripts.
//If there hasn't been a successful process, then you will get that
//'SERVER: Unknown Command.' error.
}//end OnPlayerCommandText


//##############################################################################//
//#                                                                            #//
//#                  ПОЛЬЗОВАТЕЛЬСКИЕ КОНСОЛЬНЫЕ СООБЩЕНИЯ                     #//
//#                                                                            #//
//##############################################################################//
public OnPlayerText(playerid, text[])//Выполняется при введении игроком текста в чат.
//playerid ID говорящего игрока.
//text[] Текст, посланный игроком.
{
	//if(IsPlayerNPC(playerid)) { return 0; }//чтобы работала ф-ия SendChat
	if(TEST[11] != 0) { return 0; }

	if(!IsPlayerConnected(playerid)) { Kick(playerid); return 0; }
	if(playerid < 0 || playerid >= MAX_PLAYERS) { Kick(playerid); return 0; }
	if(IsPlayerNPC(playerid)) { return 0; }

	new timers = GetTickCount();
	new strtxt[MAX_STRING];
	if(gPlayerLogged[playerid] == 0 && !IsPlayerNPC(playerid))
	{   //если игрок не залогинился и не зарегистрировался
    	//SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Извините, но этот сервер требует залогиниться перед тем как войти в игру! (Kicked)");
		format(strtxt, sizeof(strtxt), "CEPBEP: %s был кикнут, причина: no login before OnPlayerText", PlayerName(playerid));
		SendClientMessage(playerid, COLOR_RED, strtxt);
		IsKicked[playerid] = 1;
		return 0;
 	}
	if(gPlayerSpawned[playerid] == 0 && !IsPlayerNPC(playerid))
	{
    	SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Извините, но этот сервер требует заспауниться!");
		return 0;
 	}
	if(AFK_IdleTime[playerid] >= 3 && PlayerInfo[playerid][pAdmin] != 4 && PlayerInfo[playerid][pAdmin] != 6 && PlayerInfo[playerid][pAdmin] != 9 &&
		!gLoading[playerid] && !gUnLoading[playerid])
	{
   		SendClientMessage(playerid, COLOR_GREY, "   Извините, но этот сервер требует выйти из AFK !!");
	    return 0;
	}
	/*if(gParameter3[playerid] == 1)
	{
		SendClientMessage(playerid, COLOR_GREY, "    В депрессии Вы не можете говорить !");
		//SendClientMessage(playerid, COLOR_GREY, "    Вы социальное создание, если Вы не будите общаться, Вы можете впасть в депрессию!");
		return 0;
	}*/
 	//--------------------------------------------------------------------------
	if(ANTIFLOOD == 1 && PlayerInfo[playerid][pAdmin] != 9)// && !IsPlayerAdmin(playerid)//для антифлуда начало ANTIFLOOD=0;
	{
		//if((GetTickCount()-iPlayerChatTime[playerid]) < 2000)
		if((GetTickCount() - GetPVarInt(playerid, "ChatTime")) < 1000)
		{
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы можете пользоваться чатом только раз в секунду.");
		    return 0;//- 1, полное обрывание события.
		}
		//iPlayerChatTime[playerid] = GetTickCount();
		SetPVarInt(playerid, "ChatTime", GetTickCount());
    }//флуд конец
	if(PlayerTazed[playerid] > 0)
	{
		SendClientMessage(playerid, COLOR_GREY, "   Вы не можете говорить когда оглушены");
		return 0;
	}
  	//--------------------------------------------------------------------------
	//if(CheckOnIP1(playerid, text)) return 0;
	//if(CheckOnIP2(playerid, text)) return 0;

    //--------------------------------------------------------------------------
	//new strtxt[MAX_STRING];
	new tmp[20];
	//ИНФОРМИРОВАНИЕ
	//format(strtxt, sizeof(strtxt), "OnPlayerText(playerid:%d, text:'%s')", playerid, text);
	//ABroadCast(COLOR_MAROON, strtxt, 10);
	//SendClientMessageToAll(COLOR_YELLOW, strtxt);
  	//--------------------------------------------------------------------------
	//для админских сообщений
	if( (text[0] == '#' || text[0] == '@') && strlen(text) > 1)
	{
		if(IsPlayerAdmin(playerid) || PlayerInfo[playerid][pAdmin] >= 1)
		{
		    format(strtxt, sizeof(strtxt), "Admin %s: %s", PlayerName(playerid), text[1]);
            for(new j=0, i; j<MaxPlayers; j++)	{
				i = PLIDs[j];
 				if(!IsPlayerConnected(i)) continue;
		    	if(!IsPlayerAdmin(i) && PlayerInfo[i][pAdmin] == 0) continue;
			    SendClientMessage(i, ADMINS_MESSAGE_COLOR, strtxt);
			}
		}
		return 0;
	}
//==============================================================================
 	//для викторины
	if(		gQuestStarted != -1 && strlen(text) > 1 &&
			(
				!strcmp(text, QuestInfo[NowQuestion][qAnswer], true)
				//|| strfind(text, QuestInfo[NowQuestion][qAnswer], true) != -1
			)
		)
	{
		GivePlayerMoneyH(ftax, playerid, 150);
		FamilyInfo[SAN][fBank] -= 150;

		format(strtxt, sizeof(strtxt), "[Викторина]: {FFFFFF}%s[%d] {FFFF00}правильно. Ответ: {00CCFF}%s.",
			PlayerName(playerid), playerid, QuestInfo[NowQuestion][qAnswer]);
		if(gQuestStarted > 0) SendClientMessage(playerid, COLOR_PURPLE, strtxt);
		else OOCNews(COLOR_PURPLE, strtxt); //SendClientMessageToAll(COLOR_PURPLE, strtxt);

		if(gQuestStarted == 0) NowQuestion = random(MaxQuestions);//random(MAX_QUESTION);
		else NowQuestion = random(100);
		QuestCounter = ThinkTime;
		format(strtxt, sizeof(strtxt), "[Викторина]: {FFFF00}Вопрос №%d: {00CCFF}%s?",
			NowQuestion, QuestInfo[NowQuestion][qQuestion]);
		if(gQuestStarted > 0) SendClientMessage(playerid, COLOR_PURPLE, strtxt);
		else OOCNews(COLOR_PURPLE, strtxt);//SendClientMessageToAll(COLOR_PURPLE, strtxt);
		return 0;//иначе будет дублироваться в чате
	}
//==============================================================================
	if(GetPVarInt(playerid, "gChatSwitcher") == AdminsChat && GetPVarInt(playerid, "gSwitcher") == 0)
	{
        if(PlayerInfo[playerid][pAdmin] < 1)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 0;
        }
		if(!strlen(text) || strlen(text) > 128-35)
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/a)dmin [admin chat]");
			return 0;
		}
		SendAdminsMessage(playerid, text);
		return 0;//иначе будет дублироваться в чате
	}
	else if(GetPVarInt(playerid, "gChatSwitcher") == HQChat && GetPVarInt(playerid, "gSwitcher") == 0)
	{
        if(PlayerInfo[playerid][pAdmin] < 1)
        {
            SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду !");
            return 0;
        }
		if(!strlen(text))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /hq [hq text]");
			return 0;
		}
		SendHQMessage(playerid, text);
		return 0;//иначе будет дублироваться в чате
	}
	else if(GetPVarInt(playerid, "gChatSwitcher") == DepartmentsChat && GetPVarInt(playerid, "gSwitcher") == 0)
	{
		if(gOnDuty[playerid] != 1 && PlayerInfo[playerid][pMember] != DoJ)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 0;
		}
		if(PlayerInfo[playerid][pMuted] > GetTickCount())
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете говорить, Вы заглушены!");
			return 0;
		}
	//°*”??”*°•†‡N!K@L@$‡†•°*”??”*°
		if(!strlen(text))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/d)epartments [department chat]");
			return 0;
		}
		SendDepartmentMessage(playerid, text);
		return 0;//иначе будет дублироваться в чате
	}
	else if(GetPVarInt(playerid, "gChatSwitcher") == RadioChat && GetPVarInt(playerid, "gSwitcher") == 0)
	{
        if(gOnDuty[playerid] != 1)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не при исполнении служебных обязанностей !");
		    return 0;
		}
		if(!strlen(text))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/r)adio [radio chat]");
			return 0;
		}
		SendRadioMessage(playerid, text);
		//SendClientMessage(playerid, COLOR_GREY, "   Вы не член министерства !");
		return 0;//иначе будет дублироваться в чате
	}
	else if(GetPVarInt(playerid, "gChatSwitcher") == FamilyChat && GetPVarInt(playerid, "gSwitcher") == 0)
	{
		if( (PlayerInfo[playerid][pMember] < LCN || PlayerInfo[playerid][pMember] > SAN) &&
 			!IsAGangs(playerid))
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не уполномочены использовать эту команду!");
			return 0;
		}
		if(!strlen(text))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/f)amily [family chat]");
			return 0;
		}
		SendFactionMessage(playerid, text);
		return 0;//иначе будет дублироваться в чате
	}
	else if(GetPVarInt(playerid, "gChatSwitcher") == NewsChat && GetPVarInt(playerid, "gSwitcher") == 0)
	{
		if(PlayerInfo[playerid][pMember] != SAN)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не репортёр новостей! !");
			return 0;
		}
		if(PlayerInfo[playerid][pRank] < 4)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 4 Ранга !");
		    return 0;
		}
        if(PlayerInfo[playerid][pMuted] > GetTickCount())
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы заглушены");
			return 0;
		}
		if(!IsInNewsCar(nCarID[playerid]) && PlayerInfo[playerid][pLocal] != 249)//CNNStudio
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не в служебной машине или не в CNN Studio !");
		    return 0;
		}
		if(!strlen(text))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: /news [newstext]");
			return 0;
		}
		SendNewsMessage(playerid, text);
		return 0;//иначе будет дублироваться в чате
	}
	else if(GetPVarInt(playerid, "gChatSwitcher") == MegaphoneChat && GetPVarInt(playerid, "gSwitcher") == 0)
	{
		if(!strlen(text))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/m)egaphone [megaphone chat]");
			return 0;
		}
		if(IsACop(playerid) || PlayerInfo[playerid][pMember] == DoD || PlayerInfo[playerid][pMember] == DoH )//если ты в силовой структуре или  ты коп/ФБР
		{
			if(	!IsInCopCar(nCarID[playerid]) &&
				!IsInNGCar(nCarID[playerid]) &&
				!IsInAmbulanceCar(nCarID[playerid]))//если ты не в правильной машине
			{
				SendClientMessage(playerid, COLOR_GREY, "   Машина не оборудована Мегафоном !");
				return 0;
			}
			if(PlayerInfo[playerid][pMember] == DoT)
			{
				format(strtxt, sizeof(strtxt), "Инспектор %s:o< %s", PlayerName(playerid), text);
				ProxDetector(playerid, 100.0, strtxt,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW);
			}
			else if(PlayerInfo[playerid][pMember] == FBI)
			{
				format(strtxt, sizeof(strtxt), "Aгент %s:o< %s", PlayerName(playerid), text);
				ProxDetector(playerid, 100.0, strtxt,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW);
			}
			else if(PlayerInfo[playerid][pMember] == DoD)
			{
			    format(strtxt, sizeof(strtxt), "Oфицер %s:o< %s", PlayerName(playerid), text);
			    ProxDetector(playerid, 100.0, strtxt,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW);
			}
			else if(PlayerInfo[playerid][pMember] == DoH)
			{
			    format(strtxt, sizeof(strtxt), "Медик %s:o< %s", PlayerName(playerid), text);
			    ProxDetector(playerid, 100.0, strtxt,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW,COLOR_YELLOW);
			}
		}
		else if(PlayerInfo[playerid][pMember] == SAN)
		{
			SendMegaphoneMessage(playerid, text);
		}
		else SendClientMessage(playerid, COLOR_GREY, "   Вы не член Силовой Структуры !");
		return 0;//иначе будет дублироваться в чате
	}
	else if(GetPVarInt(playerid, "gChatSwitcher") == WalkietalkieChat && GetPVarInt(playerid, "gSwitcher") == 0)
	{
		if(PlayerInfo[playerid][pMuted] > GetTickCount())
		{
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы не можете говорить, Вы заглушены !");
			return 0;
		}
		if(PlayerInfo[playerid][pJob] != TRUCKER)
		{
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не Дальнобойщик!");
		    return 0;
		}
	    if(//!IsInHardTruck(nCarID[playerid]) && !IsInTruck(nCarID[playerid])
			VehicleArray[nCarModel[playerid]-400][Category] != Station_Wagons &&
			VehicleArray[nCarModel[playerid]-400][Category] != Industrial &&
			VehicleArray[nCarModel[playerid]-400][Category] != Lorries)
		{	//gJobDuty[playerid] == 0 &&
		    SendClientMessage(playerid, COLOR_GREY, "   Вы не за рулём грузовика!");
		    return 0;
		}
		//------------------------------------------------------------------
		if(!strlen(text))//если длина строки не равна заданной в строковом массиве cmd
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/wt)/walkietalkie [TruckDriver chat]");
			return 0;
		}
		strmid(strtxt, text, 0, strlen(text), MAX_STRING);
		SendWalkietalkieChatMessage(playerid, AntiSweer(playerid, strtxt));
		return 0;//иначе будет дублироваться в чате
	}
	else if(GetPVarInt(playerid, "gChatSwitcher") == ShoutChat && GetPVarInt(playerid, "gSwitcher") == 0)
	{
		if(PlayerInfo[playerid][pMuted] > GetTickCount())
		{
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы не можете говорить, Вы заглушены !");
			return 0;
		}
		if(!strlen(text))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/s)hout [local chat]");
			return 0;
		}
		strmid(strtxt, text, 0, strlen(text), MAX_STRING);
		SendShoutMessage(playerid, AntiSweer(playerid, strtxt));
		return 0;//иначе будет дублироваться в чате
	}
	else if(GetPVarInt(playerid, "gChatSwitcher") == LocalChat && GetPVarInt(playerid, "gSwitcher") == 0)
	{
		if(PlayerInfo[playerid][pMuted] > GetTickCount())
		{
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы не можете говорить, Вы заглушены !");
			return 0;
		}
		if(!strlen(text))
		{
			return SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/l)ocal [local chat]");
		}
		strmid(strtxt, text, 0, strlen(text), MAX_STRING);
		SendLocalMessage(playerid, AntiSweer(playerid, strtxt));
		return 0;//иначе будет дублироваться в чате
	}
	else if(GetPVarInt(playerid, "gChatSwitcher") == RPChat && GetPVarInt(playerid, "gSwitcher") == 0)
	{
		if(PlayerInfo[playerid][pMuted] > GetTickCount())
		{
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы не можете говорить, Вы заглушены !");
			return 0;
		}
		if(!strlen(text))
		{
			return SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/l)ocal [local chat]");
		}
		strmid(strtxt, text, 0, strlen(text), MAX_STRING);
		SendRPMessage(playerid, AntiSweer(playerid, strtxt));
		return 0;//иначе будет дублироваться в чате
	}
	else if(GetPVarInt(playerid, "gChatSwitcher") == OOChat && GetPVarInt(playerid, "gSwitcher") == 0)
	{
		if(gOffGeneralChat == 0)// && PlayerInfo[playerid][pAdmin] < 1
		{
			SendClientMessage(playerid, COLOR_GREY, "CEPBEP: {800000}Общий чат отключён админом !");
			return 0;
		}
		if(GetPVarInt(playerid, "gOoc") == 1)// && PlayerInfo[playerid][pAdmin] < 1
		{
			SendClientMessage(playerid, COLOR_GREY, "CEPBEP: {800000}У Вас отключен Общий чат (USE: /togooc), чтобы включить.");
			return 0;
		}
		if(PlayerInfo[playerid][pMuted] > GetTickCount())
		{
			SendClientMessage(playerid, COLOR_RED, "CEPBEP: {800000}Вы не можете говорить, Вы заглушены !");
			return 0;
		}
		if(!strlen(text))
		{
			SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: (/o)oc [ooc chat]");
			return 0;
		}
		strmid(strtxt, text, 0, strlen(text), MAX_STRING);
		SendOOCMessage(playerid, AntiSweer(playerid, strtxt));
		return 0;//иначе будет дублироваться в чате
	}
 	//--------------------------------------------------------------------------
	//для интервью в фургоне журналистов
	else if(TalkingLive[playerid] != MAX_PLAYERS-1)
	{
		if(IsPlayerNPC(playerid)) { return 0; }//чтобы работала ф-ия SendChat
		if(PlayerInfo[playerid][pMember] == SAN)
		{
		    format(strtxt, sizeof(strtxt), "Ведущий %s: %s", PlayerName(playerid), text);
			OOCNews(COLOR_GOLDEN, strtxt);

			WatchingTVCounter[playerid] ++;
			new strtmp[8+10];
		    format(strtmp, sizeof(strtmp), "+~g~$%d", WatchingTVCounter[playerid]);
		    GameTextForPlayerEx(playerid, strtmp, 5000, 6);
		}
		else
		{
		    format(strtxt, sizeof(strtxt), "В эфире %s: %s", PlayerName(playerid), text);
			OOCNews(COLOR_GOLDEN, strtxt);

			WatchingTVCounter[TalkingLive[playerid]] ++;
			new strtmp[8+10];
		    format(strtmp, sizeof(strtmp), "+~g~$%d", WatchingTVCounter[TalkingLive[playerid]]);
		    GameTextForPlayerEx(Offer[playerid], strtmp, 5000, 6);
		}
		return 0;//иначе будет дублироваться в чате
	}
	//==========================================================================
	//для команды invite
	/*else if(SelectChar[playerid] == 1)
	{
	    //new idx;
	    //tmp = strtok(text, idx);
	    if(!strcmp(text, "next", true, strlen(text)) && strlen(text) == strlen("next"))
		{
			new ind, Found, Determined[MAX_SKINS];//массив для хранения найденых
			for(new i=0;i<MAX_SKINS;i++)//сканируем все скины
			{   //у которых тип совпадает с членом команды
				if( SkinArray[i][Type_Ped] == PlayerInfo[playerid][pMember]
				 	&& SkinArray[i][Gender] == PlayerInfo[playerid][pSex])
				{
					Determined[ind] = i; ind ++; Found=1;
				}//записали в массив тот ID соотв
			}
			if(SelectCharPlace[playerid] == ind) SelectCharPlace[playerid] = 0;//обнуляем счётчик при достижения конца массива
			if(Found == 1)
			{   //если нашли
				ChosenSkin[playerid] = SkinArray[ Determined[SelectCharPlace[playerid]] ][Skin_ID];
				SetPlayerSkinEx(playerid, ChosenSkin[playerid]);
			    SelectCharPlace[playerid] ++;
			}
		    return 0;
		}
		else if(!strcmp(text, "done", true, strlen(text)) && strlen(text) == strlen("done"))
		{
			PlayerInfo[playerid][pVirtual] = Unspec[playerid][sVirtual];
			PlayerInfo[playerid][pInt] = Unspec[playerid][sInt];
			PlayerInfo[playerid][pLocal] = Unspec[playerid][sLocal];
			Unspec[playerid][sLocal] = FREEROAM;

		    PlayerInfo[playerid][pChar] = ChosenSkin[playerid];
		    if(	PlayerInfo[playerid][pMember] >= TEAM_GROVE &&
				PlayerInfo[playerid][pMember] <= TEAM_MAFIA) PlayerInfo[playerid][pModel] = ChosenSkin[playerid];
			SetSpawnInfoEx(playerid, PlayerInfo[playerid][pTeam], PlayerInfo[playerid][pChar], Unspec[playerid][sPx],  Unspec[playerid][sPy], Unspec[playerid][sPz]+1.0, 0.0, -1, -1, -1, -1, -1, -1);
			//gMedicBill[playerid] = 0;
			SpawnPlayer(playerid);
			OnPlayerSetDutyWeapons(playerid);//запускаем ф-ию установки оружия
		    SelectCharPlace[playerid] = 0;
		    SelectCharID[playerid] = 0;
		    SelectChar[playerid] = 0;
			spectateid[playerid] = MAX_PLAYERS-1;//переводим в незрители
		}
		else
		{
		    SendClientMessage(playerid, COLOR_LIGHTBLUE, "* Используйте 'next', или 'done'.");
		}
		return 0;//иначе будет дублироваться в чате
	}*/
 	//--------------------------------------------------------------------------
	//для телефонов
	else if(playeridMobileCall[playerid] != MAX_PLAYERS-1 && GetPVarInt(playerid, "gChatSwitcher") == Off)
	{
	    new idx;
	    tmp = strtok(text, idx);
		new strtmp[65 + 128+24+3];//65 - максимальная для всех сообщений 911
		if(gCellTimeCounter[playeridMobileCall[playerid]] != 0 || gCellTimeCounter[playerid] != 0)
		{   //если игрок на другом конце провода поднял трубку и начался разговор
			format(strtmp, sizeof(strtmp), "%s {AFAFAF}сказал (по телефону): {FFFF00}%s", PlayerName(playerid), text);
		    for(new t=0; t< sizeof(Telephone); t++)
		    {
				if(IsPlayerInRangeOfPoint(playerid, 1.35, Telephone[t][0], Telephone[t][1], Telephone[t][2]))
				{
					format(strtmp, sizeof(strtmp), "Голос из трубки: %s", text);
					break;
				}
			}
			if(IsPlayerConnected(playeridMobileCall[playerid]) && !IsPlayerNPC(playeridMobileCall[playerid]))
			{
			    if(playeridMobileCall[playeridMobileCall[playerid]] == playerid)
			    {
					//SendClientMessage(playeridMobileCall[playerid], COLOR_YELLOW, strtxt);
					SendClientMessage(playeridMobileCall[playerid], COLOR_LILAC, strtmp);//пошло на получение собеседнику
				}
			}
			//ProxDetectorTelephone(playerid, COLOR_LILAC, strtmp);//пошло на прослушку и вернуло отправителю

			PlayerInfo[playerid][pParam3] -= 3;
			if(PlayerInfo[playerid][pParam3] < operator3) { gParameter3[playerid] = 0; }
			if(PlayerInfo[playerid][pParam3] <= 0) { PlayerInfo[playerid][pParam3] = 0; }
			SetPlayerShowScale(playerid, 3, PlayerInfo[playerid][pParam3], operator3);
		}
		//return 0;
//- 0, обрывание события, сообщение не выводиться в чат и не обрабатывается остальными скриптами, полное обрывание.
//Порядок обработки: филтрскрипты, гейммод.
	}
//===============================================================================
	else if(PlayerInfo[playerid][pMuted] > GetTickCount())
	{   //не должно влиять на телефоны и служебные возможности
		SendClientMessage(playerid, COLOR_PINK, "Админ отнял у вас возможность говорить в чате. Попросите снять наказание. Пока вы можете писать только в /me");
		return 0;//иначе будет дублироваться в чате
	}
	//==========================================================================
	else if(WritingQuestion[playerid] > 0)//для опроса STEP2
	{   //если какой-то игрок начал составление опроса
		WritingQuestioningText(playerid, text);
	    return 0;
	}
	//=========================================================================
	//для газет STEP3
	else if(WritingPaper[playerid] > 0)
	{   //если флаг поднят командой /paper т.е. то что вы бы не писали всё будет фиксироаться сдесь
		//----------------------------------------------------------------------
		//text[] - Строка, длину которой вы хотите знать в виде целого числа.
        new idx;
		new length = strlen(text);//Эта функция может быть использована для проверки длины указанной строки.
		while ((idx < length) && (text[idx] <= ' ')) idx ++;//подсчитали кол-во симвлов до пробела
		new offset = idx;//записываем позицию пробела в полученной строке
		new result[128];
		while ((idx < length) && ((idx - offset) < (sizeof(result) - 1)))
		{
			result[idx - offset] = text[idx];//в переменную result записать символы с позиции после пробела
			idx ++;
		}
		result[idx - offset] = EOS;//End of Scipt - для обнуления данных в строке...
		//----------------------------------------------------------------------
		if(!strlen(result))
		{
		    if(WritingStep[playerid] == 1) SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Пожалуйста напишите название для вашей газеты.");
			//если поднят флаг для название для вашей газеты
		    else SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Пожалуйста напишити полосу для вашей газеты");
			return 0;
		}
        new nstring[128];
	    new line;
		format(nstring, sizeof(nstring), "%s", text);//полоса текста
		switch(WritingStep[playerid])
		{
		    case 1://если пишим название газеты
		    {
				if(strlen(nstring) > 32)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Максимальное кол-во символов для названия газеты не более 32 !");
					return 0;
				}
		        new fstring[MAX_PLAYER_NAME];
				format(fstring, sizeof(fstring), "%s", PlayerName(playerid));
				strmid(PaperInfo[WritingPaperNumber[playerid]][PaperMaker], fstring, 0, strlen(fstring), MAX_PLAYER_NAME);
		        strmid(PaperInfo[WritingPaperNumber[playerid]][PaperTitle], nstring, 0, strlen(nstring), 128);
		        line = 0; WritingStep[playerid] = 2;//поднимаем флаг для написания 1 полосы
		        SendClientMessage(playerid, COLOR_GREY, "   Теперь вы можете написать 10 полос новостей.");
		    }
		    case 2:
		    {
				if(strlen(nstring) > 70)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Максимальное кол-во символов для одной полосы газеты не более 70 !");
					return 0;
				}
		        strmid(PaperInfo[WritingPaperNumber[playerid]][PaperText1], nstring, 0, strlen(nstring), 70);
		        line = 1; WritingStep[playerid] = 3;
		    }
		    case 3:
		    {
				if(strlen(nstring) > 70)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Максимальное кол-во символов для одной полосы газеты не более 70 !");
					return 0;
				}
		        strmid(PaperInfo[WritingPaperNumber[playerid]][PaperText2], nstring, 0, strlen(nstring), 70);
		        line = 2; WritingStep[playerid] = 4;
		    }
		    case 4:
		    {
				if(strlen(nstring) > 70)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Максимальное кол-во символов для одной полосы газеты не более 70 !");
					return 0;
				}
		        strmid(PaperInfo[WritingPaperNumber[playerid]][PaperText3], nstring, 0, strlen(nstring), 70);
		        line = 3; WritingStep[playerid] = 5;
		    }
		    case 5:
		    {
				if(strlen(nstring) > 70)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Максимальное кол-во символов для одной полосы газеты не более 70 !");
					return 0;
				}
		        strmid(PaperInfo[WritingPaperNumber[playerid]][PaperText4], nstring, 0, strlen(nstring), 70);
		        line = 4; WritingStep[playerid] = 6;
		    }
		    case 6:
		    {
				if(strlen(nstring) > 70)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Максимальное кол-во символов для одной полосы газеты не более 70 !");
					return 0;
				}
		        strmid(PaperInfo[WritingPaperNumber[playerid]][PaperText5], nstring, 0, strlen(nstring), 70);
		        line = 5; WritingStep[playerid] = 7;
		    }
		    case 7:
		    {
				if(strlen(nstring) > 70)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Максимальное кол-во символов для одной полосы газеты не более 70 !");
					return 0;
				}
		        strmid(PaperInfo[WritingPaperNumber[playerid]][PaperText6], nstring, 0, strlen(nstring), 70);
		        line = 6; WritingStep[playerid] = 8;
		    }
		    case 8:
		    {
				if(strlen(nstring) > 70)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Максимальное кол-во символов для одной полосы газеты не более 70 !");
					return 0;
				}
		        strmid(PaperInfo[WritingPaperNumber[playerid]][PaperText7], nstring, 0, strlen(nstring), 70);
		        line = 7; WritingStep[playerid] = 9;
		    }
		    case 9:
		    {
				if(strlen(nstring) > 70)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Максимальное кол-во символов для одной полосы газеты не более 70 !");
					return 0;
				}
		        strmid(PaperInfo[WritingPaperNumber[playerid]][PaperText8], nstring, 0, strlen(nstring), 70);
		        line = 8; WritingStep[playerid] = 10;
		    }
		    case 10:
		    {
				if(strlen(nstring) > 70)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Максимальное кол-во символов для одной полосы газеты не более 70 !");
					return 0;
				}
		        strmid(PaperInfo[WritingPaperNumber[playerid]][PaperText9], nstring, 0, strlen(nstring), 70);
		        line = 9; WritingStep[playerid] = 11;
		    }
		    case 11:
		    {
				if(strlen(nstring) > 70)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Максимальное кол-во символов для одной полосы газеты не более 70 !");
					return 0;
				}
		        strmid(PaperInfo[WritingPaperNumber[playerid]][PaperText10], nstring, 0, strlen(nstring), 70);
		        line = 10; WritingStep[playerid] = 12;
		    }
		    case 12:
		    {
				if(strlen(nstring) > 70)
				{
					SendClientMessage(playerid, COLOR_GREY, "   Максимальное кол-во символов для одной полосы газеты не более 70 !");
					return 0;
				}
		        strmid(PaperInfo[WritingPaperNumber[playerid]][PaperText11], nstring, 0, strlen(nstring), 70);
		        PaperInfo[WritingPaperNumber[playerid]][PaperUsed] = WritingPaperNumber[playerid]+1;//поднимаем флаг что газеты под этим номерам написана
		        PaperInfo[WritingPaperNumber[playerid]][PaperDate] = getdate();//поднимаем флаг что газеты под этим номерам сохранена
				SavePapers();//запускаем ф-ию сохранения
		        line = 11; WritingStep[playerid] = 0; WritingPaperNumber[playerid] = MAX_PAPERNUMBER; WritingPaper[playerid] = 0;//закончилил написание газеты
		    }
		    default:
		    {
		    	return 0;
		    }
		}
		if(line > 0)
		{
			format(strtxt, sizeof(strtxt), "   Bы написали полосу №%d в газете.", line);
			SendClientMessage(playerid, COLOR_LIGHTBLUE, strtxt);
			if(line >= 11)
			{
			    SendClientMessage(playerid, COLOR_GREY, "   Ваша газета добавлена к списку новостей для Курьера.");
			    new payout = floatround(10000*(PlayerInfo[playerid][pLevel]+PlayerInfo[playerid][pRank])/10);
				//GivePlayerMoneyB(1, playerid, payout/2);
				FamilyInfo[SAN][fBank] += payout;
			}
		}
	    //return 0;
	}
	//--------------------------------------------------------------------------
	//для свадьбы
	else if(gMarriageCeremoney[playerid] > 0)
	{
	    //new idx;
	    //tmp = strtok(text, idx);
	    if(!strcmp("yes", text, true, strlen(text)) && strlen(text) == strlen("yes"))
		{
		    if(GotProposedBy[playerid] < MAX_PLAYERS-1)
		    {
			    if(IsPlayerConnected(GotProposedBy[playerid]) && !IsPlayerNPC(GotProposedBy[playerid]))
				{
				    format(strtxt, sizeof(strtxt), "Cвященник: %s Вы берёте свою прекрасную %s в Жёны? (напишите 'yes', чтобы согласиться).", PlayerName(GotProposedBy[playerid]),PlayerName(playerid));
					SendClientMessage(GotProposedBy[playerid], COLOR_WHITE, strtxt);
					gMarriageCeremoney[GotProposedBy[playerid]] = 1;
					gMarriageCeremoney[playerid] = 0;
					GotProposedBy[playerid] = MAX_PLAYERS-1;
			    }
			    else
			    {
			        gMarriageCeremoney[playerid] = 0;
			        GotProposedBy[playerid] = MAX_PLAYERS-1;
			    }
			}
			else if(ProposedTo[playerid] < MAX_PLAYERS-1)
			{
			    if(IsPlayerConnected(ProposedTo[playerid]) && !IsPlayerNPC(ProposedTo[playerid]))
				{
					if(PlayerInfo[playerid][pSex] == Male && PlayerInfo[ProposedTo[playerid]][pSex] == Female)
					{
						format(strtxt, sizeof(strtxt), "Cвященник: %s и %s теперь Вы являетесь Мужем и Женой, Вы можете поцеловать Невесту.", PlayerName(playerid), PlayerName(ProposedTo[playerid]));
						SendClientMessage(playerid, COLOR_LIGHTBLUE, strtxt);
				   		format(strtxt, sizeof(strtxt), "Cвященник: %s и %s Я объявляю Вас теперь... Мужем и Женой, Вы можете поцеловать Жениха.", PlayerName(ProposedTo[playerid]), PlayerName(playerid));
						SendClientMessage(ProposedTo[playerid], COLOR_LIGHTBLUE, strtxt);
						format(strtxt, sizeof(strtxt), "Marriage News: У нас есть новая Семейная пара, %s и %s вступили в брак.", PlayerName(playerid), PlayerName(ProposedTo[playerid]));
						ApplyAnimation(playerid, "KISSING", "Grlfrd_Kiss_02", 4.0, 0, 0, 0, 0, 0);
						OOCNews(COLOR_PINK, strtxt);
					}
					else if(PlayerInfo[playerid][pSex] == Male && PlayerInfo[ProposedTo[playerid]][pSex] == Male)
					{
					    format(strtxt, sizeof(strtxt), "Eпископ: %s и %s теперь вы являетесь Партнерами, теперь вы можете поцеловать Партнера.", PlayerName(playerid), PlayerName(ProposedTo[playerid]));
						SendClientMessage(playerid, COLOR_PINK, strtxt);
				   		format(strtxt, sizeof(strtxt), "Eпископ:  %s и %s я объявляю Вас теперь... Партнерами, теперь вы можете поцеловать Партнера.", PlayerName(ProposedTo[playerid]), PlayerName(playerid));
						SendClientMessage(ProposedTo[playerid], COLOR_PINK, strtxt);
						format(strtxt, sizeof(strtxt), "Marriage News: У нас есть новая Гомосексуальная пара, %s и %s вступили в однополый брак.", PlayerName(playerid), PlayerName(ProposedTo[playerid]));
						OOCNews(COLOR_LIGHTBLUE, strtxt);
					}
					else if(PlayerInfo[playerid][pSex] == Female && PlayerInfo[ProposedTo[playerid]][pSex] == Female)
					{
					    format(strtxt, sizeof(strtxt), "Eпископ: %s и %s теперь вы являетесь Партнерами, теперь вы можете поцеловать Партнершу.", PlayerName(playerid), PlayerName(ProposedTo[playerid]));
						SendClientMessage(playerid, COLOR_LIGHTBLUE, strtxt);
				   		format(strtxt, sizeof(strtxt), "Eпископ:  %s и %s я объявляю Вас теперь... Партнершами, теперь вы можете поцеловать Партнершу.", PlayerName(ProposedTo[playerid]), PlayerName(playerid));
						SendClientMessage(ProposedTo[playerid], COLOR_LIGHTBLUE, strtxt);
						format(strtxt, sizeof(strtxt), "Marriage News: У нас есть новая Лесбийская пара, %s и %s вступили в однополый брак.", PlayerName(playerid), PlayerName(ProposedTo[playerid]));
						OOCNews(COLOR_PINK, strtxt);
					}
					//gMarriageCeremoney[ProposedTo[playerid]] = 1;
					gMarriageCeremoney[ProposedTo[playerid]] = 0;
					gMarriageCeremoney[playerid] = 0;

    				GivePlayerMoneyH(ftax, playerid, -100000);//для экономики
					if(BizInfo[0][bTill]+100000 < 2147480000) {
						BizInfo[0][bTill] += 100000;
						BizInfo[0][bExport] += 100000;
					}
					PlayerInfo[playerid][pMarried] = 1;
					PlayerInfo[ProposedTo[playerid]][pMarried] = 1;
   					strmid(PlayerInfo[playerid][pMarriedTo], PlayerName(ProposedTo[playerid]), 0, strlen(PlayerName(ProposedTo[playerid])), 255);
					strmid(PlayerInfo[ProposedTo[playerid]][pMarriedTo],  PlayerName(playerid), 0, MAX_PLAYER_NAME, MAX_PLAYER_NAME);

					ProposedTo[playerid] = MAX_PLAYERS-1;
					gMarriageCeremoney[playerid] = 0;
			    }
			    else
			    {
			        gMarriageCeremoney[playerid] = 0;
			        ProposedTo[playerid] = MAX_PLAYERS-1;
			    }
			}
		}
		else
		{
		    if(GotProposedBy[playerid] < MAX_PLAYERS-1)
		    {
				if(IsPlayerConnected(GotProposedBy[playerid]) && !IsPlayerNPC(GotProposedBy[playerid]))
				{
					format(strtxt, sizeof(strtxt), "* Вы не хотите вступить в брак с %s, вы несказали 'yes'.", PlayerName(GotProposedBy[playerid]));
				    SendClientMessage(playerid, COLOR_YELLOW, strtxt);
				    format(strtxt, sizeof(strtxt), "* %s хочет вступить с вами в брак, скажите 'yes' чтобы принять.", PlayerName(playerid));
				    SendClientMessage(GotProposedBy[playerid], COLOR_YELLOW, strtxt);
			    }
			    else
			    {
			        gMarriageCeremoney[playerid] = 0;
			        GotProposedBy[playerid] = MAX_PLAYERS-1;
			    }
		    }
		    else if(ProposedTo[playerid] < MAX_PLAYERS-1)
			{
			    if(IsPlayerConnected(ProposedTo[playerid]) && !IsPlayerNPC(ProposedTo[playerid]))
				{
					format(strtxt, sizeof(strtxt), "* Вы нехотите вступить в брак с %s, вы несказали 'yes'.", PlayerName(ProposedTo[playerid]));
				    SendClientMessage(playerid, COLOR_YELLOW, strtxt);
				    format(strtxt, sizeof(strtxt), "* %s хочет вступить с вами в брак, скажите 'yes' чтобы принять.", PlayerName(playerid));
				    SendClientMessage(ProposedTo[playerid], COLOR_YELLOW, strtxt);
			    }
			    else
			    {
			        gMarriageCeremoney[playerid] = 0;
			        ProposedTo[playerid] = MAX_PLAYERS-1;
			    }
			}
		}
	    //return 0;
	}
 	//--------------------------------------------------------------------------
	else if(ConnectedToPC[playerid] == 1)	//для киллеров
	{   //если вы подключились к ПК
	    new idx;
	    tmp = strtok(text, idx);
		if(!strcmp(text, "News", true))
		{
			tmp = strtok(text, idx);
			if(!strlen(tmp))
			{
				SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: News [number] [text] or News delete [number] or News delete all");
				SendClientMessage(playerid, COLOR_HERBAL, 	"|_______________ Hitman Agency News _______________|");
				format(strtxt, sizeof(strtxt), "1: %s :: Hitman: %s", News[hAdd1], News[hContact1]);
				SendClientMessage(playerid, COLOR_GRAD5, strtxt);
				format(strtxt, sizeof(strtxt), "2: %s :: Hitman: %s", News[hAdd2], News[hContact2]);
				SendClientMessage(playerid, COLOR_GRAD4, strtxt);
				format(strtxt, sizeof(strtxt), "3: %s :: Hitman: %s", News[hAdd3], News[hContact3]);
				SendClientMessage(playerid, COLOR_GRAD3, strtxt);
				format(strtxt, sizeof(strtxt), "4: %s :: Hitman: %s", News[hAdd4], News[hContact4]);
				SendClientMessage(playerid, COLOR_GRAD2, strtxt);
				format(strtxt, sizeof(strtxt), "5: %s :: Hitman: %s", News[hAdd5], News[hContact5]);
				SendClientMessage(playerid, COLOR_GRAD1, strtxt);
				SendClientMessage(playerid, COLOR_HERBAL, 	"|__________________________________________________|");
				return 0;
			}//lets start
			if(!strcmp(tmp, "1", true))
			{
			    if(PlayerInfo[playerid][pRank] < 6) { SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 6 ранга, чтобы оставлять новые сообщения !"); return 0; }
			    if(News[hTaken1] == 0)
			    {   //при сообщении на руском через пробел выводится только первое слово
			        if(strlen(text)-(strlen(tmp)) < 9) { SendClientMessage(playerid, COLOR_GREY, "   Cообщение должно содержать не менее 3 символов !"); return 0; }
					format(strtxt, sizeof(strtxt), "%s",right(text,strlen(text)-7));//пропустить первые 7 символов "news 1 "
					strmid(News[hAdd1], strtxt, 0, strlen(strtxt), 128);
					format(strtxt, sizeof(strtxt), "%s", PlayerName(playerid));
					strmid(News[hContact1], strtxt, 0, strlen(strtxt), 128);
					News[hTaken1] = 1;
					SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Bы разместили Сообщение 1 в Канале Новостей Агентства Hitman.");
			    }
			    else
			    {
			        SendClientMessage(playerid, COLOR_GREY, "   Объявление 1 уже используется !");
			    }
			}
			else if(!strcmp(tmp, "2", true))
			{
			    if(PlayerInfo[playerid][pRank] < 6) { SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 6 ранга чтобы оставлять новые сообщения !"); return 0; }
			    if(News[hTaken2] == 0)
			    {
			        if(strlen(text)-(strlen(tmp)) < 9) { SendClientMessage(playerid, COLOR_GREY, "   Текст сообщения слишком короткий !"); return 0; }
					format(strtxt, sizeof(strtxt), "%s",right(text,strlen(text)-7)); strmid(News[hAdd2], strtxt, 0, strlen(strtxt), 128);
					format(strtxt, sizeof(strtxt), "%s", PlayerName(playerid)); strmid(News[hContact2], strtxt, 0, strlen(strtxt), 128);
					News[hTaken2] = 1;
					SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Bы разместили Сообщение 2 в Канале Новостей Агентства Hitman.");
			    }
			    else
			    {
			        SendClientMessage(playerid, COLOR_GREY, "   Объявление 2 уже используется !");
			    }
			}
			else if(!strcmp(tmp, "3", true))
			{
			    if(PlayerInfo[playerid][pRank] < 6) { SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 6 ранга, чтобы оставлять новые сообщения !"); return 0; }
			    if(News[hTaken3] == 0)
			    {
			        if(strlen(text)-(strlen(tmp)) < 9) { SendClientMessage(playerid, COLOR_GREY, "   Текст сообщения слишком короткий !"); return 0; }
					format(strtxt, sizeof(strtxt), "%s",right(text,strlen(text)-7)); strmid(News[hAdd3], strtxt, 0, strlen(strtxt), 128);
					format(strtxt, sizeof(strtxt), "%s", PlayerName(playerid)); strmid(News[hContact3], strtxt, 0, strlen(strtxt), 128);
					News[hTaken3] = 1;
					SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Bы разместили Сообщение 3 в Канале Новостей Агентства Hitman.");
			    }
			    else
			    {
			        SendClientMessage(playerid, COLOR_GREY, "   Объявление 3 уже используется !");
				}
			}
			else if(!strcmp(tmp, "4", true))
			{
			    if(PlayerInfo[playerid][pRank] < 6) { SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 6 ранга чтобы оставлять новые сообщения !"); return 0; }
			    if(News[hTaken4] == 0)
			    {
			        if(strlen(text)-(strlen(tmp)) < 9) { SendClientMessage(playerid, COLOR_GREY, "   Текст сообщения слишком короткий !"); return 0; }
					format(strtxt, sizeof(strtxt), "%s",right(text,strlen(text)-7)); strmid(News[hAdd4], strtxt, 0, strlen(strtxt), 128);
					format(strtxt, sizeof(strtxt), "%s", PlayerName(playerid)); strmid(News[hContact4], strtxt, 0, strlen(strtxt), 128);
					News[hTaken4] = 1;
					SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Bы разместили Сообщение 4 в Канале Новостей Агентства Hitman.");
			    }
			    else
			    {
			        SendClientMessage(playerid, COLOR_GREY, "   Объявление 4 уже используется !");
			    }
			}
			else if(!strcmp(tmp, "5", true))
			{
			    if(PlayerInfo[playerid][pRank] < 6) { SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 6 ранга чтобы оставлять новые сообщения !"); return 0; }
			    if(News[hTaken5] == 0)
			    {
			        if(strlen(text)-(strlen(tmp)) < 9) { SendClientMessage(playerid, COLOR_GREY, "   Текст сообщения слишком короткий !"); return 0; }
					format(strtxt, sizeof(strtxt), "%s",right(text,strlen(text)-7)); strmid(News[hAdd5], strtxt, 0, strlen(strtxt), 128);
					format(strtxt, sizeof(strtxt), "%s", PlayerName(playerid)); strmid(News[hContact5], strtxt, 0, strlen(strtxt), 128);
					News[hTaken5] = 1;
					SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Bы разместили Сообщение 5 в Канале Новостей Агентства Hitman.");
			    }
			    else
			    {
			        SendClientMessage(playerid, COLOR_GREY, "   Объявление 5 уже используется !");
			    }
			}
			else if(!strcmp(tmp, "delete", true))
			{
			    if(PlayerInfo[playerid][pRank] < 8)
			    {
			        SendClientMessage(playerid, COLOR_GREY, "   Вы должны быть 8 Ранга чтобы удалять сообщения !");
			        return 0;
			    }
			    new playername[MAX_PLAYER_NAME];
			    new x_tel[20];
				x_tel = strtok(text, idx);
				if(!strlen(x_tel)) {
				    SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: News delete [number] or News delete all.");
				    return 0;
				}
				if(!strcmp(x_tel, "1", true))
				{
					format(strtxt, sizeof(strtxt), "Nothing"); strmid(News[hAdd1], strtxt, 0, strlen(strtxt), 128);
					format(playername, MAX_PLAYER_NAME, "No-One");	strmid(News[hContact1], playername, 0, strlen(playername), MAX_PLAYER_NAME);
					News[hTaken1] = 0;
					SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Вы удалили Сообщение (1) из Канала Новостей Агентства Hitman.");
				}
				else if(!strcmp(x_tel, "2", true))
				{
					format(strtxt, sizeof(strtxt), "Nothing"); strmid(News[hAdd2], strtxt, 0, strlen(strtxt), 128);
					format(playername, MAX_PLAYER_NAME, "No-One");	strmid(News[hContact2], playername, 0, strlen(playername), MAX_PLAYER_NAME);
					News[hTaken2] = 0;
					SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Вы удалили сообщение (2) из Канала Новостей Агентства Hitman.");
				}
				else if(!strcmp(x_tel, "3", true))
				{
 					format(strtxt, sizeof(strtxt), "Nothing"); strmid(News[hAdd3], strtxt, 0, strlen(strtxt), 128);
					format(playername, MAX_PLAYER_NAME, "No-One");	strmid(News[hContact3], playername, 0, strlen(playername), MAX_PLAYER_NAME);
					News[hTaken3] = 0;
					SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Вы удалили сообщение (3) из Канала Новостей Агентства Hitman.");
				}
				else if(!strcmp(x_tel, "4", true))
				{
					format(strtxt, sizeof(strtxt), "Nothing"); strmid(News[hAdd4], strtxt, 0, strlen(strtxt), 128);
					format(playername, MAX_PLAYER_NAME, "No-One");	strmid(News[hContact4], playername, 0, strlen(playername), MAX_PLAYER_NAME);
					News[hTaken4] = 0;
					SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Вы удалили сообщение (4) из Канала Новостей Агентства Hitman.");
				}
				else if(!strcmp(x_tel, "5", true))
				{
					format(strtxt, sizeof(strtxt), "Nothing"); strmid(News[hAdd5], strtxt, 0, strlen(strtxt), 128);
					format(playername, MAX_PLAYER_NAME, "No-One");	strmid(News[hContact5], playername, 0, strlen(playername), MAX_PLAYER_NAME);
					News[hTaken5] = 0;
					SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Вы удалили сообщение (5) из Канала Новостей Агентства Hitman.");
				}
				else if(!strcmp(x_tel, "all", true))
				{
					format(strtxt, sizeof(strtxt), "Nothing"); strmid(News[hAdd1], strtxt, 0, strlen(strtxt), 128);
					format(playername, MAX_PLAYER_NAME, "No-One");	strmid(News[hContact1], playername, 0, strlen(playername), MAX_PLAYER_NAME);
					News[hTaken1] = 0;
					format(strtxt, sizeof(strtxt), "Nothing"); strmid(News[hAdd2], strtxt, 0, strlen(strtxt), 128);
					format(playername, MAX_PLAYER_NAME, "No-One");	strmid(News[hContact2], playername, 0, strlen(playername), MAX_PLAYER_NAME);
					News[hTaken2] = 0;
					format(strtxt, sizeof(strtxt), "Nothing"); strmid(News[hAdd3], strtxt, 0, strlen(strtxt), 128);
					format(playername, MAX_PLAYER_NAME, "No-One");	strmid(News[hContact3], playername, 0, strlen(playername), MAX_PLAYER_NAME);
					News[hTaken3] = 0;
					format(strtxt, sizeof(strtxt), "Nothing"); strmid(News[hAdd4], strtxt, 0, strlen(strtxt), 128);
					format(playername, MAX_PLAYER_NAME, "No-One");	strmid(News[hContact4], playername, 0, strlen(playername), MAX_PLAYER_NAME);
					News[hTaken4] = 0;
					format(strtxt, sizeof(strtxt), "Nothing"); strmid(News[hAdd5], strtxt, 0, strlen(strtxt), 128);
					format(playername, MAX_PLAYER_NAME, "No-One");	strmid(News[hContact5], playername, 0, strlen(playername), MAX_PLAYER_NAME);
					News[hTaken5] = 0;
					SendClientMessage(playerid, COLOR_LIGHTBLUE, "   Вы удалили все сообщения из Канала Новостей Агентства Hitman.");
				}
				else
				{
					SendClientMessage(playerid, COLOR_GRAYWHITE, "USE: News delete [number] or News delete all.");
				}
			}
		}
	    //return 0;
	}
	TestLog(OPTIM, "OnPlayerText", GetTickCount(), timers);//new timers = GetTickCount();
 	//--------------------------------------------------------------------------
	if(!gRealChat)
	{   //Для выключения обычного чата
		if(PlayerInfo[playerid][pMuted] > GetTickCount())
		{
			SendClientMessage(playerid, COLOR_GREY, "   Вы не можете говорить, Вы заглушены!");
			return 0;
		}
		//OnePlayAnim(playerid, "PED", "IDLE_CHAT", 4.1, 0, 1, 1, 1, 1);//остаются висеть руки в движении, когда должны быть согнуты в локтях
		//OnePlayAnim(playerid, "PED", "IDLE_CHAT", 4.1, 0, 1, 1, 1, 0);//после анимации замараживает
		//OnePlayAnim(playerid, "PED", "IDLE_CHAT", 4.1, 0, 1, 1, 0, 1);//не работает анимация
		OnePlayAnim(playerid, "PED", "IDLE_CHAT", 4.1, 0, 0, 0, 1, 1);
		//AudioMessage(playerid, text);
		//----------------------------------------------------------------------
  		if(!gPlayerLogged[playerid]) return 0;
		format(strtxt, sizeof(strtxt), "%s says: %s", PlayerName(playerid), text);
		ProxDetector(playerid, 30.0, strtxt, COLOR_GRAD2,COLOR_GRAD3,COLOR_GRAD4,COLOR_GRAD5,COLOR_GRAD6);
		//----------------------------------------------------------------------
		return 0;
	}
	//ApplyAnimation(playerid, "PED", "IDLE_CHAT", 4.1, 0, 1, 1, 1, 3000);
	//OnePlayAnim(playerid, "PED", "IDLE_CHAT", 4.0, 0, 1, 1, 0, 0);
	return 1;
//- 1, обрывание события, сообщение выводится в чат.
}// End OnPlayerText(playerid, text[])

//Warning: This callback was removed in SA-MP 0.3. See below how to create a /pm command.
/*public OnPlayerPrivmsg(playerid, recieverid, text[])
{


	//ИНФОРМИРОВАНИЕ
	//new strings[MAX_STRING];
	format(strings, sizeof(strings), "OnPlayerPrivmsg(playerid:%d, recieverid:%d, text:%s)", playerid, recieverid, text);
	//ABroadCast(COLOR_MAROON, strings, 10);
	SendClientMessageToAll(COLOR_YELLOW, strings);
	return 1;
}*/




stock transfer_OnDialogResponse(playerid, dialogid, response, listitem, inputtext[])
{
	//#pragma unused listitem
	//#pragma unused inputtext
	if(dialogid != TRANSFER_DIALOG) return 1;
	SetPVarInt(playerid, "gShowDialog", -1);
	if(!response) return 1;
	new msgitem[256+1];
   	if(MenuOperation[playerid] == 120)
	{
		if(listitem == 0)
		{
			SetPVarInt(playerid, "Family", DoT);
		}
		else if(listitem == 1)
		{
			SetPVarInt(playerid, "Family", FBI);
		}
		else if(listitem == 2)
		{
			SetPVarInt(playerid, "Family", DoD);
		}
		else if(listitem == 3)
		{
			SetPVarInt(playerid, "Family", DoH);
		}
		else if(listitem == 4)
		{
			SetPVarInt(playerid, "Family", SAN);
		}
		else if(listitem == 5)
		{
			SetPVarInt(playerid, "Family", DoE);
		}
		MenuOperation[playerid] = 121;
		new caption[16+36];
		format(caption, sizeof(caption), "Для фракции: %s", GetFamilyName(GetPVarInt(playerid, "Family")) );
		ShowPlayerDialogGap(playerid, TRANSFER_DIALOG, DIALOG_STYLE_INPUT, caption, "Введите сумму перевода. \n\n\t{8CAA63}По окончанию ввода нажмите OK.", "OK", "Cancel");
	}
   	else if(MenuOperation[playerid] == 121)
	{
		new money = strval(inputtext);
        if(money < 1 || money > BizInfo[0][bTill])
        {
            SendClientMessage(playerid, COLOR_GREY, "   Сумма не может быть меньше $1 и не более всей казны !");
            return 1;
        }
		new family = GetPVarInt(playerid, "Family");
		FamilyInfo[family][fBank] += money;
		BizInfo[0][bTill] -= money; BizInfo[0][bImport] += money;
		SaveFamiliesSQL(PlayerName(playerid));

		format(msgitem, sizeof(msgitem), "%s получило $%d из бюджета штата СА.", GetFamilyName(GetPVarInt(playerid, "Family")), money);
		OOCNews(COLOR_HERBAL, "|_____________________________________ Правительственное сообщение _____________________________________|");
		OOCNews(COLOR_LIGHTBLUE, msgitem);
		//OOCNews(COLOR_HERBAL, "|__________________________________________________________________________________________________________|");

		format(msgitem, sizeof(msgitem), "AdmCmd: %s has give %s - $%d from tax", PlayerName(playerid), GetFamilyName(GetPVarInt(playerid, "Family")), money);
		Log(PAY,msgitem);
	}
	return 1;
}

