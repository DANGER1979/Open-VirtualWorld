//для квестов
new gCheckInMission[MAX_PLAYERS] = {-1, ...};//содержит индекс строки из массива CheckMission
new gInAdventure[MAX_PLAYERS];//флаг, что игрок в квесте


new NextStepOK[MAX_PLAYERS];
new NextStepCancel[MAX_PLAYERS];
new BackStep[MAX_PLAYERS];
new locpos[MAX_PLAYERS];//номер строки в массиве на которой мы счас находимся
new transpos[MAX_PLAYERS];

new ToPlanet[MAX_PLAYERS][20];
new ToStar[MAX_PLAYERS][20];
new Ranger[MAX_PLAYERS][MAX_PLAYER_NAME+1];
new FromPlanet[MAX_PLAYERS][32];
new FromStar[MAX_PLAYERS][32];
new Value[MAX_PLAYERS][10];

new pvar[MAX_PLAYERS][17];
#define MAX_FISH_LOCATION 200
enum locinfo
{
	locused,//текущая локация т.е.CreateActor номер строки которая ему отобразилась
	locmessage[128],//сообщение которое отображается в данной локации
	loccaption[70],//заголовок сообщения
	locyes,//номер локации при ответа ДА
	locno,//номер локации при ответа НЕТ
	locstyle//стиль вывода сообщения
//стили вывода сообщений
//#define DIALOG_STYLE_MSGBOX		0 //сообщени
//#define DIALOG_STYLE_INPUT		1 //строка ввода
//#define DIALOG_STYLE_LIST		2   //список
};
//МАССИВ ЛОКАЦИЙ
new FishLocation[MAX_FISH_LOCATION][locinfo] = {//35
{300, "Мы представляем Гуманитарное медицинское бюро, которое занимается помощью бездомным людям.", "",302,306,0},
{300, "\nВ данное время мы разрабатываем лекарство от рака, которым болеет вся курящая часть населения Америки.", "",302,306,0},
{300, "\nДля продолжения исследований нам нужны ткани и генетическая структура пангасиуса; точнее, не столько пангасиуса, ", "",302,306,0},
{300, "\nсколько вообще рыбных видов - семейства лососеевых, т.к. все они имеют идентичное строение. Мы уже договорились", "",302,306,0},
{300, "\nс правительством одного из городов штата, и они обещают предоставить нам для экспериментов несколько пангасиусов.", "",302,306,0},
{300, "\n<Ranger>, ваша задача - в качестве нашего представителя получить их в рыбном хозяйстве и доставить нам.", "",302,306,0},
{300, "\nДля транспортировки рыб вы получите контейнер. Просим вас обратить особое внимание на сроки выполнения контракта, ", "",302,306,0},
{300, "\nт.к. срок службы камеры ограничен. Если к следующему часу вы доставите хотя бы одного, а желательно несколько, ", "",302,306,0},
{300, "\nживых пангасиусов, то $5000 будут в вашем распоряжении сразу же по прибытию. Отправляйтесь в Мэрию.", "Гуманитарное медицинское бюро",302,306,0},
//9
{302, "Вы вошли в здание администрации штата. Найти отдел, отвечающий за международные проекты, не составило большого труда", "",304,306,0},
{302, "\n- он был самым маленьким из всех. В нем находился всего один клерк, сонно дремавший на выключенном терминале.", "",304,306,0},
{302, "\nНаконец вам удалось заставить клерка проснуться, вы сделали важный вид и произнесли:", "",304,306,0},
{302, "\n- Мое имя <Ranger>, я представляю <FromStar>, штата <ToStar>.", "",304,306,0},
{302, "\nЯ прибыл за экземпляром рыбы пангасиус, которое вы обязались предоставить депортаменту для экспериментов.", "",304,306,0},
{302, "\nПротерев глаза и потянувшись, клерк нехотя включил терминал и несколько минут молча созерцал его содержимое.", "",304,306,0},
{302, "\n- Мда, - произнес он затем. - Есть такое дело. В вашем распоряжении стандартный паек пангасиуса, ", "",304,306,0},
{302, "\nдоступных для лова в лагуне <ToPlanet>. Вся рыба, которую вы поймаете, будет в вашем распоряжении, ", "",304,306,0},
{302, "за вычетом налога, конечно же.\n-Я что-то не понимаю, - вы попытались сделать максимально важный вид.", "",304,306,0},
{302, "\n- Я прибыл за рыбой, которую вы должны предоставить для научных экспериментов! Вот капсула. Где же рыба, позвольте, а?", "",304,306,0},
{302, "\n- Послушайте, как вас там... - проговорил клерк, сонно сопли жуя, - наш город обязался предоставить вам рыбу, ", "",304,306,0},
{302, "\nно он не обязался ловить ее. Если вам нужна рыба, отправляйтесь в лагуну <ToPlanet> и ловите.", "",304,306,0},
{302, "\nЭто совсем недалеко от городка Palomino Creek. После этого вы будете вольны делать с ней все, что угодно.", "",304,306,0},
{302, "\nСредства лова вы получите на месте. А теперь, оставьте наконец меня в покое. Если вы согласны нажмите Accept.", "Администрации штата",304,306,0},
//23
{304, "Да, ради выполнения такой благородной миссии, как излечение тысяч страдающих, вы готовы на любой подвиг, ", "",308,306,0},
{304, "\n даже на ловлю рыбы в грязной лагуне. Вы выяснили, где находится эта лагуне <ToPlanet>, и прибыли на место.", "",308,306,0},
{304, "\nВ ларьке, где выдавали на прокат средства ловли, вам выдали традиционную снасть: жестяную палку с леской и съемными крючками.", "",308,306,0},
{304, "\nВы с недоверием рассмотрели агрегат, пытаясь сообразить, как с ним обращаться. Когда-то вы занимались ловлей рыбы", "",308,306,0},
{304, "\nна удочку, но то была более продвинутая автоматическая система с приманками и блеснами. Ловить же примитивной железкой, ", "",308,306,0},
{304, "\nгде нужно забрасывать грузило и затем тянуть ручку, вам еще не приходилось. Впрочем, разве это проблема", "",308,306,0},
{304, "\nдля <Ranger>'а? Конечно, вы разбирались и с более трудными проблемами. Необходимо было раздобыть наживку.", "",308,306,0},
{304, "\nВы подошли к какому-то человеку в зеленом мундире - видимо, местный рыбинспектор, - и спросили, где выдают наживку.", "",308,306,0},
{304, "\n- Выдают? - человек взглянул на вас, видимо подозревая, что вы не страдаете избытком ума.", "",308,306,0},
{304, "\n- Отправляйся на ручей Shady Creeek. Там полно пиявок и тараканов. Замечательная наживка. Пошел, добыл. Только знай меру, ", "",308,306,0},
{304, "\nздесь и другие кроме тебя есть. Что ж, к вашему унижению прибавилось то, что вам нужно нырять в ручей", "",308,306,0},
{304, "\nи ковыряться там в поисках местных насекомых.", "Ларёк Рабылова и Охотника",308,306,0},
//35
{306, "Вы выпятили грудь и с чувством уязвленного достоинства произнесли:", "",0,0,0},
{306, "\n- Я, <Ranger>, <FromPlanet>, гроза воров и хулиганов", "",0,0,0},
{306, "\n- опускаться до того, чтобы ловить рыбу в грязной лагуне в каком-то захудалом городке!", "",0,0,0},
{306, "\nНи за что! Ноги моей больше не будет сдесь! Однако похоже, что клерк вас уже не слышал, ", "",0,0,0},
{306, "\nпоскольку крепко спал. Пожав плечами, вы вышли наружу и вернулись к своей машине.", "Миссия провалена",0,0,0},
//40
{308, "Вы нырнули в вонючую жижу... Оп! Что-то шевелится! \nВы сжали кулак и вытащили насекомое на свет божий.", "",312,306,0},
{308, "\nЗдесь вы наклонец-то смогли рассмотреть вашу добычу: ПИЯВКА. \nПрекрасная наживка! \nЧтобы копаться дальше нажмите Drip.", "Тёмный Ручей",312,306,0},
//42
{310, "Вы нырнули в вонючую жижу... Оп! Что-то шевелится! \nВы сжали кулак и вытащили насекомое на свет божий.", "",312,306,0},
{310, "\nЗдесь вы наклонец-то смогли рассмотреть вашу добычу: ТАРАКАН. \nПрекрасная наживка! \nЧтобы копаться дальше нажмите Drip.", "Тёмный Ручей",312,306,0},
//44
{312, "Сзади словно ниоткуда возник рыбинспектор. Он был в форме рыбохраны, с полосатым жезлом в руках, ", "",314,306,0},
{312, "\nвот только на ногах у него вместо форменных ботинок были какие-то странные калоши.", "",314,306,0},
{312, "\n- Э, э, почтенный, довольно, - остановил он вас. - Знай меру. Всем должно хватить. Ты думаешь, ты один здесь такой?", "",314,306,0},
{312, "\nВы собрали отловленных насекомых в карман, некоторые из них предприняли попытку улизнуть, но она не увенчалась успехом.", "",314,306,0},
{312, "\nТеперь - вперед, к берегу! Когда вы выходили, а точнее, вылезали из болота, к вам подошел человек с такой же удочкой, ", "",314,306,0},
{312, "\nкак у вас, и шепотом, озираясь по сторонам, произнес:", "",314,306,0},
{312, "\n- Приятель, подкинь таракана! Я выловил ровно 10 килограмм и не хочу все это отдавать. А наживка кончилась.", "",314,306,0},
{312, "\nНе хочу уходить с пустыми руками.", "",314,306,0},
{312, "\n- А почему ты должен что-то отдавать? - поинтересовались вы. - Ты же наловил кучу рыбы.", "",314,306,0},
{312, "\n- Да ты здесь в первый раз! - изумился человек. - Здесь же налог на улов, текущая ставка - 10 кг.", "",314,306,0},
{312, "\nНеважно, сколько ты поймал, на выходе ты должен отдать 10 кг. Я вот должен буду отдать все, что есть, ", "",314,306,0},
{312, "\nпотому что я как раз и поймал 10 кг. Новую наживку добыть мне уже не дадут, эти соглядатаи все видят, ", "",314,306,0},
{312, "\nчтоб их... Ну будь другом, дай тараканчика, ну или двух пиявочек, я поймаю хоть одну рыбу для себя.", "",314,306,0},
{312, "\nА я дам тебе дельный совет, как новичку. А?\n", "Тёмный Ручей",313,306,1},
//58
{314, "Довольный человек бережно сунул обретенную наживку в карман на груди.", "",314,306,1},
{314, "\n- Слушай сюда. Рыба здесь, как и всякая морская тварь, не простая, а умная. Сначала она пасётся совсем рядом", "",314,306,1},
{314, "\nс берегом, а когда ты ее ловишь, она уплывает от берега. Причем она соображает даже, какую наживку ты используешь, ", "",314,306,1},
{314, "\nи уплывает быстрее от более крутой наживки. Тараканы, как ты понимаешь, более крутая наживка, чем пиявки.", "",314,306,1},
{314, "\nПоэтому надо забрасывать удочку все дальше, а потом перемещаться на другое место вслед за косяком. Так-то, приятель.", "",314,306,1},
{314, "\nПангасиус - умная тварь.", "",314,306,1},
{314, "\n- Понятно, ответили вы. - А куда перемещается косяк и откуда надо начинать?", "",314,306,1},
{314, "\n- Э, приятель, это уже второй совет! С тебя еще таракан или две пиявки...\n", "Тёмный Ручей",315,306,1},
//66
{316, "- Тебе лучше начинать ловить с восточного берега. Потому что на западном я взбаламутил всю воду. А рыба здесь", "",314,306,1},
{316, "\nплавает по часовой стрелке. Вероятнее всего, она переплывет к соседнему берегу, но также вполне может уплыть и", "",314,306,1},
{316, "\nк противоположному, и даже может сделать почти полный круг. Это у нас, мореплавателей, в крови - любим двигаться", "",314,306,1},
{316, "\nпо часовой стрелке. Ты, кстати, в курсе, что именно мы изобрели часовую стрелку?", "",314,306,1},
{316, "\nВы промычали что-то неопределённое, пытаясь переварить полученную информацию. Человек тем временем воровато", "",314,306,1},
{316, "\nогляделся по сторонам и зашептал вам на ухо:", "",314,306,1},
{316, "\n- Слушай, ещё за одного таракана или пару пиявочек я дам тебе взрыв-пакет и расскажу, как им пользоваться.", "",314,306,1},
{316, "\nПолезная штука!\n", "Тёмный Ручей",317,306,1},
//74
{318, "\nЧеловек быстро передал вам небольшой продолговатый цилиндр, завёрнутый в бумагу.", "",314,306,0},
{318, "\n- Активировать, я надеюсь, умеешь? - осведомился человек, и вы кивнули. - Отлично! Значит, активируешь и кидаешь", "",314,306,0},
{318, "\nв воду в любом конце лагуны. Важно, чтобы пакет взорвался прямо в воде. Тогда вся рыба, где бы она ни была, ", "",314,306,0},
{318, "\nбросится в противоположный от места взрыва конец пруда. Но если ты рассчитаешь неправильно, и взрыв произойдёт", "",314,306,0},
{318, "\nв воздухе, то его обязательно услышит рыбинспектор, и тебя прогонят отсюда взашей, отобрав весь улов.", "",314,306,0},
{318, "\nТак что сам решай, пользоваться пакетом или нет! И довольный человек ушёл прочь.", "Тёмный Ручей",326,306,0},
//80
{320, "- Ну как знаешь, - с весьма огорченным видом человек удалился восвояси.", "Тёмный Ручей",326,306,0},
//81
{322, "Довольный человек бережно сунул обретенную наживку в карман на груди.", "",314,306,1},
{322, "\n- Слушай сюда. Рыба здесь, как и всякая морская тварь, не простая, а умная. Сначала она пасётся совсем рядом", "",314,306,1},
{322, "\nс берегом, а когда ты ее ловишь, она уплывает от берега. Причем она соображает даже, какую наживку ты используешь, ", "",314,306,1},
{322, "\nи уплывает быстрее от более крутой наживки. Тараканы, как ты понимаешь, более крутая наживка, чем пиявки.", "",314,306,1},
{322, "\nПоэтому надо забрасывать удочку все дальше, а потом перемещаться на другое место вслед за косяком. Так-то, приятель.", "",314,306,1},
{322, "\nПангасиус - умная тварь.", "",314,306,1},
{322, "\n- Понятно, ответили вы. - А куда перемещается косяк и откуда надо начинать?", "",314,306,1},
{322, "\n- Э, приятель, это уже второй совет! С тебя еще таракан или две пиявки...\n", "Тёмный Ручей",323,306,1},
//89
{324, "- Тебе лучше начинать ловить с восточного берега. Потому что на западном я взбаламутил всю воду. А рыба здесь", "",314,306,1},
{324, "\nплавает по часовой стрелке. Вероятнее всего, она переплывет к соседнему берегу, но также вполне может уплыть и", "",314,306,1},
{324, "\nк противоположному, и даже может сделать почти полный круг. Это у нас, мореплавателей, в крови - любим двигаться", "",314,306,1},
{324, "\nпо часовой стрелке. Ты, кстати, в курсе, что именно мы изобрели часовую стрелку?", "",314,306,1},
{324, "\nВы промычали что-то неопределённое, пытаясь переварить полученную информацию. Человек тем временем воровато", "",314,306,1},
{324, "\nогляделся по сторонам и зашептал вам на ухо:", "",314,306,1},
{324, "\n- За твою щедрость я дам тебе взрыв пакет и расскажу, как им пользоваться. Полезная штука!", "",314,306,1},
{324, "\nЧеловек быстро передал вам небольшой продолговатый цилиндр, завёрнутый в бумагу.", "",314,306,1},
{324, "\n- Активировать, я надеюсь, умеешь? - осведомился человек, и вы кивнули. - Отлично! Значит, активируешь и кидаешь", "",314,306,1},
{324, "\nв воду в любом конце лагуны. Важно, чтобы пакет взорвался прямо в воде. Тогда вся рыба, где бы она ни была, ", "",314,306,1},
{324, "\nбросится в противоположный от места взрыва конец пруда. Но если ты рассчитаешь неправильно, и взрыв произойдёт", "",314,306,1},
{324, "\nв воздухе, то его обязательно услышит рыбинспектор, и тебя прогонят отсюда взашей, отобрав весь улов.", "",314,306,1},
{324, "\nТак что сам решай, пользоваться пакетом или нет! И довольный человек ушёл прочь.", "Тёмный Ручей",326,306,0},
//102
{326, "\nЛагуна <ToPlanet>, в котором водится пангасиус, покрыт тиной и плесенью. Неудивительно, думаете вы.", "",315,306,0},
{326, "\nВ какой же конец лагуны направиться?\n", "Рыбная Лагуна",327,306,1},
//104
{328, "\nВы находитесь на северном берегу лагуны. Берег здесь слегка заболочен.", "",331,315,0},
{328, "\nВы нашли более или менее сухое местечко и присели на землю. Что делать дальше?\n", "Северный берег",335,315,1},
//106
{330, "\nВы находитесь на восточном берегу лагуны. Берег здесь весьма заболочен, а сам пруд зарос камышом.", "",335,306,0},
{330, "\nВы решили не садиться на землю вообще. Что делать дальше?\n", "Восточный берег",335,306,1},
//108
{332, "\nВы находитесь на южном берегу лагуны. Берег здесь пологий, поросший мягкой травкой.", "",331,306,0},
{332, "\nВы сели прямо на траву. Что делать дальше?\n", "Южный берег",335,306,1},
//110
{334, "\nВы находитесь на западном берегу лагуны. Берег здесь крутой и обрывистый.", "",331,306,0},
{334, "\nВы нашли себе удобное местечко и присели на землю. Что делать дальше?\n", "Западный берег",335,306,1},
//112
{336, "\nВы нацепили свою наживку на удочку. Теперь надо решить, куда её забрасывать.\n", "На берегу",337,306,1},
//113
{338, "\nВы забросили удочку и стали ждать...", "На берегу",342,306,0},
//114
{340, "Вы потянули удочку на себя, но та не поддавалась. Вы приложили некоторое усилие и вскоре извлекли на свет ...", "у",340,338,0},
{340, "\nкакой-то старый ботинок! Рассмотрев внимательно свою находку, вы убедились, что ботинок совсем не старый, ", "",340,338,0},
{340, "\nон просто испачкан в иле и грязи. также вы разглядели форменную пряжку, на которой была выгравирована эмблема", "",340,338,0},
{340, "\nрыбоохранного общества штата <ToStar>. Да, теперь понятно, почему рыбинспектор был так странно обут...", "На берегу",326,338,0},
//118
{342, "\nПохоже, рыбы здесь нет. Отпустить крючок и смотать леску", "На берегу",326,306,0},
{342, "\nЧто ж, повезет в другой раз.", "На берегу",326,306,0},
//120
{344, "\nЕсть! Это должно быть рыба!", "На берегу",346,306,0},
//121
{346, "\nВы поймали рыбу весом в <Value> кг!", "На берегу",0,306,0},
//122
{348, "Вы бросили пакет в воду и инстинктивно зажали уши руками, ожидая услышать страшный грохот.", "у",326,306,0},
{348, "\nНо раздался только слабый хлопок.", "",326,306,0},
{348, "\nОднако, судя по волнам, которые неожиданно появились на девственно чистой глади лагуны, ", "",326,306,0},
{348, "\nподводный взрыв был весьма силён. Теперь вся рыба находится на противоположном от вас берегу лагуны.", "На берегу",326,306,0},
//126
{350, "На выходе вас уже поджидал рыбинспектор.", "",326,306,0},
{350, "\n- С вас 10 кг рыбы - налог на прибыль, знаете ли?\n", "На выходе из Рыбной Лагуны",351,306,1},
//128
{352, "- Точно, мой! - обрадовался инспектор.", "",351,306,1},
{352, "\n- Я случайно утопил его в пруду, когда мы с коллегами отмечали день рыбохраны...", "",351,306,1},
{352, "\nэээ-э, в смысле, совершали рейд по отлову браконьеров! Здорово, что ты его нашёл!", "",351,306,1},
{352, "\nЗа это я премирую тебя двумя наживками! Выбирай!", "",351,306,1},
{352, "\nИ он раскрыл перед вами свою сумку с копошащимися насекомыми.\n", "На выходе из Рыбной Лагуны",353,306,1},
//133
{354, "- Тогда вы должны отдать то, что у вас есть, - безапеляционно ответил вам инспектор.", "",353,306,1},
{354, "\n- Таковы правила. Или вам не нравятся наши правила?", "",353,306,1},
{354, "\nДалекий от любезного голос инспектора, а также 9 мм кольт, который он красноречиво вам демонстрировал, ", "",353,306,1},
{354, "\nсклонили вас в его сторону, и вы отдали всю рыбу, что наловили.", "На выходе из Рыбной Лагуны",396,306,0},
//137
{356, "\n- Рыба-то есть, но если вам не удалось ее поймать, это ваши проблемы.", "",353,306,0},
{356, "\nВы свободны, - безапеляционно ответил инспектор.", "На выходе из Рыбной Лагуны",396,306,0},
//139
{358, "При слове деньги лицо инспектора озарилось жадной улыбкой.", "",396,306,0},
{358, "\n- Что ж, за $3000 я готов \nв виде исключения освободить тебя от подоходного налога,\n - сказал он.\n", "На выходе из Рыбной Лагуны",361,306,1},
//141
{360, "- Итак, с тебя $<Value> налога! - сказал инспектор.\n", "На выходе из Рыбной Лагуны",361,306,1},
//------------------------------------------------------------------------------
//142
{362, "- А может, сбросишь $1000, а? - подмигнули вы инспектору.", "",361,306,1},
{362, "\n- Ладно, $1000 скину, - поморщился инспектор.\n", "На выходе из Рыбной Лагуны",360,306,0},
//144
{364, "- А может, сбросишь сотенку-другую, а? - подмигнули вы инспектору.", "",361,306,1},
{364, "\n- Экий ты жадный! - ухмыльнулся инспектор.", "",361,306,1},
{364, "\n- Впрочем, я и сам такой! Хорошо, снижаю твой налог на $1000 !\n", "На выходе из Рыбной Лагуны",360,306,0},
//147
{366, "- А может, сбросишь сотенку-другую, а? - подмигнули вы инспектору.", "",396,306,0},
{366, "\n- Так и быть, одну $1000 сброшу. Но не более! - всем своим видом инспектор показывал, ", "",396,306,0},
{366, "\nчто идёт на эту жертву лишь в виде исключения, оказывая большую услугу вам лично.", "На выходе из Рыбной Лагуны",360,306,0},
//150
{368, "- А может, сбросишь $1000, а? - подмигнули вы инспектору.", "",396,306,0},
{368, "\n- Эх! - вздохнул инспектор.", "",396,306,0},
{368, "\n- Мне не велено ссориться с рыбаками, а то выгонят.", "",396,306,0},
{368, "\nУ меня итак уже два предупреждения из трех возможных. Так и быть! Пусть будет на $1000 меньше...", "На выходе из Рыбной Лагуны",360,306,0},
//154
{370, "- А может, сбросишь $1000, а? - подмигнули вы инспектору.", "",396,306,0},
{370, "\n- Хорошо, сброшу одну $1000, - скривил рожу инспектор.", "",396,306,0},
{370, "\n-  Какой же вы, рыбаки, ушлый народ, всё-таки! Прям как моя теща!", "На выходе из Рыбной Лагуны",360,306,0},
//157
{372, "- А может, сбросишь $1000, а?! - подмигнули вы инспектору.", "",396,306,0},
{372, "\n- И не стыдно тебе обижать нищего рыбинспектора?! - покачал головой ваш собеседник.", "",396,306,0},
{372, "\n- Ладно, скину $1000, пусть мои дети голодают...", "На выходе из Рыбной Лагуны",360,306,0},
//160
{374, "- А может, сбросишь $1000, а?! - подмигнули вы инспектору.", "",396,306,0},
{374, "\n- И откуда ты взялся такой жадный?! - вопрос был риторический, но вы ответили.", "",396,306,0},
{374, "\n- Я, с <FromStar>...", "",360,306,0},
{374, "\nМда, ну тогда понятно. Ладно, сброшу, пожалуй, $1000 !", "На выходе из Рыбной Лагуны",360,306,0},
//164
{376, "- А может, сбросишь $1000, а?! - подмигнули вы инспектору.", "",396,306,0},
{376, "\n- Лады, сброшу $1000! - в тон вам ответил инспектор.", "На выходе из Рыбной Лагуны",360,306,0},
//166
{378, "- А может, сбросишь $1000, а?! - подмигнули вы инспектору.", "",396,306,0},
{378, "\n- Ладно, снижу налог на $1000 , - согласился инспектор.", "",396,306,0},
{378, "\n- Но это - в последний раз!", "На выходе из Рыбной Лагуны",360,306,0},
//169
{380, "- А может, сбросишь $1000, а?! - подмигнули вы инспектору.", "ы",396,306,0},
{380, "\n- Ладно, сброшу $1000, но только одну! - со вздохом поддался инспектор вашему напору.", "На выходе из Рыбной Лагуны",360,306,0},
//171
{382, "- А может, сбросишь $1000, а?! - подмигнули вы инспектору.", "Н",360,306,0},
{382, "\n- Ты мне надоел!!! - зарычал инспектор, тыкая вам пистолетом в самое лицо.", "",360,306,0},
{382, "\n- В общем, гони сюда всю свою рыбу и скажи спасибо, ", "ы",360,306,0},
{382, "\nчтобы я не оштрафовал тебя за попытку подкупа должностного лица!!!", "",360,306,0},
{382, "\nВы поняли, что спорить бесполезно, и отдали инспектору весь свой улов.", "На выходе из Рыбной Лагуны",396,306,0},
//------------------------------------------------------------------------------
{388, "- Вот и славно! - сказал инспектор, засовывая ваше подношение в карман. - Заходите почаще!", "",0,306,0},
{388, "\nВы поспешили сложить пойманную вами рыбу в контейнер. Теперь можно надеяться, что этого хватит для экспериментов.", "",0,306,0},
{388, "\nХотя, вы уже не могли поймать себя на том, что желали этим людям всяческого здоровья и расположения.\n", "",0,306,0},
{388, "\nХорошенько почистив свой костюм в местном болотце, которое показалось вам более-менее чистым, вы вернулись к машине.", "Рыбная Лагуна",392,306,0},
//180
{390, "- Очень хорошо, очень хорошо. Все остальное - ваше по праву. Заходите почаще!\n", "",0,306,0},
{390, "\nВы поспешили сложить, что у вас осталось, в контейнер. Теперь можно надеяться, что этого хватит для экспериментов.", "",0,306,0},
{390, "\nХотя, вы уже не могли поймать себя на том, что желали этим людям всяческого здоровья и расположения.", "",0,306,0},
{390, "\nХорошенько почистив свой костюм в местном болотце, которое показалось вам более-менее чистым, ", "",0,306,0},
{390, "\nвы вернулись к машине и отправились в Мэрию.", "Тёмный Ручей",392,306,0},
//185
{392, "<Ranger>, этого нам как раз хватит на то, чтобы продолжить наши эксперименты.", "",302,306,0},
{392, "\nСумма в $<Value> на вашем счету. Замечательно, теперь мы сможем разработать вакцину от рака", "Гуманитарное медицинское бюро",302,306,0},
{392, "\nи спасти жизни многих людей.", "Миссия выполнена",0,306,0},
//188
{394, "Похоже, вы не рассчитали с броском, и пакет взорвался прямо в воздухе. Мощный взрыв на некоторое время", "",0,306,0},
{394, "\nоглушил вас. Когда же вы немного пришли в себя, рядом с вами стоял разъярённый рыбинспектор. Отобрав у вас всю", "",0,306,0},
{394, "\nпойманную рыбу и наживки, он взашей вытолкал вас с территории лагуны.", "",0,306,0},
{394, "\n- И чтоб я больше тебя здесь не видел, проклятый браконьер!!!", "",0,306,0},
{394, "\n- проорал он вам вслед, пока вы понуро брели в сторону машины.", "На берегу",396,306,0},
//193
{396, "Хорошенько почистив свой костюм в местном болотце, которое показалось вам более-менее чистым, ", "",0,306,0},
{396, "\nвы вернулись к машине. Зря вы так старались им помочь, этим людям. Никогда еще вы не испытывали такого унижения, ", "",0,306,0},
{396, "\nкак сегодня. Оставалось тешить себя надеждой, что о вашем позоре не узнают другие сослуживцы.", "Миссия провалена",0,306,0},
//196
{398, "Как только стемнело, к вам подошёл рыбинспектор:", "",0,306,0},
{398, "\n-Ловля в тёмное время суток приравнивается к браконьерству!\nВы оштрафованы в размере вашего сегодняшнего улова!", "",0,306,0},
{398, "\nС этими словами рыбинспектор конфисковал у вас всю пойманную рыбу.", "",0,306,0},
{398, "\nПохоже, ваша миссия провалена.", "Миссия провалена",0,306,0}
};

//для квестов
#define MAX_FISH_TRANSITION 37
enum transinfo
{
	transused,
	transmessage[128],
	transyes,
	transno,
	transvariant
};
//МАССИВ ПЕРЕХОДОВ
new CheckFishLocation[MAX_FISH_TRANSITION][transinfo] = {
{313, "\n1. Дать двух пиявок",314,312,1},//0
{313, "\n2. Дать таракана",322,312,2},//1
{313, "\n3. Ничего не давать",320,312,3},//2

{315, "\n1. Дать двух пиявок",316,314,1},//3
{315, "\n2. Дать таракана",316,314,2},//4
{315, "\n3. Ничего не давать",320,314,3},//5

{317, "\n1. Дать двух пиявок",318,316,1},//6
{317, "\n2. Дать таракана",318,316,2},//7
{317, "\n3. Ничего не давать",320,316,3},//8

{323, "\n1. Дать двух пиявок",316,322,1},//9
{323, "\n2. Дать таракана",324,322,2},//10
{323, "\n3. Ничего не давать",320,322,3},//11

{327, "\n1. В северный - наверное, рыба лучше всего чувствует себя там",328,326,1},//12
{327, "\n2. В восточный - там, скорее всего, у рыбы больше корма",330,326,2},
{327, "\n3. В южный - должно быть, рыба ушла туда, где ей теплее",332,326,3},
{327, "\n4. В западный - кажется, он лучше других подходит для нереста",334,326,4},
{327, "\n5. Возвращаться",350,326,5},

{335, "\n1. Использовать взрыв-пакет",348,394,1},//17
{335, "\n2. Нацепить пиявку",336,326,2},
{335, "\n3. Нацепить таракана",336,326,3},
{335, "\n4. Пойти к другому берегу",326,326,4},
{335, "\n5. Возвращаться",350,326,5},

{337, "\n1. Забросить ближе к берегу",338,336,1},//22
{337, "\n2. Забросить подальше от берега",338,336,2},
{337, "\n3. Забросить как можно дальше",338,336,3},

{351, "\n1. Я, пожалуй, ещё половлю рыбу...",326,350,1},//25
{351, "\n2. 10 кг? Вы что, издеваетесь?! У меня нету столько!!!",354,350,2},
{351, "\n3. 10 кг? Вы что, издеваетесь?! Это же все, что у меня есть!!!",354,350,3},
{351, "\n4. Вы что, издеваетесь?! Я в вашем чертовом болоте вообще ничего не поймал! У вас тут рыбы нет!!!",356,350,4},
{351, "\n5. А может, вы возьмёте налог деньгами? А то у меня мало рыбы...",358,350,5},//29
{351, "\n6. Хорошо, хорошо, вот вам ваш налог. Мне нужно-то всего пару штучек.",390,350,6},
{351, "\n7. Скажите, это случайно не ваш ботинок?",352,350,7},

{353, "\n1. Взять двух пиявок и вернуться к берегу",326,350,1},//32
{353, "\n2. Взять двух тараканов и вернуться к берегу",326,350,2},
{353, "\n3. Взять таракана и пиявку и вернуться к берегу",326,350,3},

{361, "\n1. Торговаться",360,360,1},//35
{361, "\n2. Заплатить",388,360,2}//36
};
//==============================================================================

/*
#define PlayerConnect 5
#define PlayerDisconnect 6
#define PlayerDeath 8
#define onPlayerText 11
#define PlayerCommandText 12
#define PlayerEnterVehicle 14
#define PlayerExitVehicle 15
#define PlayerStateChange 16
#define PlayerEnterCheckpoint 17
#define PlayerLeaveCheckpoint 18
#define PlayerEnterRaceCheckpoint 19
#define PlayerLeaveRaceCheckpoint 20
#define ObjectMoved 23
#define PlayerObjectMoved 24
#define PlayerPickUpPickup 25
#define VehicleMod 26
#define EnterExitModShop 27
#define PlayerSelectedMenuRow 32//он часто будет срабатывать
#define PlayerExitedMenu 33
#define PlayerInteriorChange 34
#define PlayerKeyStateChange 35//он часто будет срабатывать
#define PlayerUpdate 37//он часто будет срабатывать
#define PlayerStreamIn 38
#define PlayerStreamOut 39
#define DialogResponse 42
#define PlayerClickPlayer 43
#define PlayerGiveMoney 44
*/

//#if defined STRIKEARENA_7777

#define MAX_LOCATION 148//119//88
enum locinfo2
{
	locused,//номер миссии
	locmessage[128],//тест задания
	loccaption[55],//название миссии
	locyes,//номер миссии при положительном ответе
	transvariant,//варианта ответа при стиле DIALOG_STYLE_INPUT,
	locstyle,//стиль диалога
	locbonus//бонус при получении данного задания
};
//МАССИВ ЛОКАЦИЙ: массив для формирования переходов по локациям
new MISSION[MAX_LOCATION][locinfo2] = {//35
{1, "Вы прилетели в штат Сан-Андреас [СА] и поселились в мотеле Джефферсона.", "",0,0,DIALOG_STYLE_MSGBOX,0},//1000
{1, "\nСудя по всему, проблемы с деньгами у Вас наблюдаются очень большие, в кармане не больше 1000$.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{1, "\nНо, выполняя задания, Вы не только решите проблему с деньгами, но и заработаете начальное уважение.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{1, "\nИтак, впереди - много дел: сначала нужно купить телефон, затем приобрести одежду, чтобы не выделяться из толпы.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{1, "\nПосле можно поработать грузчиком, фермером или съездить на дерби, чтобы развлечься.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{1, "\nИмеет смысл заглянуть и в Мэрию, чтобы пройти собеседование, получить пособие и устроиться дальнобойщиком.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{1, "\nНа полученные деньги можно будет купить машину или тягач, чтобы начать свою карьеру.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{1, "\nВы решили приступить к выполнению этого плана немедленно.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{1, "\nОтлично. Первый пункт - покупка мобильника в круглосуточном магазине 24/7 недалеко от мотеля.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{1, "\nНа протяжении всего обучения следуйте за красным маркером на радаре.", "Добраться до магазина 24/7",2,0,DIALOG_STYLE_MSGBOX,100},//1100
//10
{2, "Отлично. Теперь зайдите в магазин 24/7, там увидите красный маркер. Станьте на него.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{2, "\nПоявится меню. В списке выберите первый пункт 'Cell Phone'. Цена телефона всего лишь $50.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{2, "\nПосле покупки подойдите к двери и дождитесь появление окошка с предложением выйти.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{2, "\nПосле появления меню выхода из помещения согласитесь утвердительно, нажав кнопку YES.", "Покупка телефона",3,0,DIALOG_STYLE_MSGBOX,50},//1100
//14
{3, "Уже выходя из магазина 24/7, вы заметили кошелёк весь залитый кровью, лежащий на полу. \nСкорее всего", "",0,0,DIALOG_STYLE_MSGBOX,0},
{3, "его обронил один из покупателей.\nВы быстро подбираете его, оглядываетесь по сторонам и незаметно пересчитываете содержимое.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{3, "\nПоздравляем, вы стали богаче на $100. Итак, вы приобрели мобильный телефон.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{3, "\nСледующий шаг - купить одежду в магазине за углом, обозначенным на мини-карте белой футболкой.", "Добраться до магазина одежды",4,0,DIALOG_STYLE_MSGBOX,100},//1200
//18
{4, "Отлично. Теперь зайдите в магазин одежды, там увидите синюю футболку. \nСтаньте на неё и подождите.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{4, "Появится меню. \nВ списке выберите понравившийся скин. Цена одежды $500.", "Покупка одежды",5,0,DIALOG_STYLE_MSGBOX,500},//1200
//20
{5, "Вы вышли из примерочной и очень довольны своим внешним видом. \nТеперь ваша одежда не бросается в глаза и вы выглядите так же,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{5, "как и остальные жители штата. \nВаш следующий шаг - работа грузчиком, чтобы заработать начальный капитал.\nДобраться туда,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{5, "можно на общественном транспорте(автобус, NPC), на такси(USE: /service) или пешком.\nДешевле ехать на общественном транспорте.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{5, "\nИдите к мотелю и дождитесь такси с надписью 'Мотель - Грузчик - Вокзал LS',\nобозначенное жёлтым маркером на радаре.", "Вернуться к Мотелю",6,0,DIALOG_STYLE_MSGBOX,100},//1300
//24
{6, "Отлично. Теперь дождитесь такси 'Мотель - Грузчик - Вокзал LS'. \nОн отвезёт вас в океанские доки.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{6, "\nЕсли у вас пропал красный маркер или вы перезашли на сервер \nили вы забыли задание, наберите команду /tut.", "Ожидание такси 'Мотель - Грузчик - Вокзал LS'",7,0,DIALOG_STYLE_MSGBOX,100},//1400
//26
{7, "Подойдите к букве 'i' с надписью '[ Грузчик ] Помощь по работе' \nчтобы ознакомиться с условиями работы.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{7, "\nВаша задача поднять ваш счёт в банке до $1500", "$1500 на счету в банке",8,0,DIALOG_STYLE_MSGBOX,100},//1500
//28
{8, "Отлично. Теперь Вы можете развлечься в стадионе, \nпоучаствовав в заезде на 8 кругов и тем самым поднакопить немного денег.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{8, "\nДля этого дождитесь такси и добиретесь до Мотеля или Вокзала,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{8, "\nгде сможете пересесть на такси 'Вокзал LS - Стадион - Мотель', который отвезёт Вас к стадиону.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{8, "\nCтадион обозначен на радаре иконкой в виде кубка.", "Ожидание такси 'Вокзал LS - Стадион - Мотель'",9,0,DIALOG_STYLE_MSGBOX,100},//1600
//31
{9, "Теперь зайдите во внутрь. \nМаксимальная сумма выигрыша - $600, \nминимальная - $210.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{9, "\nВам надо иметь как минимум счёт в банке $2000\n(с жёлтая надпись в правом самом верхнем углу),", "",0,0,DIALOG_STYLE_MSGBOX,0},
{9, "\nНе забываем, что в штате служебный транспорт бесплатно не выдают.", "$2000 на счету в банке",10,0,DIALOG_STYLE_MSGBOX,200},//1800
//34
{10, "Уже на выходе Вы увидели мятую купюру номиналом 1.000$ и водительское удостоверение категории B.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{10, "\nОтлично, теперь у вас есть водительские права и вы подзаработали немного денег для покупки самого дешёвого автомобиля.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{10, "\nНо не достаточно для покупки велосипеда. Преимущество велосипеда в том, что его не надо заправлять.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{10, "\nТеперь можно отправляться на Ферму, чтобы поучаствовать в выращивании конопли для текстильного производства.", "",11,0,DIALOG_STYLE_MSGBOX,0},
{10, "\nДля этого на дороге дождитесь такси 'Вокзал LS - Стадион - Мотель' и следуйте до Ж/Д вокзала.", "Добраться до Ж/Д вокзала ЛС",11,0,DIALOG_STYLE_MSGBOX,1000},//3000
//39
{11, "Теперь пересядьте на поезд. Время ожидание не более 3 минут. \nПоезд отвезёт вас в Сан-Фиерро.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{11, "\nЗАПОМНИТЕ: все такси курсирует между ж/д вокзалами и основной точкой города:", "",0,0,DIALOG_STYLE_MSGBOX,0},
{11, "\nв Лос-Сантосе - Мотель, в Сан-Фиерро - Мэрия, в Лас-Вентурасе - Паркинг.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{11, "\nВсе автобусы курсирует между ж/д вокзалами и аэропортом этого города.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{11, "\nВсе поезда движутся по часовой стрелке из одного города в другой,\nт.е. Лос-Сантос - Сан-Фиерро - Лас-Вентурас - Лос-Сантос", "",0,0,DIALOG_STYLE_MSGBOX,0},
{11, "\nВсе самолёты движутся наоборот: против часовой стрелки.\nНадеюсь это вам поможет для комфортного перемещения по штату СА.", "Ожидание поезда в Сан-Фиерро",12,0,DIALOG_STYLE_MSGBOX,2000},//5000
//45
{12, "Отлично. Теперь дождитесь такси с надписью 'Вокзал SF - Ферма'.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{12, "\nОна отвезёт вас на ферму проезжая мимо Дерби-Стадиона. Вы можете выйти и там при желании развлечься.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{12, "\nПодзаработав за одну минуту от $900 и выше при условии, что в дерби участвует не менее 2 человек.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{12, "\nС каждым участником сумма выигрыша увеличивается в геометрической прогрессии.", "Добраться до Фермы",13,0,DIALOG_STYLE_MSGBOX,100},//5100
//49
{13, "Теперь подойдите на маячку, чтобы переодеться.\nВаша задача засеять поле саженцами конопли. \nДождаться ", "",0,0,DIALOG_STYLE_MSGBOX,0},
{13, "когда урожай созреет.\nСкосить урожай и отнести снопы на склад. \nКосить и носить снопы надо не спеша.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{13, "\nВаша задача иметь на счету $5000, \nчтобы купить транспорт и иметь начальный капитал,", "$5000 на счету в банке",14,0,DIALOG_STYLE_MSGBOX,100},//5200
//53
{14, "Отлично.\nТеперь отправляйтесь на том же такси на вокзал Сан-Фиерро,\nчтобы пересесть на такси 'Вокзал SF - Мэрия'.", "Добраться до вокзала Сан-Фиерро",15,0,DIALOG_STYLE_MSGBOX,100},//5300
//54
{15, "\nОтлично.\nТеперь отправляйтесь к правительственному зданию \nс красным флагом на радаре.\nОжидание не более 6 минут.", "Ожидание такси 'Вокзал SF - Мэрия'",16,0,DIALOG_STYLE_MSGBOX,100},//5400
//55
{16, "Теперь зайдите в Мэрию и пройдите на красный маркер. Появится меню, в котором вы сразу увидите работу дальнобойщика", "",0,0,DIALOG_STYLE_MSGBOX,0},
{16, "\nвыберите пункт 'Дальнобойщик'", "",0,0,DIALOG_STYLE_MSGBOX,0},
{16, "\nи нажмите ENTER. Появится окно с описанием работы. Нажмите 'Accept', чтобы согласиться.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{16, "\nПосле устройства вам будут доступны новые команды, чтобы просмотреть их наберите /jobhelp.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{16, "\nВы всегда сможете просмотреть описание работы на которую вы устроились командой /jobmanual.", "Устроиться Дальнобойщиком",17,0,DIALOG_STYLE_MSGBOX,100},//5500
//60
{17, "На выходе из Мэрии вы заметили записку лежащую на земле. В ней было написано 'Pump Bar'.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{17, "\nЧто это могло значить? - подумали Вы, но не смотря ни на что, вы решили не отклоняться от плана.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{17, "\nТеперь дождитесь трамвай, который вас отвезёт к Автосалону. Время ожидания не более 4-х минут.", "Добраться до Автосалона",18,0,DIALOG_STYLE_MSGBOX,100},//5600
//63
{18, "Отлично. Теперь подойдите к столику с буковкой 'i'. Появится окошко. Купите самый дешевый транспорт (604,605).", "",0,0,DIALOG_STYLE_MSGBOX,0},
{18, "\nЕсли сервер выдал собщение о недостатке денежных средств, не пугайтесь, сервер проверил ваши деньги на руках.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{18, "\nДело в том, что весь заработок в штате начисляется на карточку, а покупки осуществляются наличными.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{18, "\nСправа есть банкомат, подойдите и нажмите 'Л.Alt'. Снимите все деньги с карточки, оставив 1000 на парковку,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{18, "\nа затем вернитесь и повторите покупку авто, чтобы открыть нажмите Alt+Space рядом с авто.", "Покупка авто",19,0,DIALOG_STYLE_MSGBOX,100},//5700
//68
{19, "Вы только что оседлали свой первый автомобиль.\nЧтобы завести двигатель нажмите клавишу 2.", "Завести двигатель",20,0,DIALOG_STYLE_MSGBOX,100},//5800
//69
//------------------------------------------------------------------------------
{20, "На выходе вас остановил неопрятный мужчина лет 50, русской внешности. Он представился как дядя Миша.", "",21,0,DIALOG_STYLE_MSGBOX,0},
{20, "\n— Привет сынок. Пиво будешь?\n— Я за рулём не пью. - ответили Вы.\n— Да ладно тебе. Дядя Миша добрый и плохого не посоветует.", "",21,0,DIALOG_STYLE_MSGBOX,0},
{20, "\nНе хочешь ли выслушать старого дальнобойщика, который в свои годы исколесил половину страны?", "Случайное знакомство",21,0,DIALOG_STYLE_MSGBOX,100},//5900
//72
{21, "— Ну, рассказывай. - ответили Вы.", "",22,0,DIALOG_STYLE_MSGBOX,0},
{21, "\n— Короче слушай. Ехал я из Сан-Фиерро по мосту Гарвер. Еду, значит, еду. И тут вижу на панели приборов красную ", "",22,0,DIALOG_STYLE_MSGBOX,0},
{21, "лампочку. \nЭто мой антирадар. Я резко по тормозам, еле удалось спастись от этих радаров. Они тут на каждом мосту понатыканы.", "",22,0,DIALOG_STYLE_MSGBOX,0},
{21, "\nТебе сынок очень важно сейчас экономить деньги, так что советую тоже приобрести такую штуку.", "",22,0,DIALOG_STYLE_MSGBOX,0},
{21, "\nСлава богу магазинов 24/7 во всех городах хватает. Может давай с гоняем, я сигарет куплю.", "Поездка в магазин 24/7",22,0,DIALOG_STYLE_MSGBOX,100},//6000
//77
{22, "Отлично. Запаркуй свою тачку клавишей "#VEHICLE_TURRETLEFT".\nПосле чего машина будет защищена.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{22, "\nПарковать можно только на стоянках с соответствующей разметкой.", "Парковка авто",23,0,DIALOG_STYLE_MSGBOX,100},//6100
//79
{23, "— Пошли зайдём в магазин 24/7.\nВнутри увидишь красный маркер. Стань на него.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{23, "\nПоявиться меню, выберешь 7-й пункт 'Antiradar' и нажмёшь пробел.\nЦена Антирадара $1200.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{23, "\nПри приближении к радару лампочка будет загораться красным.", "",25,0,DIALOG_STYLE_MSGBOX,0},
{23, "\nТакже не забудь купить 'Vehicle Lock' (6-ой пункт).\nЦена противоугонки $1000.", "Покупка Антирадара и Противоугонки",24,0,DIALOG_STYLE_MSGBOX,2200},//8300
//83
{24, "— Ну что, всё купил? \nТеперь тебе надо её распарковать клавишей "#VEHICLE_TURRETRIGHT", \nчтобы можно было в неё сеть.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{24, "\nА затем открыть двери Alt+Space, \nт.к. они автоматически блокируются при парковке.", "Сесть в авто",25,0,DIALOG_STYLE_MSGBOX,100},//8400
//85
{25, "— А вот моя сестра, царствие ей небесное, ехала с деревушки Blueberry в Тиерру Робаду. Увидела мост и решила заехать под него.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{25, "\nОтдохнуть, перекусить. Все лучше, чем у обочины пылью дышать. Заезжает под мост, а там клуб Джиззи. Затарилась она там,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{25, "\nконтрабандной водкой. Ух и срубила она денег за этот груз. Жаль что бандиты пронюхали про это. Это ведь клуб был на их ", "",0,0,DIALOG_STYLE_MSGBOX,0},
{25, "территории. \nРасстреляли они ее. Поехали и мы съездим, горло промочим.", "Поездка в клуб",26,0,DIALOG_STYLE_MSGBOX,100},//8500
//94
{26, "Ну что, Зайдём? \nВыпьем по 100 грамм за упокой души сестры моей? - сказал Дядя Миша.", "Выпить водки",27,0,DIALOG_STYLE_MSGBOX,1000},//9500
//95
{27, "— А вот слушай. Помню, как-то раз еду из Сан-Фиерро в Лас-Вентурас. И тут вижу на панели приборов", "",0,0,DIALOG_STYLE_MSGBOX,0},
{27, "\nкрасная полоска упала до нуля. Ну все, думаю, приехали. Солярки до конца поездки мне не хватит. Уже хотел было расстроиться,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{27, "\nно вдруг вспомнил про туннель. Повернул я к нему и спустя пару минут уже спокойно катился вниз по туннелю. Мотор заглушил.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{27, "\nТишина, ничто не отвлекает. Красота. Скорость приличная, только тормозить вовремя успевал.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{27, "\nТак и сэкономил я пару литров горючей жидкости и копеечку в кошельке. Кстати тебе тоже не мешало бы заправиться.", "Отправляйся на АЗС",28,0,DIALOG_STYLE_MSGBOX,1000},//10500
//90
{28, "— Годика два назад нужно мне было срочно доставить груз из Лас-Вентураса в Сан Фиерро. По дорогам я бы не успел.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{28, "\nПоэтому решил срезать путь. Немножко. Поехал я из Форт Карсона на юг. Еду еду и вижу с правой стороны от дороги луга и поля.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{28, "\nЯ хвать за баранку и вправо ее выкрутил. И понесся я по природным ландшафтам напрямик.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{28, "\nСпустя полчаса я уже был в окрестностях Сан Фиерро. Природу погубил немножко, зато успел груз вовремя доставить.", "",29,0,DIALOG_STYLE_MSGBOX,0},
{28, "\nКстати, а не пора ли нам подкрепиться. Я как раз там хороший ресторан знаю.", "Поездка в Форт Карсон",29,0,DIALOG_STYLE_MSGBOX,1000},//11500
//107
{29, "— Отлично. Теперь пошли перекусим.", "Обед в ресторане",30,0,DIALOG_STYLE_MSGBOX,1000},//12500
//100
{30, "Вы вышли из ресторана.", "",0,0,DIALOG_STYLE_MSGBOX,0},//, сели в тягач и отправились дальше в дорогу
{30, "\n— Если тебе, сынок, нужна самая быстрая грузовая машина, то покупай-ка ты Freightliner, \nв простонародье Roadtrain с 515", "",0,0,DIALOG_STYLE_MSGBOX,0},
{30, "номером по двигателю! Стоит он конечно прилично, но говорят, \nдо 107 можно разогнаться при 20-и тонах загрузки.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{30, "А это ой как много, ты уж мне поверь. \nНо с твоим опытом тебе ещё рано её покупать. \n— В горы Ветстоун без нормальных фар", "",0,0,DIALOG_STYLE_MSGBOX,0},
{30, " лучше не сунься!\nПока доберешься, всю машину к чертовой матери разобьешь! \nЛучше проверь, есть ли у тебя прицеп.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{30, "\nБудет обидно, если приедешь и поймешь, что прицепа нету или загрузиться забыл.\nЕдешь туда черт знает сколько,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{30, "\nа ведь там даже ремонтной станции нет! \n— Кстати поехали покажу где прицепы брать.", "Поиск прицепов",31,0,DIALOG_STYLE_MSGBOX,1000},//13500
//107
{31, "Отлично. Теперь ознакомься, какие прицепы возят какой товар набрав команду /jobmanual.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{31, "\nПотом цепляй прицеп и едь к доллару. Нажмёшь num8 на цифровой клавиатуре, чтобы загрузиться. ", "",0,0,DIALOG_STYLE_MSGBOX,0},
{31, "\nВ появившемся окне выберешь кол-во груза. Чем больше ты укажешь, тем дольше время загрузки/разгрузки.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{31, "\nМожешь ввести команду /trafic, чтобы увидеть все маршруты по данному виду прицепов.", "Доставить первый груз",32,0,DIALOG_STYLE_MSGBOX,1000},//14500
//111
{32, "Вы сдали первый груз и решили промочить горло. \n- Ну что, до встречи. Кстати, тут недалеко есть замечательный бар", "",0,0,DIALOG_STYLE_MSGBOX,0},
{32, "\nгде собираются байкеры и дальнобойщики под названием 'Pump Bar', \nвы долго не думая отправились туда.", "Найти Бар", 33,0,DIALOG_STYLE_MSGBOX,1000},//15500
//113
//------------------------------------------------------------------------------
{33, "Возле бара к вам подошёл человек средних лет в кепке с надписью TRUCKER. \n— Здорова приятель, подбросишь до Порта на Корабль? ", "",0,0,DIALOG_STYLE_MSGBOX,0},
{33, "\n— Нет проблем, только сейчас содовой куплю и можем отправляться. - ответили вы.\n— Решил попытать счастья в наших краях?", "",0,0,DIALOG_STYLE_MSGBOX,0},
{33, "\n— Да, вот приехал в Сан-Андреас, чтобы насладиться бескрайними просторами, \nдесяткой городков, шикарными тачками и, ", "",0,0,DIALOG_STYLE_MSGBOX,0},
{33, "что само собой, разумеется, \nвлиться в славные ряды американских тракеров и сполна изведать «американской мечты»", "Промочить горло",34,0,DIALOG_STYLE_MSGBOX,1000},//16500
//118
{34, "Вы вышли из бара и направились к тягачу.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{34, "\n— Я смотрю ты машину себе купил. Отличная колымага. Едет конечно не так быстро,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{34, "\nкак хотелось бы, зато дешевая и недорогая в обслуживании. Кстати, если задумаешь лодку купить,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{34, "\n свяжись по телефону с дилером /cardealer. Он скажет куда подъехать или сам тебя туда отвезёт.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{34, "\nПравила нарушать не советую, менты у нас строгие. Если потребуют - тормози, а то и подстрелить могут.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{34, "\nВ автосалоне машины дорого продают, зато без обмана. Поехали покажу, где можно по дешевле купить.", "Добраться до Паркинга",35,0,DIALOG_STYLE_MSGBOX,100},//16600
//123
{35, "— Вот тут машины по дешевле. \nПравда может битая оказаться, ", "",0,0,DIALOG_STYLE_MSGBOX,0},
{35, "\nа может в угоне числиться. \nТы сходи посмотри, а я тебя тут подожду.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{35, "\nКак вернешься отправляйся на АЗС, помеченную красным маркером на радаре.", "Добраться до АЗС",36,0,DIALOG_STYLE_MSGBOX,1000},//17600
//124
{36, "— Заправку слева видишь? \nОни под номерами все. \nЕсли надумаешь бензин с топливных компаний цистернами возить,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{36, "\nто там тебе номер заправки укажут. \nПлатят много, но груз опасный, \nда и машины на тягач сменить придётся.", "Добраться до СТО",37,0,DIALOG_STYLE_MSGBOX,1000},//18600
//126
{37, "— Это наше СТО. \nМашину подлатает исправно. \nЕсли захочешь, то и прибамбасы всякие установят. \nНе задаром конечно.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{37, "\nЕсли не дай бог на трассе влетишь \n- вызывай механиков. \nКогда захочешь избавиться от машины - приезжай сюда.", "Узнать про базу с алмазами",38,0,DIALOG_STYLE_MSGBOX,100},//18700
//128
{38, "А что тут за база с алмазами? Говорят за рейс машину окупишь. - спросили Вы.", "Узнать про базу с алмазами",39,0,DIALOG_STYLE_MSGBOX,100},//18800
//129
{39, "— Это алмазный комбинат в горах за перевалом. \nБез заказа туда не суйся, \nтам блок-пост единственную дорогу перекрывает.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{39, "\nМашину может и окупишь, но и риск не малый. \nБратки у нас шалят. Груз могут расстрелять и тебя покалечить. \nХодили слухи,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{39, "что есть где то ещё одна дорога через заброшенный туннель. \nТолько ни кто эту дорогу пока не нашёл.", "Узнать про базу с алмазами",10,0,DIALOG_STYLE_MSGBOX,100},//18900
//132
{40, "— Дааа, судя по всему, проблем с деньгами у тебя наблюдается очень большие. Могу наивно предположить,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{40, "\nчто тебе необходимо получить выгодный контракт на перевозку.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{40, "\nА я уезжаю, вдруг тебе больше повезёт, накопишь денег, фирму свою откроешь.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{40, "\nЕзжай в Порт, покажу где заказы брать.", "Добраться до Порта",41,0,DIALOG_STYLE_MSGBOX,100},//19000
//136
{41, "— Видишь знак доллар справа? Это бизнес. \nТакие есть в каждом городе. \nЗагрузишь импортное сырьё и везёшь на склад.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{41, "\nНу вот и приехали. Спасибо. Удачи!", "Добраться до склада",42,0,DIALOG_STYLE_MSGBOX,1000},//20000

{42, "— Сейчас по рации передали, \nчто якобы возле Рыбной Лагуны стоит прицеп с грузом на $100000. \nПравда это или нет не знаю.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{42, "\nМожет быть съездишь и проверишь?", "Найти Рыбную Лагуну",43,0,DIALOG_STYLE_MSGBOX,100},//20100
//140
{43, "Приехав в Рыбную Лагуну вы увидели сидящего на пирсе старого бездомного человека.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{43, "\nОн поведал вам, что болен раком лёгких. Опухоль образовалась из-за курения.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{43, "\nСпасти его может только одно средство, но вот чтобы его ", "",0,0,DIALOG_STYLE_MSGBOX,0},
{43, "\nизготовить надо обратиться за помощью в Гуманитарное медицинское бюро.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{43, "\nВы решили ему помочь. Отправляйся в Гуманитарное медицинское бюро. Ваше обучение окончено.", "Найти Гуманитарное медицинское бюро",0,0,DIALOG_STYLE_MSGBOX,1000}//21100
//145
};
#define MAX_MISS_TRANSITION 43
enum transinfo2
{
	transused,//к какому locused, т.е. локации (диалогу) относится
	Float: lX,//координаты чекпоинта или точки при проверке срабатывания колбека
	Float: lY,
	Float: lZ,
	tCallback,//событие которое будет вызываться, т.е. по какому событию будет проверка
//PlayerInteriorChange - смена интерьера, PlayerEnterCheckpoint - вход в чекпоинт, PlayerGiveMoney - проверка на кол-во денег на руках, DialogResponse - просто появление диалога locused из массива MISSION
	tMoney//проверка на наличие денег
};
//МАССИВ ПЕРЕХОДОВ
new CheckMission[MAX_MISS_TRANSITION][transinfo2] = {
{1, 2139.4431,-1191.9460,23.9922, PlayerEnterCheckpoint, 0},//0//маркер на магазин 24/7
{2, 6.0713,-30.9131,1003.5494, PlayerInteriorChange, 0},
{3, 2112.8173,-1211.4687,23.9629, PlayerEnterCheckpoint, 0},//маркер на магазин одежды
{4, 203.7669,-50.2388,1001.8047, PlayerInteriorChange, 0},
{5, 2240.2820,-1146.6498,25.8165, PlayerEnterCheckpoint, 0},//маркер на мотель
{6, 2731.6685,-2416.8745,13.6278, PlayerEnterCheckpoint, 0},//маркер на грузчика
{7, 2127.5701,-2275.1938,20.6719, PlayerGiveMoney, 1500},//координаты кассы грузчиков
{8, 2728.0933,-1834.9763,10.3494, PlayerEnterCheckpoint, 0},//маркер на стадион
{9, -1398.99,-200.72,1043.0, PlayerEnterRaceCheckpoint, 2000},//координаты последнего чекпоинта
{10, 1763.8461,-1951.2893,14.1096, PlayerEnterCheckpoint, 0},//маркер на вокзал ЛС
{11, -1983.7242,138.2387,27.6875, PlayerEnterCheckpoint, 0},//маркер на вокзал CФ
{12, -1216.0327,-1055.8462,128.7905, PlayerEnterCheckpoint, 0},//маркер на ферму
{13, -1210.1460,-1043.3667,128.3897, PlayerPickUpPickup, 5000},//Заработать до $5000 на ферме
{14, -1983.7242,138.2387,27.6875, PlayerEnterCheckpoint, 0},//маркер на вокзал CФ
{15, -2426.2612,338.0038,37.0000, PlayerEnterCheckpoint, 0},//маркер на Мэрию
{16, 390.1595,173.7057,1008.3828, PlayerInteriorChange, 0},//координаты выхода из Мэрии
{17, -1663.8074,1207.7589,7.2546, PlayerEnterCheckpoint, 0},//маркер на Автосалон
{18, -1663.3733,1215.6606,8.3688, PlayerEnterVehicle, 0},//Покупка авто
//{19, -1663.3733,1215.6606,8.3688, PlayerKeyStateChange, 0},//Завести двигатель
{19, -1630.1736,1207.9816,7.0391, PlayerEnterCheckpoint, 0},//Завести двигатель
{20, 0.0000,0.0000,0.0000, 		DialogResponse, 0},//19//Случайное знакомство
{21, -2442.7144,740.6198,35.6217, PlayerEnterCheckpoint, 0},//20//маркер на Магазин 24/7
//{22, -2442.7144,740.6198,35.6217, PlayerExitVehicle, 0},//Парковка авто
{22, -2442.7144,740.6198,35.6217, PlayerKeyStateChange, 0},//Парковка авто
//{23, -30.1156,-28.2309,1003.5573, PlayerExitedMenu, 0},//Покупка Антирадара и Противоугонки
{23, -27.3505,-30.6117,1003.5573, PlayerInteriorChange, 0},//Покупка Антирадара и Противоугонки
//{24, -27.3505,-30.6117,1003.5573, PlayerInteriorChange, 0},//Сесть в авто
{24, 0.0000,0.0000,0.0000, PlayerEnterVehicle, 0},//Сесть в авто
{25, -2625.3300,1412.5000,7.0998, PlayerEnterCheckpoint, 0},//маркер на Джиззи
{26, -2637.3000,1402.5000,906.5000, PlayerInteriorChange, 0},//Выпить вина
{27, -1471.5114,1863.6404,32.6328, PlayerEnterCheckpoint, 0},//маркер на АЗС-10
{28, -53.8978,1188.7588,19.3594, PlayerEnterCheckpoint, 0},//маркер на Ресторан Форт Карсон
{29, 452.3929,-18.2142,1001.1328, PlayerInteriorChange, 0},
{30, 273.3636,1349.4569,10.5859, PlayerEnterCheckpoint, 0},//маркер на прицепы
{31, -18.9624,-270.4885,5.4297, PlayerEnterCheckpoint, 0},//маркер на Склад
{32, 681.6571,-473.8746,16.5363, PlayerEnterCheckpoint, 0},//маркер на Pump Bar
//{33, 681.5111,-454.3947,-25.6172, PlayerExitedMenu, 0},//"Промочить горло"
{33, 681.4942,-446.3889,-25.6098, PlayerInteriorChange, 0},//"Промочить горло"
{34, 2046.2839,2470.2834,11.4260, PlayerEnterCheckpoint, 0},//маркер на паркинг
{35, -100.4386,-1130.4589,1.7347, PlayerEnterCheckpoint, 0},//маркер на АЗС-3
{36, -142.3684,-1240.2880,3.3054, PlayerEnterCheckpoint, 0},//маркер на СТО
{37, 0.0000,0.0000,0.0000, 		DialogResponse, 0},//Узнать про базу с алмазами
{38, 0.0000,0.0000,0.0000, 		DialogResponse, 0},//Узнать про базу с алмазами
{39, 0.0000,0.0000,0.0000, 		DialogResponse, 0},//Узнать про базу с алмазами
{40, 2731.6685,-2416.8745,13.6278, PlayerEnterCheckpoint, 0},//маркер на Порт
{41, -18.9624,-270.4885,5.4297, PlayerEnterCheckpoint, 0},//маркер на Склад
{42, 2142.0679,-77.0930,3.4356, PlayerEnterCheckpoint, 0},//маркер на Рыбную Лагуну
{43, 1381.0413,-1088.8511,27.3906, PlayerEnterCheckpoint, 0}//маркер на квест Рыбалки
};





/*#else  //бенчик сервер









#define MAX_LOCATION 149
enum locinfo2
{
        locused,//номер миссии
        locmessage[128],//тест задания
        loccaption[55],//название миссии
        locyes,//номер миссии при положительном ответе
        transvariant,//варианта ответа при стиле DIALOG_STYLE_INPUT,
        locstyle,//стиль диалога
        locbonus//бонус при получении данного задания
};
//массив для формирования переходов по локациям
new MISSION[MAX_LOCATION][locinfo2] = {//35
{1, "Вы прилетели в штат Сан-Андреас [СА] и поселились в Гранд отеле.", "",0,0,DIALOG_STYLE_MSGBOX,0},//1000
{1, "\nСудя по всему, проблемы с деньгами у Вас наблюдается очень большие, в кармане не больше 1000$.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{1, "\nНо, выполняя задания, Вы не только решите проблему с деньгами, но и разберётесь в нашем моде.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{1, "\nИтак, впереди - много дел: сначала нужно купить новую одежду чтобы не выделяться из толпы., затем приобрести телефон", "",0,0,DIALOG_STYLE_MSGBOX,0},
{1, "\nПосле можно поработать грузчиком, фермером или съездить на дерби, чтобы развлечься.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{1, "\nИмеет смысл заглянуть и в Мэрию, чтобы пройти собеседование, получить пособие и устроиться дальнобойщиком.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{1, "\nНа полученные деньги можно будет купить машину или тягач, чтобы начать свою карьеру.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{1, "\nВы решили приступить к выполнению этого плана немедленно.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{1, "\nИтак, следуйте к стоянке свободного транспорта и выберите по своему вкуса.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{1, "\nНа протяжении всего обучения, следуйте за красным маркером на радаре.", "Найти транспорт",2,0,DIALOG_STYLE_MSGBOX,100},//1100

{2, "Отлично. Следующий пункт - покупка новой одежды в магазине одежды недалеко от Вас.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{2, "\nЕсли у вас пропал красный маркер или вы перезашли на сервер \nили вы забыли задание, наберите команду /tut.", "Добраться до магазина одежды",3,0,DIALOG_STYLE_MSGBOX,100},//1400

{3, "Отлично. Теперь зайдите в магазин одежды, там увидите синию футболку. \nСтаньте на неё и подождите.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{3, "Появится меню. \nВ списке выбирите понравившийся скин. Цена одежды $500.", "Покупка одежды",4,0,DIALOG_STYLE_MSGBOX,500},//1200

{4, "Вы вышли из примерочной и очень довольны своим внешним видом. \nТеперь ваша одежда не бросается в глаза и вы выглядите так же,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{4, "как и остальные жители штата. \nВаш следующий шаг - покупка мобильного телефона,\n", "",0,0,DIALOG_STYLE_MSGBOX,0},
{4, "чтобы вы могли звонить другим игрокам, а также слать SMS,\n", "",0,0,DIALOG_STYLE_MSGBOX,0},
{4, "Добраться до магазина 24/7 можно на общественном транспорте, \nлибо воспользовавшись скутером/великом возле отеля.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{4, "\nТакже вы можете вопсользоваться любым такси, которые водят игроки, просто попросите Вас подбросить к 24/7.", "Добраться до магазина 24/7",5,0,DIALOG_STYLE_MSGBOX,100},//1300

{5, "Отлично. Теперь зайдите в магазин 24/7, там увидите красный маркер. Станьте на него.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{5, "\nПоявится меню. В списке выбирите первый пункт 'Cell Phone'. Цена телефона всего лишь $50.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{5, "\nПосле покупки подойдите к двери и дождитесь появление окошка с предложением выйти.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{5, "\nПосле появления меню выхода из помещения согласитесь утвердительно, нажав кнопку YES.", "Покупка телефона",6,0,DIALOG_STYLE_MSGBOX,50},//1100

{6, "Уже выходя из магазина 24/7, вы заметили кошелёк весь залитый кровью, лежащий на полу. \nСкорее всего,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{6, "его обронил один из покупателей.\nВы быстро подбираете его, оглядываетесь по сторонам и незаметно пересчитываете содержимое.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{6, "\nПоздравляем, вы стали богаче на $100. Итак, вы приобрели мобильный телефон.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{6, "\nСледующий шаг - работа грузчиком, чтобы заработать начальный капитал.\nДобраться туда можно на общественном транспорте,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{6, "а можно вызвать такси. \nНаберите /service или воспользуйтесь общей помощью по клавише H", "Добраться в Порт",7,0,DIALOG_STYLE_MSGBOX,100},//1200

{7, "Подойдите к букве 'i' с надписью '[ Грузчик ] Помощь по работе', \nчтобы ознакомиться с условиями работы.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{7, "\nВаша задача поднять ваш счёт в банке до $1500", "$1500 на счету в банке",8,0,DIALOG_STYLE_MSGBOX,100},//1500
{8, "Отлично. Теперь Вы можете развлечься в стадионе, \nпоучаствов в заезде на 8 кругов и тем самым поднакопить немного денег.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{8, "\nДля этого дождитесь такси с надписью 'Вокзал LS - Стадион - Мотель'. \nОн отвезёт вас сначало на вокзал, а потом к стадиону.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{8, "\nCтадион обозначен на радаре иконкой ввиде кубка.", "Ожидание такси 'Вокзал LS - Стадион - Отель'",9,0,DIALOG_STYLE_MSGBOX,100},//1600
{9, "Теперь зайдите во внутрь. \nМаксимальная сумма выигрыша - $600, \nминимальная - $210.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{9, "\nВам надо иметь как минимум счёт в банке $2000\n(с жёлтая надпись в правом самом верхнем углу),", "",0,0,DIALOG_STYLE_MSGBOX,0},
{9, "\nНе забываем, что в штате служебный транспорт бесплатно не выдают.", "$2000 на счету в банке",10,0,DIALOG_STYLE_MSGBOX,200},//1800
{10, "Уже на выходе Вы увидели зажёванную купюру номиналом 1.000$ и водительское удостоверение категории B.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{10, "\nОтлично теперь у вас есть водительские права, итак вы не много подзаработали денег для покупки самого дешёвого автомобиля.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{10, "\nНо не достаточно для покупки велосипеда. Преимущество велосипеда в том, что его не надо заправлять.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{10, "\nТеперь можно отправляться на Ферму, чтобы поучаствовать в выращивании конопли для текстильного производства.", "",11,0,DIALOG_STYLE_MSGBOX,0},
{10, "\nДля этого на дороге дождитесь такси 'Вокзал LS - Стадион - Отель' и следуйте до Ж/Д вокзала.", "Добраться до Ж/Д вокзала ЛС",11,0,DIALOG_STYLE_MSGBOX,1000},//3000
{11, "Теперь пересядьте на поезд. Время ожидание не более 3 минут. \nПоезд отвезёт вас в Сан-Фиерро.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{11, "\nЗАПОМНИТЕ: все такси курсирует между ж/д вокзалами и основной точкой города:", "",0,0,DIALOG_STYLE_MSGBOX,0},
{11, "\nв Лос-Сантосе - Отель, в Сан-Фиерро - Мэрия, в Лас-Вентурасе - Паркинг.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{11, "\nВсе автобусы курсирует между ж/д вокзалами и аэропортом этого города.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{11, "\nВсе поезда движутся по часовой стрелке из одного города в другой,\nт.е. Лос-Сантос - Сан-Фиерро - Лас-Вентурас - Лос-Сантос", "",0,0,DIALOG_STYLE_MSGBOX,0},
{11, "\nВсе самолёты движутся наоборот: против часовой стрелки.\nНадеюсь это вам поможет для комфортного перемещения по штату СА.", "Ожидание поезда в Сан-Фиерро",12,0,DIALOG_STYLE_MSGBOX,2000},//5000
{12, "Отлично. Теперь дождитесь такси с надписью 'Вокзал SF - Ферма'.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{12, "\nОна отвезёт вас на ферму проезжая мимо Дерби-Стадиона. Вы можете выйти и там при желании развлечься.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{12, "\nПодзаработав за одну минуту от $900 и выше при условии, что в дерби участвует не менее 2 человек.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{12, "\nС каждым участником сумма выигрыша увеличивается в геометрической прогрессии.", "Добраться до Фермы",13,0,DIALOG_STYLE_MSGBOX,100},//5100
{13, "Теперь подойдите на маячку, чтобы переодеться.\nВаша задача засеять поле сажанцами конопли. \nДождаться ", "",0,0,DIALOG_STYLE_MSGBOX,0},
{13, "когда урожай созреет.\nСкосить урожай и отнести снопы на склад. \nКосить и носить снопы надо не спеша.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{13, "\nВаша задача иметь на счету $5000, \nчтобы купить транспорт и иметь начальный капитал,", "$5000 на счету в банке",14,0,DIALOG_STYLE_MSGBOX,100},//5200
{14, "Отлично.\nТеперь отправляйтесь на том же такси на вокзал Сан-Фиерро,\nчтобы пересесть на такси 'Вокзал SF - Мэрия'.", "Добраться до вокзала Сан-Фиерро",15,0,DIALOG_STYLE_MSGBOX,100},//5300
{15, "\nОтлично.\nТеперь отправляйтесь к правительственному зданию \nс красным флагом на радаре.\nОжидание не более 6 минут.", "Ожидание такси 'Вокзал SF - Мэрия'",16,0,DIALOG_STYLE_MSGBOX,100},//5400
{16, "Теперь зайдите в Мэрию и пройдите на красный маркер. Появится меню, но в нём вы сразу не увидите работу дальнобойщика", "",0,0,DIALOG_STYLE_MSGBOX,0},
{16, "\nвыбирите 10-ый пункт 'Others Job' и нажмите пробел. Появится другое меню, в котором выбирите 7-ой пункт 'Trucker'", "",0,0,DIALOG_STYLE_MSGBOX,0},
{16, "\nи нажмите пробел. Появится окно с описанием работы. Нажмите 'Accept', чтобы согласиться.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{16, "\nПосле устройства вам будут доступны новые команды, чтобы просмотреть их наберите /jobhelp.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{16, "\nВы всегда сможете просмотреть описание работы на которую вы устроились командой /jobmanual.", "Устроиться Дальнобойщиком",17,0,DIALOG_STYLE_MSGBOX,100},//5500
{17, "На выходе из Мэрии вы заметили записку лежащую на земле. В ней было написано 'Pump Bar'.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{17, "\nЧто это могло значить? - подумали Вы, но не смотря ни на что, вы решили не отклоняться от плана.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{17, "\nТеперь дождитесь трамвай, который вас отвезёт к Автосалону. Время ожидания не более 4-х минут.", "Добраться до Автосалона",18,0,DIALOG_STYLE_MSGBOX,100},//5600
{18, "Отлично. Теперь подойдите к столику с буковкой 'i'. Появится окошко. Выберите себе транспорт.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{18, "\nЕсли сервер выдал собщении о недостатке денежных средств, не пугайтесь, сервер проверил ваши деньги на руках.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{18, "\nДело в том, что весь заработок в штате начисляется на карточку, а покупки осуществляются наличными.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{18, "\nСправа есть банкомат, подойдите и нажмите 'F'. Снимите все деньги с карточки, оставив 1000 на парковку,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{18, "\nа затем вернитесь и повторите покупку авто, чтобы открыть нажмите Alt+Space рядом с авто.", "Покупка авто",19,0,DIALOG_STYLE_MSGBOX,100},//5700
{19, "Вы только что оседлали свой первый автомобиль.\nЧтобы завести двигатель нажмите клавишу 2.", "Завести двигатель",20,0,DIALOG_STYLE_MSGBOX,100},//5800
{20, "На выходе вас остановил неопрятный мужчина, лет 50, русской внешности. Он представился как дядя Миша.", "",21,0,DIALOG_STYLE_MSGBOX,0},
{20, "\n— Привет сынок. Пиво будешь?\n— Я за рулём не пью. - ответили Вы.\n— Да ладно тебе. Дядя Миша добрый и плохого не посоветует.", "",21,0,DIALOG_STYLE_MSGBOX,0},
{20, "\nНе хочешь ли выслушать старого дальнобойщика, который в свои годы исколесил половину страны?", "Случайное знакомство",21,0,DIALOG_STYLE_MSGBOX,100},//5900
{21, "— Ну, расказывай. - ответили Вы.", "",22,0,DIALOG_STYLE_MSGBOX,0},
{21, "\n— Кароче слушай. Ехал я из Сан-Фиерро по мосту Гарвер. Еду, значит, еду. И тут вижу на панели приборов красную ", "",22,0,DIALOG_STYLE_MSGBOX,0},
{21, "лампочку. \nЭто мой антирадар. Я резко по тормозам, еле удалось спастись от этих радаров. Они тут на каждом мосту понатыканы.", "",22,0,DIALOG_STYLE_MSGBOX,0},
{21, "\nТебе сынок очень важно сейчас экономить деньги, так что советую тоже приобрести такую штуку.", "",22,0,DIALOG_STYLE_MSGBOX,0},
{21, "\nСлава богу магазинов 24/7 во всех городах хватает. Может давай с гоняем, я сигарет куплю.", "Поездка в магазин 24/7",22,0,DIALOG_STYLE_MSGBOX,100},//6000
{22, "Отлично. Запаркуй свою тачку клавишей "#VEHICLE_TURRETLEFT".\nПосле чего машина будет защищена.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{22, "\nПарковать можно только на стоянках с соответствуещей разметкой.", "Парковка авто",23,0,DIALOG_STYLE_MSGBOX,100},//6100
{23, "— Пошли зайдём в магазин 24/7.\nВнутри увидишь красный маркер. Стань на него.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{23, "\nПоявиться меню, выберишь 7-й пункт 'Antiradar' и нажмёшь пробел.\nЦена Антирадара $1200.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{23, "\nПри приближении к радару лампочка будет загораться красным.", "",25,0,DIALOG_STYLE_MSGBOX,0},
{23, "\nТакже не забудь купить 'Vehicle Lock' (6-ой пункт).\nЦена противоугонки $1000.", "Покупка Антирадара и Противоугонки",24,0,DIALOG_STYLE_MSGBOX,2200},//8300
{24, "— Ну что, всё купил? \nТеперь тебе надо её распарковать клавишей "#VEHICLE_TURRETRIGHT", \nчтобы можно было в неё сеть.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{24, "\nА затем открыть двери Alt+Space, \nт.к. они автоматически блокируются при парковке.", "Сесть в авто",25,0,DIALOG_STYLE_MSGBOX,100},//8400
{25, "— А вот моя сестра, царствие ей небесное, ехала с деревушки Блюеберри в Тиерру Робаду. Увидела мост и решила заехать под него.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{25, "\nОтдохнуть, перекусить. Все лучше, чем у обочины пылью дышать. Заезжает под мост, а там клуб Джизи. Затарилась она там,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{25, "\nконтрабандной водкой. Ух и срубила она денег за этот груз. Жаль что бандиты пронюхали про это. Это ведь клуб был на их ", "",0,0,DIALOG_STYLE_MSGBOX,0},
{25, "территории. \nРасстреляли они ее. Поехали и мы съездим, горло промочим.", "Поездка в клуб",26,0,DIALOG_STYLE_MSGBOX,100},//8500
{26, "Ну что, Зайдём? \nВыпьем по 100 грамм за упокой души сестры моей? - сказал Дядя Миша.", "Выпить водки",27,0,DIALOG_STYLE_MSGBOX,1000},//9500
{27, "— А вот слушай. Помню, как-то раз еду из Сан-Фиерро в Лас-Вентурас. И тут вижу на панели приборов", "",0,0,DIALOG_STYLE_MSGBOX,0},
{27, "\nкрасная полоска упала до нуля. Ну все, думаю, приехали. Солярки до конца поездки мне не хватит. Уже хотел было расстроиться,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{27, "\nно вдруг вспомнил про туннель. Повернул я к нему и спустя пару минут уже спокойно катился вниз по туннелю. Мотор заглушил.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{27, "\nТишина, ничто не отвлекает. Красота. Скорость приличная, только тормозить вовремя успевал.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{27, "\nТак и сэкономил я пару литров горючей жидкости и копеечку в кошельке. Кстати тебе тоже не мешало бы заправиться.", "Отправляйся на АЗС",28,0,DIALOG_STYLE_MSGBOX,1000},//10500
{28, "— Годика два назад нужно мне было срочно доставить груз из Лас-Вентураса в Сан Фиерро. По дорогам я бы не успел.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{28, "\nПоэтому решил срезать путь. Немножко. Поехал я из Форт Карсона на юг. Еду еду и вижу с правой стороны от дороги луга и поля.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{28, "\nЯ хвать за баранку и вправо ее выкрутил. И понесся я по природным ландшафтам напрямик.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{28, "\nСпустя полчаса я уже был в окрестностях Сан Фиерро. Природу погубил немножко, зато успел груз вовремя доставить.", "",29,0,DIALOG_STYLE_MSGBOX,0},
{28, "\nКстати, а не пора ли нам подкрепиться. Я как раз там хороший ресторан знаю.", "Поездка в Форт Карсон",29,0,DIALOG_STYLE_MSGBOX,1000},//11500
{29, "— Отлично. Теперь пошли перекусим.", "Обед в ресторане",30,0,DIALOG_STYLE_MSGBOX,1000},//12500
{30, "Вы вышли из ресторана.", "",0,0,DIALOG_STYLE_MSGBOX,0},//, сели в тягач и отправились дальше в дорогу
{30, "\n— Если тебе, сынок, нужна самая быстрая грузовая машина, то покупай-ка ты Freightliner, в простонародье Roadtrain с 515", "",0,0,DIALOG_STYLE_MSGBOX,0},
{30, "\nномером по двигателю! Стоит он конечно прилично $23787, но говорят, до 107 можно разогнаться при 3-х тонах загрузки.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{30, "\nА это ой как много, ты уж мне поверь. \nНо с твоим опытом тебе ещё рано её покупать. \n— В горы Ветстоун без нормальных фар", "",0,0,DIALOG_STYLE_MSGBOX,0},
{30, " лучше не сунься!\nПока доберешься, всю машину к чертовой матери разобьешь! \nЛучше проверь, есть ли у тебя прицеп.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{30, "\nБудет обидно, если приедешь и поймешь, что прицепа нету или загрузиться забыл.\nЕдешь туда черт знает сколько,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{30, "\nа ведь там даже ремонтной станции нет! \n— Кстати поехали покажу где прицепы брать.", "Поиск прицепов",31,0,DIALOG_STYLE_MSGBOX,1000},//13500
{31, "Отлично. Теперь ознакомся, какие прицепы возят какой товар набрав команду /jobmanual.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{31, "\nПотом цепляй прицеп и едь к доллару. Нажмёшь num8 на цифровой клавиатуре, чтобы загрузиться. ", "",0,0,DIALOG_STYLE_MSGBOX,0},
{31, "\nВ появившемся окне выбиришь кол-во груза. Чем больше ты укажешь, тем дольше время загрузки/разгрузки.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{31, "\nМожешь ввести команду /trafic, чтобы увидеть все маршруты по данному виду прицепов.", "Доставить первый груз",32,0,DIALOG_STYLE_MSGBOX,1000},//14500
{32, "Вы сдали первый груз и решили промочить горло. \n- Ну что, до встречи. Кстати, тут недалеко есть замечательный бар", "",0,0,DIALOG_STYLE_MSGBOX,0},
{32, "\nгде собираются байкеры и дальнобойщики под названием 'Pump Bar', \nвы долго не думая отправились туда.", "Найти Бар", 33,0,DIALOG_STYLE_MSGBOX,1000},//15500
{33, "Возле бара к вам подошёл человек средних лет в кепке с надписью TRUCKER. \n— Здорова приятель, подбросишь до Порта на Корабль? ", "",0,0,DIALOG_STYLE_MSGBOX,0},
{33, "\n— Нет проблем, только счас содовой куплю и можем отправляться. - ответили вы.\n— Решил попытать счастья в наших краях?", "",0,0,DIALOG_STYLE_MSGBOX,0},
{33, "\n— Да, вот приехал в Сан-Андреас, чтобы насладиться бескрайними просторами, \nдесяткой городков, шикарными тачками и, ", "",0,0,DIALOG_STYLE_MSGBOX,0},
{33, "что само собой, разумеется, \nвлиться в славные ряды американских тракеров и сполна изведать «американской мечты»", "Промочить горло",34,0,DIALOG_STYLE_MSGBOX,1000},//16500
{34, "Вы вышли из бара и направились к тягачу.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{34, "\n— Я смотрю ты машину себе купил. Linerunner 88 года. Отличный трехосный тягач. Едет он конечно не так быстро,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{34, "\nкак хотелось бы, а вот на поворотах просто АС. Шикарная устойчивость. Кстати, если задумаешь лодку купить,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{34, "\n свяжись по телефону с дилером /cardealer. Он скажет куда подъехать или сам тебя туда отвезёт.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{34, "\nПравила нарушать не советую, менты у нас строгие. Если потребуют - тормози, а то и подстрелить могут.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{34, "\nВ автосалоне машины дорого продают, зато без обмана. Поехали покажу, где можно по дешевле купить.", "Добраться до Паркинга",35,0,DIALOG_STYLE_MSGBOX,100},//16600
{35, "— Вот тут машины по дешевле. \nПравда может битая оказаться, ", "",0,0,DIALOG_STYLE_MSGBOX,0},
{35, "\nа может в угоне числиться. \nТы сходи посмотри, а я тебя тут подожду.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{35, "\nКак вернешься отправляйся на АЗС, помеченную красным маркером на радаре.", "Добраться до АЗС",36,0,DIALOG_STYLE_MSGBOX,1000},//17600
{36, "— Заправку слева видишь? \nОни под номерами все. \nЕсли надумаешь бензин с топливных компаний цистернами возить,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{36, "\nто там тебе номер заправки укажут. \nПлатят много, но груз опасный, \nда и машины на тягач сменить придётся.", "Добраться до СТО",37,0,DIALOG_STYLE_MSGBOX,1000},//18600
{37, "— Это наше СТО. \nМашину подлатает исправно. \nЕсли захочешь, то и прибамбасы всякие установят. \nНе задаром конечно.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{37, "\nЕсли не дай бог на трассе влетишь \n- вызывай механиков. \nКогда захочешь избавиться от машины - приезжай сюда.", "Узнать про базу с алмазами",38,0,DIALOG_STYLE_MSGBOX,100},//18700
{38, "1. А что тут за база с алмазами? Говорят за рейс машину окупишь. - спросили Вы.", "Узнать про базу с алмазами",39,0,DIALOG_STYLE_MSGBOX,100},//18800
{39, "— Это алмазный комбинат в горах за перевалом. \nБез заказа туда не суйся, \nтам блок-пост единственную дорогу перекрывает.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{39, "\nМашину может и окупишь, но и риск не малый. \nБратки у нас шалят. Груз могут расстрелять и тебя покалечить. \nХодили слухи,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{39, "что есть где то ещё одна дорога через заброшенный туннель. \nТолько ни кто эту дорогу пока не нашёл.", "Узнать про базу с алмазами",10,0,DIALOG_STYLE_MSGBOX,100},//18900
{40, "— Дааа, судя по всему, проблем с деньгами у тебя наблюдается очень большие. Могу наивно предположить,", "",0,0,DIALOG_STYLE_MSGBOX,0},
{40, "\nчто тебе необходимо получить выгодный контракт на перевозку.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{40, "\nА я уезжаю, вдруг тебе больше повезёт, накопишь денег, фирму свою откроешь.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{40, "\nЕзжай в Порт, покажу где заказы брать.", "Добраться до Порта",41,0,DIALOG_STYLE_MSGBOX,100},//19000
{41, "— Видишь знак доллар справа? Это бизнес. \nТакие есть в каждом городе. \nЗагрузишь импортное сырьё и везёшь на склад.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{41, "\nНу вот и приехали. Спасибо. Удачи!", "Добраться до склада",42,0,DIALOG_STYLE_MSGBOX,1000},//20000
{42, "— Сейчас по рации передали, \nчто якобы возле Рыбной Лагуны стоит фура с грузом $4000000. \nПравда это или нет не знаю.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{42, "\nМожет быть съездишь и проверишь?", "Найти Рыбную Лагуну",43,0,DIALOG_STYLE_MSGBOX,100},//20100
{43, "Приехав в Рыбную Лагуну вы увидели сидящего на пирсе старого бездомного человека.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{43, "\nОн поведал вам, что  болен раком лёгких. Опухоль образовалась из-за курения.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{43, "\nСпасти его может только одно средство, но вот чтобы его ", "",0,0,DIALOG_STYLE_MSGBOX,0},
{43, "\nизготовить надо обратиться за помощью в Гуманитарное медицинское бюро.", "",0,0,DIALOG_STYLE_MSGBOX,0},
{43, "\nВы решили ему помочь. Отправляйся в Гуманитарное медицинское бюро", "Найти Гуманитарное медицинское бюро",0,0,DIALOG_STYLE_MSGBOX,1000}//21100
};
#define MAX_MISS_TRANSITION 43
enum transinfo2
{
	transused,//к какому диалогу относится
	Float: lX,//координаты чекпоинта или точки при проверке срабатывания колбека
	Float: lY,
	Float: lZ,
	tCallback,//событие которое будет вызываться
	tMoney//проверка на наличие денег
};
new CheckMission[MAX_MISS_TRANSITION][transinfo2] = {
{1, 1103.8423,-1750.0035,13.5630, PlayerEnterCheckpoint, 0},//маркер на тачки
{2, 1081.3185,-1697.6018,13.5469, PlayerEnterCheckpoint, 0},//0//маркер на магазин одежды
{3, 161.3440,-96.0010,1001.8047, PlayerInteriorChange, 0},
{4, 1352.3679,-1759.1234,13.5078, PlayerEnterCheckpoint, 0},//маркер на магазин 24/7
{5, -25.8979,-187.3125,1003.5469, PlayerInteriorChange, 0},
{6, 2731.6685,-2416.8745,13.6278, PlayerEnterCheckpoint, 0},//маркер на грузчика
{7, 2127.5701,-2275.1938,20.6719, PlayerGiveMoney, 1500},//координаты кассы грузчиков
{8, 2728.0933,-1834.9763,10.3494, PlayerEnterCheckpoint, 0},//маркер на стадион
{9, -1398.99,-200.72,1043.0, PlayerEnterRaceCheckpoint, 2000},//координаты последнего чекпоинта
{10, 1763.8461,-1951.2893,14.1096, PlayerEnterCheckpoint, 0},//маркер на вокзал ЛС
{11, -1983.7242,138.2387,27.6875, PlayerEnterCheckpoint, 0},//маркер на вокзал CФ
{12, -1216.0327,-1055.8462,128.7905, PlayerEnterCheckpoint, 0},//маркер на ферму
{13, -1210.1460,-1043.3667,128.3897, PlayerPickUpPickup, 5000},//Заработать до $5000 на ферме
{14, -1983.7242,138.2387,27.6875, PlayerEnterCheckpoint, 0},//маркер на вокзал CФ
{15, -2426.2612,338.0038,37.0000, PlayerEnterCheckpoint, 0},//маркер на Мэрию
{16, 390.1595,173.7057,1008.3828, PlayerInteriorChange, 0},//координаты выхода из Мэрии
{17, -1663.8074,1207.7589,7.2546, PlayerEnterCheckpoint, 0},//маркер на Автосалон
{18, -1663.3733,1215.6606,8.3688, PlayerEnterVehicle, 0},//Покупка авто
//{19, -1663.3733,1215.6606,8.3688, PlayerKeyStateChange, 0},//Завести двигатель
{19, -1630.1736,1207.9816,7.0391, PlayerEnterCheckpoint, 0},//Завести двигатель
{20, 0.0000,0.0000,0.0000,              DialogResponse, 0},//19//Случайное знакомство
{21, -2442.7144,740.6198,35.6217, PlayerEnterCheckpoint, 0},//20//маркер на Магазин 24/7
//{22, -2442.7144,740.6198,35.6217, PlayerExitVehicle, 0},//Парковка авто
{22, -2442.7144,740.6198,35.6217, PlayerKeyStateChange, 0},//Парковка авто
//{23, -30.1156,-28.2309,1003.5573, PlayerExitedMenu, 0},//Покупка Антирадара и Противоугонки
{23, -27.3505,-30.6117,1003.5573, PlayerInteriorChange, 0},//Покупка Антирадара и Противоугонки
//{24, -27.3505,-30.6117,1003.5573, PlayerInteriorChange, 0},//Сесть в авто
{24, 0.0000,0.0000,0.0000, PlayerEnterVehicle, 0},//Сесть в авто
{25, -2625.3300,1412.5000,7.0998, PlayerEnterCheckpoint, 0},//маркер на Джиззи
{26, -2637.3000,1402.5000,906.5000, PlayerInteriorChange, 0},//Выпить вина
{27, -1471.5114,1863.6404,32.6328, PlayerEnterCheckpoint, 0},//маркер на АЗС-10
{28, -53.8978,1188.7588,19.3594, PlayerEnterCheckpoint, 0},//маркер на Ресторан Форт Карсон
{29, 452.3929,-18.2142,1001.1328, PlayerInteriorChange, 0},
{30, 273.3636,1349.4569,10.5859, PlayerEnterCheckpoint, 0},//маркер на прицепы
{31, -18.9624,-270.4885,5.4297, PlayerEnterCheckpoint, 0},//маркер на Склад
{32, 681.6571,-473.8746,16.5363, PlayerEnterCheckpoint, 0},//маркер на Pump Bar
//{33, 681.5111,-454.3947,-25.6172, PlayerExitedMenu, 0},//"Промочить горло"
{33, 681.4942,-446.3889,-25.6098, PlayerInteriorChange, 0},//"Промочить горло"
{34, 2046.2839,2470.2834,11.4260, PlayerEnterCheckpoint, 0},//маркер на паркинг
{35, -100.4386,-1130.4589,1.7347, PlayerEnterCheckpoint, 0},//маркер на АЗС-3
{36, -142.3684,-1240.2880,3.3054, PlayerEnterCheckpoint, 0},//маркер на СТО
{37, 0.0000,0.0000,0.0000,              DialogResponse, 0},//Узнать про базу с алмазами
{38, 0.0000,0.0000,0.0000,              DialogResponse, 0},//Узнать про базу с алмазами
{39, 0.0000,0.0000,0.0000,              DialogResponse, 0},//Узнать про базу с алмазами
{40, 2731.6685,-2416.8745,13.6278, PlayerEnterCheckpoint, 0},//маркер на Порт
{41, -18.9624,-270.4885,5.4297, PlayerEnterCheckpoint, 0},//маркер на Склад
{42, 2142.0679,-77.0930,3.4356, PlayerEnterCheckpoint, 0},//маркер на Рыбную Лагуну
{43, 1381.0413,-1088.8511,27.3906, PlayerEnterCheckpoint, 0}//маркер на квест Рыбалки
};
#endif
*/




stock adventure_OnPlayerConnect(playerid)//AdventureInit(playerid)
{//вызывается из OnPlayerInit: OnPlayerConnect и OnPlayerDisconnect
	///для квестов начало
	NextStepOK[playerid] = 0;
	gInAdventure[playerid] = 0;
	NextStepCancel[playerid] = 0;
	BackStep[playerid] = 0;
	locpos[playerid] = 0;
	transpos[playerid] = 0;
	//Money[playerid] = 0;
	pvar[playerid][1] = 0;
	pvar[playerid][2] = 0;
	pvar[playerid][3] = 0;
	pvar[playerid][4] = 0;
	pvar[playerid][5] = 0;
	pvar[playerid][6] = random(3);
	pvar[playerid][7] = 0;
	pvar[playerid][8] = 0;
	pvar[playerid][9] = 0;
	pvar[playerid][10] = 0;
	pvar[playerid][11] = 0;
	pvar[playerid][12] = 0;
	pvar[playerid][13] = 0;
	pvar[playerid][14] = 0;
	pvar[playerid][15] = 10000;//3000 максимальный размер выигрыша
	pvar[playerid][16] = 10;//10 кол-во взяток
	//для квестов rонец

	gCheckInMission[playerid] = -1;
	TutTimeCounter[playerid] = 0; gTutorial[playerid] = 0;//для обучения
}

//##############################################################################//
//                                                                              //
//                                    КВЕСТЫ                                    //
//                                                                              //
//##############################################################################//
//для квестов начало
stock adventure_OnDialogResponse(playerid, dialogid, response, listitem, inputtext[])
{
	#pragma unused listitem
	if(dialogid != ADVENTURE_DIALOG) return 1;
	if(!response)
	{
		SetPVarInt(playerid, "gShowDialog", -1);
		if(NextStepCancel[playerid] == 306)
		{
			new dlgitem[5*128];
			new string3[128], string4[128];
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepCancel[playerid]) continue;
				strmid(string3, replaceString(FishLocation[i][locmessage], "<Ranger>", Ranger[playerid]), 0, 128);
			    strmid(string4, replaceString(string3, "<FromPlanet>", FromPlanet[playerid]), 0, 128);
				strcat(dlgitem, string4);
				locpos[playerid] = i;
			}
			NextStepCancel[playerid] = 0;
			NextStepOK[playerid] = 0;
			ShowPlayerDialogEx(playerid, DIALOG100, FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],dlgitem, "OK", "");
			gInAdventure[playerid] = 0;
		}
		return 1;
	}
	SetPVarInt(playerid, "gShowDialog", -1);	
	new msgitem[1792];//14*128
	new string1[128], string2[128], string3[128], string4[128], string5[128];//, string6[128];
	if(gInAdventure[playerid] == 0) return 1;
//format(strings, sizeof(strings), "%d. Location: %d, GotoYes: %d, GotoNo: %d", locpos[playerid], NextStepOK[playerid], FishLocation[locpos[playerid]][locyes], FishLocation[locpos[playerid]][locno]);
//SendClientMessage(playerid, COLOR_RED, strings);
	BackStep[playerid] = NextStepOK[playerid];
	new lH, lM, lS;	gettime(lH,lM,lS); //FixHour(lH);
	if(pvar[playerid][10] > 50 || (lH > 1 && lH < 6)) NextStepOK[playerid] = 398;
	//if(Hour > 1 && Hour < 6) NextStepOK[playerid] = 398;
//==============================================================================
	if( strlen(inputtext) )
	{   //300
		new select;
		for(new j=0; j<MAX_FISH_TRANSITION; j++)
		{	//сканируем есть ли такая локация у локации 315
			if( CheckFishLocation[j][transused] != FishLocation[locpos[playerid]][locyes]) continue;
			if( strval(inputtext) != CheckFishLocation[j][transvariant]) continue;
			select = j;
			NextStepOK[playerid] = CheckFishLocation[j][transyes];
//format(strings, sizeof(strings), "%d. Location: %d, GotoYes: %d, GotoNo: %d", locpos[playerid], NextStepOK[playerid], FishLocation[locpos[playerid]][locyes], FishLocation[locpos[playerid]][locno]);
//SendClientMessage(playerid, COLOR_YELLOW, strings);
			break;
		}
		//------------------------------------------------------------------
		if(	select == 0 || select == 3 || select == 6 || select == 9)
		{
			pvar[playerid][1] -= 2;
			pvar[playerid][3] -= 2;
//format(strings, sizeof(strings), "%d. Location: %d, P1: %d, P2: %d, P3: %d", transpos[playerid], NextStepOK[playerid], pvar[playerid][1], pvar[playerid][2], pvar[playerid][3]);
//SendClientMessage(playerid, COLOR_LIGHTBLUE, strings);
		}
		else if(select == 1 || select == 4 || select == 7 || select == 10)
		{
			pvar[playerid][2] -= 1;
			pvar[playerid][3] -= 1;
//format(strings, sizeof(strings), "%d. Location: %d, P1: %d, P2: %d, P3: %d", transpos[playerid], NextStepOK[playerid], pvar[playerid][1], pvar[playerid][2], pvar[playerid][3]);
//SendClientMessage(playerid, COLOR_LIGHTBLUE, strings);
		}
		if(select == 6 || select == 7 || select == 10)
		{
			pvar[playerid][14] += 1;
//format(strings, sizeof(strings), "%d. Location: %d, P14: %d", transpos[playerid], NextStepOK[playerid], pvar[playerid][14]);
//SendClientMessage(playerid, COLOR_LIGHTBLUE, strings);
		}
		if(select == 12)
		{
			if(pvar[playerid][3] < 1)
			{ NextStepOK[playerid] = 326;	SendClientMessage(playerid, COLOR_GREY, "   У вас нет наживки."); }
			else { pvar[playerid][5] = 1; NextStepOK[playerid] = 328; }
		}
		else if(select == 13)
		{
			if(pvar[playerid][3] < 1) { NextStepOK[playerid] = 326; SendClientMessage(playerid, COLOR_GREY, "   У вас нет наживки.");}
			else { pvar[playerid][5] = 2; NextStepOK[playerid] = 330; }
		}
		else if(select == 14)
		{
			if(pvar[playerid][3] < 1) { NextStepOK[playerid] = 326; SendClientMessage(playerid, COLOR_GREY, "   У вас нет наживки.");}
			else { pvar[playerid][5] = 3; NextStepOK[playerid] = 332; }
		}
		else if(select == 15)
		{
			if(pvar[playerid][3] < 1) { NextStepOK[playerid] = 326; SendClientMessage(playerid, COLOR_GREY, "   У вас нет наживки.");}
			else { pvar[playerid][5] = 0; NextStepOK[playerid] = 334; }
		}
		if(select == 17)
		{
			if(pvar[playerid][14] < 1) { NextStepOK[playerid] = BackStep[playerid]; SendClientMessage(playerid, COLOR_GREY, "   У вас нет взрыв пакета. Повторяю вопрос");}
			else
			{
				pvar[playerid][14] --;
				new rand = random(3);
				if( rand == 0 )
				{
					pvar[playerid][1] = 0; pvar[playerid][2] = 0; pvar[playerid][3] = 0; pvar[playerid][4] = 0;
					NextStepOK[playerid] = 394;
				}
				else //если удачно
				{	NextStepOK[playerid] = 348;	}
			}
		}
		else if(select == 18)
		{
			if(pvar[playerid][1] < 1) { NextStepOK[playerid] = BackStep[playerid]; SendClientMessage(playerid, COLOR_GREY, "   У вас нет пиявок. Повторяю вопрос");}
			else { pvar[playerid][1] -= 1; pvar[playerid][3] -= 1; pvar[playerid][9] = 0; }
		}
		else if(select == 19)
		{
			if(pvar[playerid][2] < 1) { NextStepOK[playerid] = BackStep[playerid]; SendClientMessage(playerid, COLOR_GREY, "   У вас нет тараканов. Повторяю вопрос.");}
			else { pvar[playerid][2] -= 1; pvar[playerid][3] -= 1; pvar[playerid][9] = 1; }
		}
		if(select == 22)
		{
			pvar[playerid][8] = 0;
		}
		else if(select == 23)
		{
			pvar[playerid][8] = 1;
		}
		else  if(select == 24)
		{
			pvar[playerid][8] = 2;
		}
		if(select == 25)
		{
			if(pvar[playerid][3] < 1) { NextStepOK[playerid] = 350; SendClientMessage(playerid, COLOR_GREY, "   У вас нет наживки.");}
			//else { pvar[playerid][1] -= 1; pvar[playerid][3] -= 1; pvar[playerid][9] = 0; }
		}
		else if(select == 26)
		{
			if(pvar[playerid][4] >= 10) { NextStepOK[playerid] = 350; SendClientMessage(playerid, COLOR_GREY, "   Ответ неверный. У вас кол-во рыба больше 10 кг.");}
			else { NextStepOK[playerid] = 354; }
			//else { pvar[playerid][1] -= 1; pvar[playerid][3] -= 1; pvar[playerid][9] = 0; }
		}
		else if(select == 27)
		{
			if(pvar[playerid][4] != 10) { NextStepOK[playerid] = 350; SendClientMessage(playerid, COLOR_GREY, "   Ответ неверный. У вас кол-во рыбы не равно 10 кг.");}
			else { NextStepOK[playerid] = 354; }
			//else { pvar[playerid][1] -= 1; pvar[playerid][3] -= 1; pvar[playerid][9] = 0; }
		}
		else if(select == 28)
		{
			if(pvar[playerid][4] > 0) { NextStepOK[playerid] = 350; SendClientMessage(playerid, COLOR_GREY, "   Ответ неверный. У вас есть рыба.");}
			else { NextStepOK[playerid] = 354; }
			//else { pvar[playerid][1] -= 1; pvar[playerid][3] -= 1; pvar[playerid][9] = 0; }
		}
		else if(select == 29)
		{
			if(pvar[playerid][4] > 10 || pvar[playerid][4] < 1) { NextStepOK[playerid] = 350; SendClientMessage(playerid, COLOR_GREY, "   У вас кол-во рыба больше 10 кг или вообще нет.");}
			/*else if(pvar[playerid][16] != 10)
			{
				pvar[playerid][12] = random(10); //NextStepOK[playerid] = 358;
			}//0+1*/
			else //if(pvar[playerid][16] == 10)
			{
				pvar[playerid][12] = random(10);
			}//1+1 //NextStepOK[playerid] = 360;
		}
		else  if(select == 30)
		{
			if(pvar[playerid][4] <= 10) { NextStepOK[playerid] = 350; SendClientMessage(playerid, COLOR_GREY, "   В таком случаи у вас не останется рыбы для выполнения задания.");}
			else { NextStepOK[playerid] = 390; }
		}
		else  if(select == 31)
		{
			if(pvar[playerid][13] < 1) { NextStepOK[playerid] = 350; SendClientMessage(playerid, COLOR_GREY, "   Ответ неверный. У вас нет ботинка.");}
			else { NextStepOK[playerid] = 352; }
		}
		if(select == 32)
		{
			pvar[playerid][1] += 2;
			pvar[playerid][3] += 2;
		}
		else if(select == 33)
		{
			pvar[playerid][2] += 2;
			pvar[playerid][3] += 2;
		}
		else  if(select == 34)
		{
			pvar[playerid][1] += 1;
			pvar[playerid][2] += 1;
			pvar[playerid][3] += 2;
		}
		if(select == 35)
		{
			if(pvar[playerid][12] > pvar[playerid][16]-1) { NextStepOK[playerid] = 382; pvar[playerid][4] = 0; }
			else
			{
				if(pvar[playerid][12] == 0) NextStepOK[playerid] = 362;
				else if(pvar[playerid][12] == 1) NextStepOK[playerid] = 364;
				else if(pvar[playerid][12] == 2) NextStepOK[playerid] = 366;
				else if(pvar[playerid][12] == 3) NextStepOK[playerid] = 368;
				else if(pvar[playerid][12] == 4) NextStepOK[playerid] = 370;
				else if(pvar[playerid][12] == 5) NextStepOK[playerid] = 372;
				else if(pvar[playerid][12] == 6) NextStepOK[playerid] = 374;
				else if(pvar[playerid][12] == 7) NextStepOK[playerid] = 376;
				else if(pvar[playerid][12] == 8) NextStepOK[playerid] = 378;
				else if(pvar[playerid][12] == 9) NextStepOK[playerid] = 380;
				pvar[playerid][16] -= 1;
			}
		}
		else if(select == 36)
		{//если дошли до последней строки в массиве CheckFishLocation
			if(pvar[playerid][4] < 1) { NextStepOK[playerid] = BackStep[playerid]; SendClientMessage(playerid, COLOR_GREY, "   Ответ неверный. У вас нет рыбы.");}
			if(pvar[playerid][15] >= 3000)
			{
				pvar[playerid][15] -= 3000;//с общих накопленных денег отнять
			}
			else { NextStepOK[playerid] = BackStep[playerid]; SendClientMessage(playerid, COLOR_GREY, "   Ответ неверный. Повторяю вопрос");}
		}
	}
//==============================================================================
	if(NextStepOK[playerid] == 312)
	{
	    //формируем вопрос
		for(new i=0; i<MAX_FISH_LOCATION; i++)
		{
			if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
			strcat(msgitem, FishLocation[i][locmessage]);
			locpos[playerid] = i;
			if(strlen(FishLocation[i][loccaption])) break;
		}
		//формируем варианты ответов
		if(FishLocation[locpos[playerid]][locstyle] == 1)
		{   //если стиль диалога  FishLocation[58][locstyle] == 1
			for(new i=0; i<MAX_FISH_TRANSITION; i++)
			{
				if(CheckFishLocation[i][transused] != FishLocation[ locpos[playerid] ][locyes]) continue;
				strcat(msgitem, CheckFishLocation[i][transmessage]);
				transpos[playerid] = i;
			}
		}
		//NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
		//задаём значение локации перехода
		ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Ok", "");
	}
	else if(NextStepOK[playerid] == 314)
	{
		for(new i=0; i<MAX_FISH_LOCATION; i++)
		{
			if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
			strcat(msgitem, FishLocation[i][locmessage]);
			locpos[playerid] = i;
			if(strlen(FishLocation[i][loccaption])) break;
		}
		//формируем варианты ответов
		if(FishLocation[locpos[playerid]][locstyle] == 1)
		{   //если стиль диалога  FishLocation[58][locstyle] == 1
			//new select = locpos[playerid];
			for(new i=0; i<MAX_FISH_TRANSITION; i++)
			{
				if(CheckFishLocation[i][transused] != FishLocation[locpos[playerid]][locyes]) continue;
				strcat(msgitem, CheckFishLocation[i][transmessage]);
				transpos[playerid] = i;
			}
		}
		//NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
		//задаём значение локации перехода
		ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Ok", "");
	}
	else if(NextStepOK[playerid] == 316)
	{
		pvar[playerid][6] = 2;
		for(new i=0; i<MAX_FISH_LOCATION; i++)
		{
			if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
			strcat(msgitem, FishLocation[i][locmessage]);
			locpos[playerid] = i;
			if(strlen(FishLocation[i][loccaption])) break;
		}
		if(FishLocation[locpos[playerid]][locstyle] == 1)
		{
			for(new i=0; i<MAX_FISH_TRANSITION; i++)
			{
				if(CheckFishLocation[i][transused] != FishLocation[locpos[playerid]][locyes]) continue;
				strcat(msgitem, CheckFishLocation[i][transmessage]);
				transpos[playerid] = i;
			}
		}
		//NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
		ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Ok", "");
	}
	else if(NextStepOK[playerid] == 318)
	{
		for(new i=0; i<MAX_FISH_LOCATION; i++)
		{
			if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
			strcat(msgitem, FishLocation[i][locmessage]);
			locpos[playerid] = i;
			if(strlen(FishLocation[i][loccaption])) break;
		}
		NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
		ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
	}
	else if(NextStepOK[playerid] == 320)
	{   //- Ну как знаешь,
		for(new i=0; i<MAX_FISH_LOCATION; i++)
		{
			if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
			strcat(msgitem, FishLocation[i][locmessage]);
			locpos[playerid] = i;
			if(strlen(FishLocation[i][loccaption])) break;
		}
		NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
		ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
	}
	else if(NextStepOK[playerid] == 322)
	{
		for(new i=0; i<MAX_FISH_LOCATION; i++)
		{
			if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
			strcat(msgitem, FishLocation[i][locmessage]);
			locpos[playerid] = i;
			if(strlen(FishLocation[i][loccaption])) break;
		}
		if(FishLocation[locpos[playerid]][locstyle] == 1)
		{
			for(new i=0; i<MAX_FISH_TRANSITION; i++)
			{
				if(CheckFishLocation[i][transused] != FishLocation[locpos[playerid]][locyes]) continue;
				strcat(msgitem, CheckFishLocation[i][transmessage]);
				transpos[playerid] = i;
			}
		}
		//NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
		ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Ok", "");
	}
	else if(NextStepOK[playerid] == 324)
	{
		pvar[playerid][6] = 2;
		for(new i=0; i<MAX_FISH_LOCATION; i++)
		{
			if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
			strcat(msgitem, FishLocation[i][locmessage]);
			locpos[playerid] = i;
			if(strlen(FishLocation[i][loccaption])) break;
		}
		NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
		ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
	}
	else if(NextStepOK[playerid] == 326)
	{	//Лагуна <ToPlanet>, в котором водится пангасиус, покрыт тиной и плесенью.
		pvar[playerid][10] += 1;
		for(new i=0; i<MAX_FISH_LOCATION; i++)
		{
			if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
		    strmid(string1, replaceString(FishLocation[i][locmessage], "<ToPlanet>", ToPlanet[playerid]), 0, 128);
			strmid(string2, replaceString(string1, "<ToStar>", ToStar[playerid]), 0, 128);
			strmid(string3, replaceString(string2, "<Ranger>", Ranger[playerid]), 0, 128);
		    strmid(string4, replaceString(string3, "<FromPlanet>", FromPlanet[playerid]), 0, 128);
			strmid(string5, replaceString(string4, "<FromStar>", FromStar[playerid]), 0, 128);
			strcat(msgitem, string5);
			locpos[playerid] = i;
			if(strlen(FishLocation[i][loccaption])) break;
		}
		if(FishLocation[locpos[playerid]][locstyle] == 1)
		{
			for(new i=0; i<MAX_FISH_TRANSITION; i++)
			{
				if(CheckFishLocation[i][transused] != FishLocation[locpos[playerid]][locyes]) continue;
				strcat(msgitem, CheckFishLocation[i][transmessage]);
				transpos[playerid] = i;
			}
		}
		//NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
		ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Ok", "");
	}
	else if(NextStepOK[playerid] == 336)
	{
		for(new i=0; i<MAX_FISH_LOCATION; i++)
		{
			if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
			strcat(msgitem, FishLocation[i][locmessage]);
			locpos[playerid] = i;
			if(strlen(FishLocation[i][loccaption])) break;
		}
		if(FishLocation[locpos[playerid]][locstyle] == 1)
		{
			for(new i=0; i<MAX_FISH_TRANSITION; i++)
			{
				if(CheckFishLocation[i][transused] != FishLocation[locpos[playerid]][locyes]) continue;
				strcat(msgitem, CheckFishLocation[i][transmessage]);
				transpos[playerid] = i;
			}
		}
		//NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
		ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Ok", "");
	}
	else if(NextStepOK[playerid] == 338)
	{   //Вы забросили удочку и стали ждать...
		SetPlayerArmedWeapon(playerid, 7);//выбирает кий
		ApplyAnimation(playerid, "SWORD", "sword_part",4.1,0,1,1,0,0);
		pvar[playerid][10] += 1;
		pvar[playerid][12] = random(4);
		//------------------------------------------------------------------
		for(new i=0; i<MAX_FISH_LOCATION; i++)
		{
			if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
		    strmid(string1, replaceString(FishLocation[i][locmessage], "<ToPlanet>", ToPlanet[playerid]), 0, 128);
			strmid(string2, replaceString(string1, "<ToStar>", ToStar[playerid]), 0, 128);
			strmid(string3, replaceString(string2, "<Ranger>", Ranger[playerid]), 0, 128);
		    strmid(string4, replaceString(string3, "<FromPlanet>", FromPlanet[playerid]), 0, 128);
			strmid(string5, replaceString(string4, "<FromStar>", FromStar[playerid]), 0, 128);
			strcat(msgitem, string5);
			locpos[playerid] = i;
			if(strlen(FishLocation[i][loccaption])) break;
		}
		//------------------------------------------------------------------
//format(strings, sizeof(strings), "%d. Location: %d, GotoYes: %d, GotoNo: %d", locpos[playerid], FishLocation[locpos[playerid]][locused], FishLocation[locpos[playerid]][locyes], FishLocation[locpos[playerid]][locno]);
//SendClientMessage(playerid, COLOR_YELLOW, strings);
		if(pvar[playerid][5] == pvar[playerid][6] && pvar[playerid][7] == pvar[playerid][8])
		{
			NextStepOK[playerid] = 344;//FishLocation[locpos[playerid]][locyes];//344
		}
		else if((pvar[playerid][5] != pvar[playerid][6] || pvar[playerid][7] != pvar[playerid][8]) &&
				pvar[playerid][12] == 1 && pvar[playerid][13] == 0)
		{
			NextStepOK[playerid] = 340;//FishLocation[locpos[playerid]][locno];//340
		}
		else
		{
			NextStepOK[playerid] = 342;
		}
		ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
	}
	else if(NextStepOK[playerid] == 340)
	{
		pvar[playerid][13] ++;
		for(new i=0; i<MAX_FISH_LOCATION; i++)
		{
			if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
		    strmid(string1, replaceString(FishLocation[i][locmessage], "<ToPlanet>", ToPlanet[playerid]), 0, 128);
			strmid(string2, replaceString(string1, "<ToStar>", ToStar[playerid]), 0, 128);
			strmid(string3, replaceString(string2, "<Ranger>", Ranger[playerid]), 0, 128);
		    strmid(string4, replaceString(string3, "<FromPlanet>", FromPlanet[playerid]), 0, 128);
			strmid(string5, replaceString(string4, "<FromStar>", FromStar[playerid]), 0, 128);
			strcat(msgitem, string5);
			locpos[playerid] = i;
			if(strlen(FishLocation[i][loccaption])) break;
		}
		if(pvar[playerid][5] == 1) NextStepOK[playerid] = 328;
		else if(pvar[playerid][5] == 2) NextStepOK[playerid] = 330;
		else if(pvar[playerid][5] == 3) NextStepOK[playerid] = 332;
		else if(pvar[playerid][5] == 0) NextStepOK[playerid] = 334;
		ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
	}
	else if(NextStepOK[playerid] == 342)
	{
		for(new i=0; i<MAX_FISH_LOCATION; i++)
		{
			if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
			strcat(msgitem, FishLocation[i][locmessage]);
			locpos[playerid] = i;
			if(strlen(FishLocation[i][loccaption])) break;
		}
		if(pvar[playerid][5] == 1) NextStepOK[playerid] = 328;
		else if(pvar[playerid][5] == 2) NextStepOK[playerid] = 330;
		else if(pvar[playerid][5] == 3) NextStepOK[playerid] = 332;
		else if(pvar[playerid][5] == 0) NextStepOK[playerid] = 334;
		ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
	}
		else if(NextStepOK[playerid] == 344)
		{	//Есть! Это должно быть рыба!
		    if(pvar[playerid][7] == 1 && pvar[playerid][9] == 1) pvar[playerid][11] = 3;
		    else if(pvar[playerid][9] == 0) pvar[playerid][11] = 1;
		  	else pvar[playerid][11] = 2;

		    if(pvar[playerid][6] == 0 && pvar[playerid][7] == 2) { pvar[playerid][6] = 1; pvar[playerid][7] = 0; }
		    else if(pvar[playerid][6] == 1 && pvar[playerid][7] == 2) { pvar[playerid][6] = 2; pvar[playerid][7] = 0; }
		    else if(pvar[playerid][6] == 2 && pvar[playerid][7] == 2) { pvar[playerid][6] = 3; pvar[playerid][7] = 0; }
		    else if(pvar[playerid][6] == 3 && pvar[playerid][7] == 2) { pvar[playerid][6] = 0; pvar[playerid][7] = 0; }
		    else if(pvar[playerid][7] == 0 && pvar[playerid][9] == 1) pvar[playerid][7] += 2;
		    else if(pvar[playerid][7] == 1 && pvar[playerid][9] == 1) pvar[playerid][7] += 1;
		    else if(pvar[playerid][7] < 2 && pvar[playerid][9] == 0) pvar[playerid][7] += 1;
			//------------------------------------------------------------------
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
		}
		else if(NextStepOK[playerid] == 346)
		{   //Вы поймали рыбу весом
		    pvar[playerid][4] += pvar[playerid][11];
		    format(Value[playerid], 10, "%d", pvar[playerid][11]);
			//------------------------------------------------------------------
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
			    strmid(string1, replaceString(FishLocation[i][locmessage], "<Value>", Value[playerid]), 0, 128);
				strcat(msgitem, string1);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			//NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			if(pvar[playerid][5] == 1) NextStepOK[playerid] = 328;
			else if(pvar[playerid][5] == 2) NextStepOK[playerid] = 330;
			else if(pvar[playerid][5] == 3) NextStepOK[playerid] = 332;
			else if(pvar[playerid][5] == 0) NextStepOK[playerid] = 334;
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
		}
		else if(NextStepOK[playerid] == 348)
		{
		    //if(pvar[playerid][14] == 1) pvar[playerid][14] --;
		    //pvar[playerid][14] = 2-pvar[playerid][5] + 2*((pvar[playerid][5] = 1) or (pvar[playerid][5]=3));
		    if(pvar[playerid][5] == 1 || pvar[playerid][5] == 3) pvar[playerid][6] = 2-pvar[playerid][5] + 2;
		    else pvar[playerid][6] = 2-pvar[playerid][5];
		    pvar[playerid][7] = 0;
			//------------------------------------------------------------------
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			//NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			if(pvar[playerid][5] == 1) NextStepOK[playerid] = 328;
			else if(pvar[playerid][5] == 2) NextStepOK[playerid] = 330;
			else if(pvar[playerid][5] == 3) NextStepOK[playerid] = 332;
			else if(pvar[playerid][5] == 0) NextStepOK[playerid] = 334;
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
		}
		else if(NextStepOK[playerid] == 350)
		{
		    //if(pvar[playerid][14] == 1) pvar[playerid][14] --;
		    //pvar[playerid][14] = 2-pvar[playerid][5] + 2*((pvar[playerid][5] = 1) or (pvar[playerid][5]=3));
		    if(pvar[playerid][5] == 1 || pvar[playerid][5] == 3) pvar[playerid][14] = 2-pvar[playerid][5] + 2;
		    else pvar[playerid][14] = 2-pvar[playerid][5];
			//------------------------------------------------------------------
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			if(FishLocation[locpos[playerid]][locstyle] == 1)
			{
				for(new i=0; i<MAX_FISH_TRANSITION; i++)
				{
					if(CheckFishLocation[i][transused] != FishLocation[locpos[playerid]][locyes]) continue;
					strcat(msgitem, CheckFishLocation[i][transmessage]);
					transpos[playerid] = i;
				}
			}
			//NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			if(pvar[playerid][5] == 1) NextStepOK[playerid] = 328;
			else if(pvar[playerid][5] == 2) NextStepOK[playerid] = 330;
			else if(pvar[playerid][5] == 3) NextStepOK[playerid] = 332;
			else if(pvar[playerid][5] == 0) NextStepOK[playerid] = 334;
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Ok", "");
		}
		else if(NextStepOK[playerid] == 352)
		{
			pvar[playerid][13] --;
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			if(FishLocation[locpos[playerid]][locstyle] == 1)
			{
				for(new i=0; i<MAX_FISH_TRANSITION; i++)
				{
					if(CheckFishLocation[i][transused] != FishLocation[locpos[playerid]][locyes]) continue;
					strcat(msgitem, CheckFishLocation[i][transmessage]);
					transpos[playerid] = i;
				}
			}
			//NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Ok", "");
		}
		else if(NextStepOK[playerid] == 354)
		{
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
		}
		else if(NextStepOK[playerid] == 356)
		{
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
			    strmid(string1, replaceString(FishLocation[i][locmessage], "<ToPlanet>", ToPlanet[playerid]), 0, 128);
				strmid(string2, replaceString(string1, "<ToStar>", ToStar[playerid]), 0, 128);
				strmid(string3, replaceString(string2, "<Ranger>", Ranger[playerid]), 0, 128);
			    strmid(string4, replaceString(string3, "<FromPlanet>", FromPlanet[playerid]), 0, 128);
				strmid(string5, replaceString(string4, "<FromStar>", FromStar[playerid]), 0, 128);
				strcat(msgitem, string5);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
		}
		//----------------------------------------------------------------------
		else if(NextStepOK[playerid] == 358)
		{
			pvar[playerid][12] = random(10);
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			if(FishLocation[locpos[playerid]][locstyle] == 1)
			{
				for(new i=0; i<MAX_FISH_TRANSITION; i++)
				{
					if(CheckFishLocation[i][transused] != FishLocation[locpos[playerid]][locyes]) continue;
					strcat(msgitem, CheckFishLocation[i][transmessage]);
					transpos[playerid] = i;
				}
			}
			//NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Ok", "");
		}
		else if(NextStepOK[playerid] == 360)
		{
			pvar[playerid][12] = random(10);
		    format(Value[playerid], 10, "%d", pvar[playerid][16]*1000);
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
			    strmid(string1, replaceString(FishLocation[i][locmessage], "<Value>", Value[playerid]), 0, 128);
				strcat(msgitem, string1);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			if(FishLocation[locpos[playerid]][locstyle] == 1)
			{
				for(new i=0; i<MAX_FISH_TRANSITION; i++)
				{
					if(CheckFishLocation[i][transused] != FishLocation[locpos[playerid]][locyes]) continue;
					strcat(msgitem, CheckFishLocation[i][transmessage]);
					transpos[playerid] = i;
				}
			}
			//NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Ok", "Cancel");
		}
		//----------------------------------------------------------------------
		else if(NextStepOK[playerid] == 362)
		{
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
		}
		else if(NextStepOK[playerid] == 364)
		{
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
		}
		else if(NextStepOK[playerid] == 366)
		{
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
		}
		else if(NextStepOK[playerid] == 368)
		{
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
		}
		else if(NextStepOK[playerid] == 370)
		{
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
		}
		else if(NextStepOK[playerid] == 372)
		{
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
		}
		else if(NextStepOK[playerid] == 374)
		{
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
			    strmid(string1, replaceString(FishLocation[i][locmessage], "<FromStar>", FromStar[playerid]), 0, 128);
				strcat(msgitem, string1);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
		}
		else if(NextStepOK[playerid] == 376)
		{
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
		}
		else if(NextStepOK[playerid] == 378)
		{
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
		}
		else if(NextStepOK[playerid] == 380)
		{
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
		}
		else if(NextStepOK[playerid] == 382)
		{
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
		}
//------------------------------------------------------------------------------
		else if(NextStepOK[playerid] == 388)
		{
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
		}
		else if(NextStepOK[playerid] == 390)
		{
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
		}
		else if(NextStepOK[playerid] == 394)
		{
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "Next", "");
		}
		else if(NextStepOK[playerid] == 396)
		{
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "End", "");
		}
		else if(NextStepOK[playerid] == 398)
		{
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(msgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			NextStepOK[playerid] = 0;
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],msgitem, "End", "");
		}
	return 1;
}

//для квестов начало
stock adventure_OnPlayerPickUp(playerid)
{
	if(GetPVarInt(playerid, "gShowDialog") != -1) return 1;//если диалог не закрыт, то выйти
	new string1[128], string2[128], string3[128], string4[128], string5[128];
	new bigmsgitem[14*128];
	if( IsPlayerInRangeOfPoint(playerid, 2.0, 1381.0413,-1088.8511,27.3906) )//маркер на квест Рыбалки
	{// //Bill Board {old Job Department)
		gInAdventure[playerid] = 1; GPS_OnOff[playerid] = 0;

		strmid(ToPlanet[playerid], "Fisher's", 0, 20);
		strmid(ToStar[playerid], "San Andreas", 0, 20);
		strmid(Ranger[playerid], PlayerName(playerid), 0, 24);
		strmid(FromPlanet[playerid], GetPlayerRanks(playerid), 0, 32);
		strmid(FromStar[playerid], GetPlayerMembers(playerid), 0, 32);

		pvar[playerid][1] = 0;
		pvar[playerid][2] = 0;
		pvar[playerid][3] = 0;
		pvar[playerid][4] = 0;
		pvar[playerid][5] = 0;
		pvar[playerid][6] = random(3);
		pvar[playerid][7] = 0;
		pvar[playerid][8] = 0;
		pvar[playerid][9] = 0;
		pvar[playerid][10] = 0;
		pvar[playerid][11] = 0;
		pvar[playerid][12] = 0;
		pvar[playerid][13] = 0;
		pvar[playerid][14] = 0;
		pvar[playerid][15] = 10000;
		pvar[playerid][16] = 10;

		NextStepOK[playerid] = 300;
		//new string1[128];
		for(new i=0; i<MAX_FISH_LOCATION; i++)
		{
			if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
		    strmid(string1, replaceString(FishLocation[i][locmessage], "<Ranger>", ToPlanet[playerid]), 0, 128);
			strcat(bigmsgitem, string1);
			locpos[playerid] = i;
			if(strlen(FishLocation[i][loccaption])) break;
		}
//ShowPlayerDialogEx(playerid, DIALOG100, DIALOG_STYLE_MSGBOX, "Fishing",bigmsgitem, "OK", "");

		NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
		ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],bigmsgitem, "Accept", "Cancel");
		GameTextForPlayerEx(playerid, "~g~Fishing", 2500, 3);
	}
	else if( IsPlayerInRangeOfPoint(playerid, 2.0, 373.3568,183.6583,1008.3828))
	{  //Administration
		if(NextStepOK[playerid] == 302)
		{
			pvar[playerid][10] = 1;
			//new string1[128], string2[128], string3[128], string4[128], string5[128];
		    //формируем вопрос
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
			    strmid(string1, replaceString(FishLocation[i][locmessage], "<ToPlanet>", ToPlanet[playerid]), 0, 128);
				strmid(string2, replaceString(string1, "<ToStar>", ToStar[playerid]), 0, 128);
				strmid(string3, replaceString(string2, "<Ranger>", Ranger[playerid]), 0, 128);
			    strmid(string4, replaceString(string3, "<FromPlanet>", FromPlanet[playerid]), 0, 128);
				strmid(string5, replaceString(string4, "<FromStar>", FromStar[playerid]), 0, 128);
				strcat(bigmsgitem, string5);
				locpos[playerid] = i;//58 сохраняем позицию последнего элемента в массиве для этой локации
				if(strlen(FishLocation[i][loccaption])) break;
			}
			NextStepCancel[playerid] = FishLocation[locpos[playerid]][locno];
			NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			//задаём значение локации перехода
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],bigmsgitem, "Accept", "Cancel");
		}
		else if(NextStepOK[playerid] == 392)
		{   //КОНЕЦ
			//new string1[128], string2[128];
		    format(Value[playerid], 10, "%d", pvar[playerid][15]);
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
			    strmid(string1, replaceString(FishLocation[i][locmessage], "<Value>", Value[playerid]), 0, 128);
				strmid(string2, replaceString(string1, "<Ranger>", Ranger[playerid]), 0, 128);
				strcat(bigmsgitem, string2);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			GivePlayerMoneyB(ftut, playerid, pvar[playerid][15]);
			PlayerInfo[playerid][pFishLic] = 1;
			NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],bigmsgitem, "End", "");
		}
	}
	else if( IsPlayerInRangeOfPoint(playerid, 2.0, 2164.0403,-103.3415,2.7500))
	{  //ларёк
		if(NextStepOK[playerid] == 304)
		{
			pvar[playerid][10] = 2;
			GivePlayerWeaponEx(playerid, 7, 1);//кий
			//GivePlayerWeaponEx(playerid, 15, 1);//Трость
			//new string1[128], string2[128], string3[128], string4[128], string5[128];
		    //формируем вопрос
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
			    strmid(string1, replaceString(FishLocation[i][locmessage], "<ToPlanet>", ToPlanet[playerid]), 0, 128);
				strmid(string2, replaceString(string1, "<ToStar>", ToStar[playerid]), 0, 128);
				strmid(string3, replaceString(string2, "<Ranger>", Ranger[playerid]), 0, 128);
			    strmid(string4, replaceString(string3, "<FromPlanet>", FromPlanet[playerid]), 0, 128);
				strmid(string5, replaceString(string4, "<FromStar>", FromStar[playerid]), 0, 128);
				strcat(bigmsgitem, string5);
				locpos[playerid] = i;//58 сохраняем позицию последнего элемента в массиве для этой локации
				if(strlen(FishLocation[i][loccaption])) break;
			}
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],bigmsgitem, "Caught", "");
		}
		else if(NextStepOK[playerid] == 326)
		{	//Лагуна <ToPlanet>, в котором водится пангасиус, покрыт тиной и плесенью.
			//new string1[128], string2[128], string3[128], string4[128], string5[128];
			pvar[playerid][10] += 1;
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
			    strmid(string1, replaceString(FishLocation[i][locmessage], "<ToPlanet>", ToPlanet[playerid]), 0, 128);
				strmid(string2, replaceString(string1, "<ToStar>", ToStar[playerid]), 0, 128);
				strmid(string3, replaceString(string2, "<Ranger>", Ranger[playerid]), 0, 128);
			    strmid(string4, replaceString(string3, "<FromPlanet>", FromPlanet[playerid]), 0, 128);
				strmid(string5, replaceString(string4, "<FromStar>", FromStar[playerid]), 0, 128);
				strcat(bigmsgitem, string5);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			if(FishLocation[locpos[playerid]][locstyle] == 1)
			{
				for(new i=0; i<MAX_FISH_TRANSITION; i++)
				{
					if(CheckFishLocation[i][transused] != FishLocation[locpos[playerid]][locyes]) continue;
					strcat(bigmsgitem, CheckFishLocation[i][transmessage]);
					transpos[playerid] = i;
				}
			}
			//NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],bigmsgitem, "Ok", "");
		}
	}
	else if( IsPlayerInRangeOfPoint(playerid, 2.0, -1439.7546,-2100.7080,-6.6824))
	{  //Shady Creeek
		if( pvar[playerid][3] < 10 )
		{   //если наживок меньше
			if( odd_number(random(2)) ) NextStepOK[playerid] = 308;
			else NextStepOK[playerid] = 310;
		}
		else NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];

		if(NextStepOK[playerid] == 308)
		{
			pvar[playerid][1] += 1;
			pvar[playerid][3] += 1;
		    //формируем вопрос
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(bigmsgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;//58 сохраняем позицию последнего элемента в массиве для этой локации
				if(strlen(FishLocation[i][loccaption])) break;
			}
			if( pvar[playerid][3] < 10 )
			{   //если наживок меньше
				if( odd_number(random(2)) ) NextStepOK[playerid] = 308;
				else NextStepOK[playerid] = 310;
			}
			else NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			//задаём значение локации перехода
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],bigmsgitem, "Drip", "");
		}
		else if(NextStepOK[playerid] == 310)
		{
			pvar[playerid][2] += 1;
			pvar[playerid][3] += 1;
		    //формируем вопрос
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(bigmsgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			if( pvar[playerid][3] < 10 )
			{   //если наживок меньше
				if( odd_number(random(2)) ) NextStepOK[playerid] = 308;
				else NextStepOK[playerid] = 310;
			}
			else NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			//задаём значение локации перехода
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],bigmsgitem, "Drip", "");
		}
	}
	else if( IsPlayerInRangeOfPoint(playerid, 2.0, 2005.7971,-37.1993,1.2597))
	{//Fisher's Lagoon северный берег
		if(NextStepOK[playerid] == 328)
		{
			pvar[playerid][10] += 1;
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(bigmsgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			if(FishLocation[locpos[playerid]][locstyle] == 1)
			{
				for(new i=0; i<MAX_FISH_TRANSITION; i++)
				{
					if(CheckFishLocation[i][transused] != FishLocation[locpos[playerid]][locyes]) continue;
					strcat(bigmsgitem, CheckFishLocation[i][transmessage]);
					transpos[playerid] = i;
					if(strlen(FishLocation[i][loccaption])) break;
				}
			}
			//NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],bigmsgitem, "Ok", "");
		}
	}
	else if( IsPlayerInRangeOfPoint(playerid, 2.0, 2101.6453,-104.7360,2.2753))
	{//Fisher's Lagoon восточный берег
		if(NextStepOK[playerid] == 330)
		{
			pvar[playerid][10] += 1;
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(bigmsgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			if(FishLocation[locpos[playerid]][locstyle] == 1)
			{
				for(new i=0; i<MAX_FISH_TRANSITION; i++)
				{
					if(CheckFishLocation[i][transused] != FishLocation[locpos[playerid]][locyes]) continue;
					strcat(bigmsgitem, CheckFishLocation[i][transmessage]);
					transpos[playerid] = i;
					if(strlen(FishLocation[i][loccaption])) break;
				}
			}
			//NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],bigmsgitem, "Ok", "");
		}
	}
	else if( IsPlayerInRangeOfPoint(playerid, 2.0, 2053.2734,-251.4215,2.1429))
	{//Fisher's Lagoon южный берег
		if(NextStepOK[playerid] == 332)
		{
			pvar[playerid][10] += 1;
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(bigmsgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			if(FishLocation[locpos[playerid]][locstyle] == 1)
			{
				for(new i=0; i<MAX_FISH_TRANSITION; i++)
				{
					if(CheckFishLocation[i][transused] != FishLocation[locpos[playerid]][locyes]) continue;
					strcat(bigmsgitem, CheckFishLocation[i][transmessage]);
					transpos[playerid] = i;
					if(strlen(FishLocation[i][loccaption])) break;
				}
			}
			//NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],bigmsgitem, "Ok", "");
		}
	}
	else if( IsPlayerInRangeOfPoint(playerid, 2.0, 1896.5764,-112.1714,16.9377))
	{//Fisher's Lagoon западный берег
		if(NextStepOK[playerid] == 334)
		{
			pvar[playerid][10] += 1;
			for(new i=0; i<MAX_FISH_LOCATION; i++)
			{
				if(FishLocation[i][locused] != NextStepOK[playerid]) continue;
				strcat(bigmsgitem, FishLocation[i][locmessage]);
				locpos[playerid] = i;
				if(strlen(FishLocation[i][loccaption])) break;
			}
			if(FishLocation[locpos[playerid]][locstyle] == 1)
			{
				for(new i=0; i<MAX_FISH_TRANSITION; i++)
				{
					if(CheckFishLocation[i][transused] != FishLocation[locpos[playerid]][locyes]) continue;
					strcat(bigmsgitem, CheckFishLocation[i][transmessage]);
					transpos[playerid] = i;
				}
			}
			//NextStepOK[playerid] = FishLocation[locpos[playerid]][locyes];
			ShowPlayerDialogGap(playerid, ADVENTURE_DIALOG,FishLocation[locpos[playerid]][locstyle],FishLocation[locpos[playerid]][loccaption],bigmsgitem, "Ok", "");
		}
	}
	return 1;
}


//##############################################################################//
//                                                                              //
//                             ИНТЕРАКТИВНОЕ ОБУЧЕНИЕ                           //
//                                                                              //
//##############################################################################//


stock StartTutorial(playerid)//вызывается из OnPlayerSpawn
{
//для обучения начало STEP1
	if(	PlayerInfo[playerid][pTut] == 0 //&& oldinteriorid == 15
		&& ( IsPlayerInRangeOfPoint(playerid, 8.0, 2225.4080,-1150.6694,1025.7969)//Motel Down Floor
		|| IsPlayerInRangeOfPoint(playerid, 8.0, 2193.0728,-1140.4135,1029.7969) //Motel Midle Floor
		|| IsPlayerInRangeOfPoint(playerid, 8.0, 2189.8909,-1181.9744,1033.7896)//Motel Up Floor
		|| IsPlayerInRangeOfPoint(playerid, 10.0, 1154.2461,-1770.4789,16.5938) ) // new spawn
		)
	{  //если колбэк сработал и игрок находится в точке которая задана
		PlayerInfo[playerid][pTut] = 1;
		new loc = -1;
		//----------------------------------------------------------------------
		//собираем текст для данной локации и делаем подстановку по меткам
		new bigmsgitem[1163];//10*128
		for(new i=0; i<MAX_LOCATION; i++)
		{
			if(PlayerInfo[playerid][pTut] != MISSION[i][locused]) continue;
			strcat(bigmsgitem, MISSION[i][locmessage]);
			loc = i;
			if(strlen(MISSION[i][loccaption])) break;//обрываем если дошли до заголовка
		}
		if(strlen(bigmsgitem) > sizeof(bigmsgitem) || strlen(bigmsgitem) <= 0)
		{
			//ИНФОРМИРОВАНИЕ
			//new strings[MAX_STRING];
			format(strings, sizeof(strings), "Error16: Location %s[%d], strlen(bigmsgitem): %d, sizeof(bigmsgitem): %d",
				PlayerName(playerid), playerid, strlen(bigmsgitem), sizeof(bigmsgitem));
			Log(ERROR, strings);
			return 1;
		}
		/*if(strlen(bigmsgitem) <= 0)
		{
			SendClientMessage(playerid, COLOR_GREY, "   FishLocation пуст");
			return 1;
		}*/
		if(loc != -1)
		{
			gTutorial[playerid] = 1;
			gCheckInMission[playerid] = loc;

			new caption[10+55];
			format(caption, sizeof(caption), "%d[%d] %s",
				MISSION[loc][locused], loc,
				MISSION[loc][loccaption]);
			ShowPlayerDialogEx(playerid, MISSION_DIALOG,MISSION[loc][locstyle],caption,bigmsgitem, "Done", "");
		}
	}
//для обучения конец
	return 1;
}

//для обучения начало STEP2
stock tut_OnDialogResponse(playerid, dialogid, response, listitem, inputtext[])//ф-ия постановки задачи
{   //вызывается из OnDialogResponse при нажатии левой кнопки и не должно содержать сразу нового диалога
	#pragma unused listitem
	//#pragma unused inputtext
	if(dialogid != MISSION_DIALOG) return 1;
	if(!response)
	{
		SetPVarInt(playerid, "gShowDialog", -1);
		return 1;
	}
	SetPVarInt(playerid, "gShowDialog", -1);
	if( gTutorial[playerid] == 0) return 1;
	if( gInAdventure[playerid] ) return 1;
	if(PlayerInfo[playerid][pTut] == 0) return 1;
	if(gCheckInMission[playerid] == -1) return 1;
//==============================================================================
//Здесь обрабатываем вводимые значения при стиле DIALOG_STYLE_INPUT
//заново перепроверяем предыдущую локацию
//согласно введённого значения перебиваем следующий шаг
	new line = -1, back = -1;
	for(new j=0; j<MAX_LOCATION; j++)
	{
		if(PlayerInfo[playerid][pTut] != MISSION[j][locused]) continue;	//находим локация где мы сейчас
		if(strval(inputtext) != MISSION[j][transvariant]) continue;	//находим локацию для введённого перехода
		back = j;//корректируем следующий шаг //записываем номер строки из массива MISSION для локиции перехода
		break;
	}
	if(CHECKING == 1)
	{
		//new strings[MAX_STRING];
		format(strings, sizeof(strings), "1. tut_OnDialogResponse %d back(MISSION): %d[%d]. Location: %d, NextLocation: %d, Variant: %d pTut: %d",
				strval(inputtext),
				back, gCheckInMission[playerid],//69[71]
				MISSION[back][locused],
				MISSION[back][locyes],
				MISSION[back][transvariant],
				PlayerInfo[playerid][pTut]);
		SendClientMessage(playerid, COLOR_YELLOW, strings);
	}
//==============================================================================
	DisablePlayerCheckpointEx(playerid);
	for(new j=0; j<MAX_MISS_TRANSITION; j++)
	{   //находим строку из массива CheckMission
		if(PlayerInfo[playerid][pTut] != CheckMission[j][transused]) continue;
		line = j;
		gCheckInMission[playerid] = line;
		break;
	}
	if(line == -1)
	{
		gTutorial[playerid] = 0;
		GPS_OnOff[playerid] = 0;
		return 1;
	}
	if(CheckMission[line][tCallback] == PlayerEnterCheckpoint)
	{
		DisablePlayerCheckpointEx(playerid);
		PlaySoundForPlayer(playerid, SOUND_CHECKPOINT_GREEN);
		SetPlayerCheckpointEx(playerid, CheckMission[line][lX],CheckMission[line][lY],CheckMission[line][lZ], CHECKPOINT_SIZE-1);
	}
	else if(back != -1 && CheckMission[line][tCallback] == DialogResponse)
	{
		//PlayerInfo[playerid][pTut] = MISSION[back][locyes];//записать в pTut номер текщей миссии
		if(CHECKING == 1)
		{
			format(strings, sizeof(strings), "2. tut_OnDialogResponse NextCallback: %d line(CheckMission): %d. transused: %d. pTut: %d",
					CheckMission[line][tCallback],
					line,
					CheckMission[line][transused],
					PlayerInfo[playerid][pTut]);
			SendClientMessage(playerid, COLOR_YELLOW, strings);
		}
		OnPlayerInCheckLocation(playerid, DialogResponse);
		return 1;
	}
	else
	{
		//DisablePlayerCheckpointEx(playerid);
		//gCheckInMission[playerid] = loc;
		//SetPlayerCheckpointEx(playerid, CheckMission[loc][lX],CheckMission[loc][lY],CheckMission[loc][lZ], CHECKPOINT_SIZE);
		//PlaySoundForPlayer(playerid, SOUND_CHECKPOINT_GREEN);
	}
	TextDrawShowChat[playerid] = true;
	if(TextDrawShowChat[playerid] == true)
	{
		PlayerTextDrawHide(playerid, txdCHAT[playerid]);
		PlayerTextDrawSetStringEx(playerid, txdCHAT[playerid], "LD_CHAT:badchat");//Восклицательный знак
		PlayerTextDrawShow(playerid, txdCHAT[playerid]);
		//TextDrawShowChat[playerid] = false;
		//PlayerTextDrawSetSelectable(playerid, txdCHAT[playerid], 1);
	}

	GPS_OnOff[playerid] = 1;
	if(CheckMission[line][lX] != 0.0 && CheckMission[line][lY] != 0.0 && CheckMission[line][lZ] != 0.0)
	{
		SetPlayerRouting(playerid, CheckMission[line][lX],CheckMission[line][lY],CheckMission[line][lZ]);
	}
	if(CHECKING == 1)
	{
		format(strings, sizeof(strings), "2. tut_OnDialogResponse NextCallback: %d line(CheckMission): %d. transused: %d. pTut: %d",
				CheckMission[line][tCallback],
				line,
				CheckMission[line][transused],
				PlayerInfo[playerid][pTut]);
		SendClientMessage(playerid, COLOR_YELLOW, strings);
	}
	return 1;
}

//для обучения начало STEP3
stock OnPlayerInCheckLocation(playerid, callback)//ф-ия обработки события и проверки выполнения задания с начислением бонусов
{   //вызывается из OnPlayerEnterCheckpoint или других колбэков
//new strings[MAX_STRING];
/*format(strings, sizeof(strings), "gShowDialog: %d. gInAdventure: %d. pTut: %d",
		GetPVarInt(playerid, "gShowDialog"),
		gInAdventure[playerid],
		PlayerInfo[playerid][pTut]);
SendClientMessage(playerid, COLOR_YELLOW, strings);*/
//if(!gJobDuty[playerid]) return 1;
	if(GetPVarInt(playerid, "gShowDialog") != -1) return 1;
	if( gTutorial[playerid] == 0) return 1;
	if( gInAdventure[playerid] ) return 1;//если игрок проходит квест рыбалки, то выйти
	if(PlayerInfo[playerid][pTut] == 0) return 1;
	if(gCheckInMission[playerid] == -1) return 1;
	//if(callback == PlayerKeyStateChange && GetPVarInt(playerid, "IsPlayerCheckpoint") == 1) return 1;//чтобы колбек OnPlayerKeyStateChange линий раз не загружался
	if(PlayerInfo[playerid][pJob] == FARMER)//чтобы не шло обучения дальше, пока игрок не сдаст работу
	{//не сработает если OnPlayerInCheckLocation вызовится раньше PlayerInfo[playerid][pJob] = 0;
		return 1;
	}

//определяем где мы находимся
	new line = -1;//номер строки в массиве CheckMission
	for(new j=0; j<MAX_MISS_TRANSITION; j++)
	{	//определяем строки в массиве CheckMission соответствующую текущей локации
		if(PlayerInfo[playerid][pTut] != CheckMission[j][transused]) continue;
//1 == 1
		//если номер миссии совпал с номеров миссии перехода
		line = j;//записали номер строки из массива CheckMission
		break;
	}
	if(CHECKING == 1)
	{
		//new strings[MAX_STRING];
		format(strings, sizeof(strings), "3. CheckLocation Callback: %d[%d]. line(CheckMission): %d[%d]. pTut: %d",
				callback, CheckMission[line][tCallback],
				line, gCheckInMission[playerid],
				PlayerInfo[playerid][pTut]);
		SendClientMessage(playerid, COLOR_YELLOW, strings);
	}
	if(line == -1) return 1;
	//==========================================================================
//проверяем какой сработал колбэк
	if(	CheckMission[line][tCallback] != callback) return 1;//если колбэк сработал и игрок находится в точке которая задана
	if(	PlayerInfo[playerid][pCash] < CheckMission[line][tMoney] && PlayerInfo[playerid][pBank] < CheckMission[line][tMoney]) return 1;
	//если у игрока на момент выполнения задания (вошёл в контрольную точку) нету положенных денег ни на карточке ни на руках
	if(CHECKING == 1)
	{
		//new strings[MAX_STRING];
		format(strings, sizeof(strings), "4. CheckLocation Callback: %d. line(CheckMission): %d. Money: $%d. pTut: %d",
				callback, line,
				CheckMission[line][tMoney],
				PlayerInfo[playerid][pTut]);
		SendClientMessage(playerid, COLOR_YELLOW, strings);
	}
	if(	CheckMission[line][lX] != 0.0 && CheckMission[line][lY] != 0.0 && CheckMission[line][lZ] != 0.0 &&
		!IsPlayerInRangeOfPoint(playerid, 10.0, CheckMission[line][lX],CheckMission[line][lY],CheckMission[line][lZ])  )
	{//[02/12/2012 01:33:56] InRange:0 X:0.0000 Y:0.0000 Z:0.0000
//printf("InRange:%d X:%.4f Y:%.4f Z:%.4f",
//	IsPlayerInRangeOfPoint(playerid, 10.0, CheckMission[line][lX],CheckMission[line][lY],CheckMission[line][lZ]),
//	CheckMission[line][lX],CheckMission[line][lY],CheckMission[line][lZ]);
		return 1;
	}

	//if(CheckMission[line][tCallback] != DialogResponse)
	PlayerInfo[playerid][pTut] ++;//т.е присваивание уже выполнено в else if(back != -1 && CheckMission[loc][tCallback] == DialogResponse)
	//если событие не из DialogResponse, то переходить на следующую миссию

	new bigmsgitem[1280];//10*128
//формируем текст следующей локации
	for(new i=0; i<MAX_LOCATION; i++)
	{//заново сканируем массив
		if(PlayerInfo[playerid][pTut] != MISSION[i][locused]) continue;
		//находим все строки принадлежащие миссии pTut
		strcat(bigmsgitem, MISSION[i][locmessage]);
		line = i;//перебили и записали номер строки из массива MISSION
		if(strlen(MISSION[i][loccaption])) break;//формируем пока не дойдём до заголовка
	}
	SetVehicleVelocity(nCarID[playerid], 0.0, 0.0, 0.0);//SetPlayerVelocity(playerid, 0.0, 0.0, 0.0);

	new caption[70];//11 + 2+2+70
	format(caption, sizeof(caption), "%d[%d]. %s",
		MISSION[line][locused], line,
		MISSION[line][loccaption]);
	if(strlen(bigmsgitem) > sizeof(bigmsgitem) || strlen(bigmsgitem) <= 0)
	{
		//ИНФОРМИРОВАНИЕ
		//new strings[MAX_STRING];
		format(strings, sizeof(strings), "Error: MISSION:'%d[%d]. %s' %s[%d], strlen(bigmsgitem): %d, sizeof(bigmsgitem): %d",
			MISSION[line][locused], line, MISSION[line][loccaption],
		PlayerName(playerid), playerid, strlen(bigmsgitem), sizeof(bigmsgitem));
		Log(ERROR, strings);
		return 1;
	}
	ShowPlayerDialogEx(playerid, MISSION_DIALOG, MISSION[line][locstyle],caption,bigmsgitem, "ok", "");

	if(MISSION[line][locbonus] > 0)
	{//если у данной миссии есть бонус
		if(MISSION[line][locbonus] >= 1000)
		{
			PlayerInfo[playerid][pRespect] += 1;//MISSION[loc][locbonus]/1000;
			SetPlayerShowBattery(playerid, 1, PlayerInfo[playerid][pRespect], 15);//((PlayerInfo[playerid][pLevel]+1)*4) );
			if(MISSION[line][locbonus] == 1000 && PlayerInfo[playerid][pCarLic] == 0) PlayerInfo[playerid][pCarLic] = 1;
		}
		GivePlayerMoneyB(ftut, playerid, MISSION[line][locbonus]);
	}
	gCheckInMission[playerid] = line;//записали номер строки из массива MISSION
	DisablePlayerCheckpointEx(playerid);
	//PlaySoundForPlayer(playerid, SOUND_CHECKPOINT_RED);

	TextDrawShowChat[playerid] = true;
	if(TextDrawShowChat[playerid] == true)
	{
		PlayerTextDrawHide(playerid, txdCHAT[playerid]);
		PlayerTextDrawSetStringEx(playerid, txdCHAT[playerid], "LD_CHAT:thumbup");//галочка
		PlayerTextDrawShow(playerid, txdCHAT[playerid]);
		//TextDrawShowChat[playerid] = false;
		//PlayerTextDrawSetSelectable(playerid, txdCHAT[playerid], 1);
	}

	if(CHECKING == 1)
	{
		////new strings[MAX_STRING];
		format(strings, sizeof(strings), "5. CheckLocation Callback: %d. line(MISSION): %d[%d]. NextLocation: %d. pTut: %d",
				callback,
				line, gCheckInMission[playerid],
				MISSION[line][locused],
				PlayerInfo[playerid][pTut]);
		SendClientMessage(playerid, COLOR_YELLOW, strings);
	}
	return 1;
}//для обучения конец

stock adventure_OneSecondTimers(playerid)
{
	//if(TEST[43] == 0)
	//--------------------------------------------------------------
	//для обучения
	if(	gTutorial[playerid] == 1)
	{
		new loc = gCheckInMission[playerid];
		if(loc >= 0 && loc < MAX_MISS_TRANSITION && GPS_OnOff[playerid] == 1)
		{
			if(CheckMission[loc][lX] != 0.0 && CheckMission[loc][lY] != 0.0 && CheckMission[loc][lZ] != 0.0)
			{
				SetPlayerRouting(playerid, CheckMission[loc][lX],CheckMission[loc][lY],CheckMission[loc][lZ]);
			}
		}
	}
}

